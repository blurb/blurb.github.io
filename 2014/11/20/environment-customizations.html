<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE-edge,chrome=1' http-equiv='X-UA-Compatible'>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <title>
      Environment Customizations
    </title>
    <link href="../../../stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="../../../javascripts/all.js" type="text/javascript"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-283660-36', 'blurb.github.io');
      ga('send', 'pageview');
    </script>
  </head>
  <body class='x2014 x2014_11 x2014_11_20 x2014_11_20_environment-customizations'>
    <header class='header sticky' data-min-height='100' data-starting-height='200'>
      <nav class='top-bar' data-topbar>
        <ul class='title-area'>
          <li class='name'>
            <h3>
                        <a href="/"><img alt="Blurb Engineering Blog" src="../../../images/logo.png" />
              </a>
    
            </h3>
          </li>
        </ul>
        <section class='top-bar-section'>
          <ul class='nav-links'>
            <li>
              <a href="http://www.github.com/blurb">Github</a>
            </li>
            <li>
              <a href="/blog">Blog</a>
            </li>
          </ul>
        </section>
      </nav>
      <div class='row'>
        <div class='columns large-8 large-centered'>
          <h1>Environment Customizations</h1>
        </div>
      </div>
    </header>
    <section id='main'>
      <div class='row'>
        <div class='columns large-12 large-centered'>
          <article>
            <h4 id="environment-customizations">Environment Customizations</h4>
            
            <p>You're at your friend's house, chillin', maybe watching something on the
            TV, when suddenly you're hit with inspiration. "OH MY GOD, THAT'S THE
            PERFECT STARTUP IDEA!" you think. Visions of Sand Hill dance through
            your head as you envision the world changed by your brilliant new idea
            for a social network for crows, but there is one problem. You left your
            computer at home. You ask to borrow your buddy's machine, but you find
            it unusable. You sit there, staring blankly at a command line, filled
            with gibberish.</p>
            
            <p><img alt="Command line gibberish" src="images/2014/11/commandline.png" /></p>
            
            <p>You turn to your friend. "Uhhhh…. how do I get an editor?" A flurry of
            random letters, and you're in vim. But something's wrong. DVORAK!</p>
            
            <p>Has this ever happened to you? If so, you've fallen victim to someone
            else's over-customized environment! But don't despair. I'm here to show
            you some useful ones.</p>
            
            <h4 id="why-customize-or-vanilla-bash-oughtta-be-good-enough-for-everyone">Why Customize? (or, Vanilla Bash Oughtta Be Good Enough For Everyone)</h4>
            
            <p>Three reasons: efficiency, comfort, and developer happiness. All three of
            these come together to let you be more productive. Having an
            environment that you're comfortable in, that empowers you to do things
            more easily, and that removes your pain points, will help you in the
            long run. A well-configured environment will give you two kinds of
            efficiencies:</p>
            
            <p>The first kind of efficiency is the straightforward automation
            efficiency that engineers work all day to create for businesses. It's
            the kind of automation talked about in one of my favourite XKCDs:</p>
            
            <p><a href="http://xkcd.com/1205/"> <img alt="Is it worth the
            time?" src="http://imgs.xkcd.com/comics/is_it_worth_the_time.png" /></a></p>
            
            <p>You might think it is a waste of time to customize your tools. Maybe you
            think you're getting things done fast enough as it is. But you're
            probably blind to just how many times you do a given thing. Even if you
            shave 10 seconds a day off of your interactions with Git, how many times
            do you commit in a day? (hint: it should be a lot). Take, for example,
            my usage graph from <a href="http://www.alfredapp.com/">Alfred</a> (more on this
            later)</p>
            
            <p><img alt="Twenty Times A Day" src="images/2014/11/alfred.png" /></p>
            
            <p>According to the XKCD graph, using Alfred 20 times a day, assuming the
            smallest possible time gain (1 second), entitles me to work on it for
            approximately 10 hours before I break even. Consider, then, that I've
            been carrying most of these customizations with me since college, and
            I've already shaved a <em>full day</em> off of executing programs that the rest
            of you are spending clicking through Finder. </p>
            
            <p>However, the second kind of efficiency is the more important one. I'm
            sure that you've heard of "flow" before.
            <a href="http://en.wikipedia.org/wiki/Flow_(psychology)">Flow</a> is the state of
            mind in which you're fully engaged on the task at hand, bringing to bear
            the full might of your impression mental faculties. Flow is the
            difference between killing an hour on
            <a href="http://reddit.com/r/roombaww">r/roombaww</a> waiting for 5PM, and missing
            your train because woah how'd it get to be 8PM, oh heck did I forget to
            eat dinner again? Flow is where you do your best work, and as an
            engineer, you should prioritize getting into it as much as possible,
            every day. </p>
            
            <p>One of the biggest enemies of flow is interruption. Ask most engineers
            about this, and they're likely to tell you about <a href="http://www.paulgraham.com/makersschedule.html">all the ways in which
            Management interrupts them and wastes their
            time</a>. But this is not
            the most common interruption. The most common interruptions are the
            small ones. The five- or ten-second cognitive delays you have to make in
            tricky situations when you drop out of autopilot and have to think
            "<a href="https://twitter.com/iamdevloper/status/529623481592586242">What's the syntax for ln
            again?</a>".
            Seriously. Every single time I'm making a symlink I have to do the same
            thing:</p>
            
            <p><img alt="Source Target" src="images/2014/11/symlink-syntax.png" /></p>
            
            <p>And then, I <a href="2014/11/cat.jpg">cat</a> both foo and bar
            just to make absolutely sure that they both contain "foo". 
            "That's right. It's source <em>then</em> target. I'll never forget again. Until
            next week.</p>
            
            <p>By customizing your environment, you can remove as many of those
            potential future ln -s's out of your path right now. You can replace
            long, involved commands with shorter, more automatic keystrokes. You
            can make aliases for complex or often-error'd interactions. Each of
            these steps may on its own seem pointless, but the sum of all the
            individual optimizations is a more frictionless working environment. </p>
            
            <h4 id="alright-show-me-what-you-got">Alright. Show Me What You Got</h4>
            
            <p>By now you should be sold on the virtues of making your environment your
            own. By the time you're done with it, it should be as comfortable as
            Homer Simpson's Butt Groove</p>
            
            <p><img alt="Butt Groove" src="images/2014/11/butt-groove.jpg" /></p>
            
            <p>But where should you start? Well, I started by borrowing from my
            friend's customizations, so in the interest of paying it forward, I'll
            share my l33t environment haxxz. </p>
            
            <p>Unless otherwise stated, all of the following customizations are
            available at <a href="http://github.com/eqdw/dotfiles">my Dotfiles repo on
            Github</a></p>
            
            <h4 id="the-command-prompt">The Command Prompt</h4>
            
            <p>I use a custom prompt generator for my prompt. This is primarily because
            implementing it in shell script was too slow. However, this has made it
            portable, and as I've moved from Bash to Zsh to Fish, this has been
            helpful. </p>
            
            <p>My terminal is generated by a program called <a href="http://github.com/eqdw/wunderprompt">Wunderprompt, available on
            my Github</a>. </p>
            
            <p><img alt="Example prompt" src="images/2014/11/example-prompt.png" /></p>
            
            <p>This is an example of my prompt. There is a lot of information packed
            into this.</p>
            
            <p>First, "source". This is the name of the current directory. It is colour
            coded based on which server I'm on. I currently have it set up as
            follows: <span style="color:blue">Blue</span> denotes my work machine.
            <span style="color:yellow">Yellow</span> is my personal laptop. <span style="color:magenta">Magenta</span> is the terminal on my website, and
            everything else defaults to <span style="color:red">Red</span>. Ever
            accidentally run a command on prod? I won't; I can check the colour of
            the path. </p>
            
            <p>The next section is git info. It begins with a nag counter. The red 2h
            means it has been 2 hours since my last commit. This starts as a green 0
            and slowly counts up minutes. At 30 minutes it turns yellow. Two hours,
            red. Above two hours it stops displaying minutes and starts displaying
            the count in hours. And above 24 hours, in days. A friendly reminder to
            commit early and often.</p>
            
            <p>Next, 'env-post', refers to the current branch. This will be * for
            master, and otherwise the branch name. In this case, I'm on the env-post
            branch of our blog repo. The branch name will be green for a clean
            branch, and magenta otherwise.</p>
            
            <p>Speaking of branch cleanliness, env-post is magenta. The reason is the
            next few characters. They give me an at-a-glance idea of the current
            branch status. The D means a file was deleted. The A means a file was
            added. The ? means there are unstaged changes. And the 7 counts the
            total number of changes that a <code>git status</code> would return. </p>
            
            <p>The last element of the prompt is the %. This tells me I'm <em>not</em> a
            superuser. If I was logged in as root, it would be a # instead. It's
            green. This means the last command was successful. If it was not, it
            would be red, and prefixed with the exit code from the failing command.  </p>
            
            <h4 id="shell-customizations">Shell Customizations</h4>
            
            <p>I use the <a href="http://fishshell.com/">Fish shell</a> for my work. This is a
            shell with a much friendlier working environment. On the one hand, this
            means it's not encumbered by 30 years of UNIX baggage. On the other
            hand, it is <em>not</em> Bash compatible, so I often have to debug little
            issues with install scripts. In any case, I have a large number of shell
            modifications , which you can find in ` .config/fish/fish.config ` in my
            dotfiles repo. I'd like to highlight a few of my more common
            optimizations here</p>
            
            <p>Near the top, I have a 'misc' section. It has some useful commands</p>
            
            <p><code>function def</code> Used as <code>% def foo</code>, this does a full text search of the current dir and
            all subdirs for a ruby method definition of the passed in method (in
            this case, 'foo'). Useful to find where some code is defined</p>
            
            <p><code>function pyserv</code> This creates a simple http server in the current
            directory, serving up the files. It has its uses, if nothing else, as an
            easy way to fileshare on a local network. </p>
            
            <p><code>function psag</code> This runs the process list and searches it for a
            given string.</p>
            
            <p><code>the 'u' functions</code> "cd .." is a weird way to go <em>u</em>p one level. "cd
            ../../../../../.." is a weird way to go <em>uuuuuu</em>p six levels</p>
            
            <p><code>tarx</code> and <code>tarc</code> Tar, like ln, is lost arcana, known only to the last
            remaining Level 27 Unix Masters. Well, until I wrote down the most
            common way to <em>c</em>reate and e<em>x</em>tract tarballs</p>
            
            <p><code>function ls</code> I override ls with gnu ls and several custom flags.</p>
            
            <p>Without this:
            <img alt="Boring ls" src="images/2014/11/boring-ls.png" /></p>
            
            <p>With this:
            <img alt="Fun ls" src="images/2014/11/fun-ls.png" /></p>
            
            <h5 id="bundler-and-rails-section">Bundler and rails section</h5>
            
            <p>Most of these commands are shortenings of normal usage. A few stand out</p>
            
            <p><code>function bers</code> and <code>function berc</code> Rails 2 invokves commands via <code>script/foo</code>. Rails 3+
            use <code>rails foo</code>. This is my attempt to harmonize both. </p>
            
            <p><code>function rRg</code> Ever wanted to search for a specific route? Grep the
            output of rake routes</p>
            
            <p><code>function rlc</code> and <code>function rlv</code> Will grep the server output for words
            that indicate controllers and views respectively. Useful for tracking
            down execution in unfamiliar code</p>
            
            <h5 id="git-section">Git section</h5>
            
            <p>There's a lot of writing on the internet about how the basic interface
            to git is mega confusing. I agree. That's why I made my own. Common
            operations get their own three (or sometimes four) -letter shortcuts. My
            normal workflow consists of the following:</p>
            
            <p><code>gcom</code> (git checkout master). <code>gpum</code> (git pull upstream master). <code>gps</code>
            (git push (to my branch)). <code>gcob WT-1234</code> (git checkout -b with the name
            of whatever jira ticket). And so on and so on. </p>
            
            <p>Finally, I have several local customizations for ssh'ing into work
            machines (sorry, the details are secret). I don't type <code>ssh
            username@sillynamingconvention.12.23.32.232.blurb.com</code>, I simply type
            <code>webteam</code>. Takes me straight to our team's staging server. </p>
            
            <h4 id="vim">Vim</h4>
            
            <p>I use Vim as my standard editor, along with Yehuda Katz'
            <a href="https://github.com/carlhuda/janus">Janus</a> framework. I don't use the
            majority of the extensions (I don't even know what they are!) but I'm
            slowly learning them. Most of them are commonsense things that I would
            go looking for anyway. Check it out for details!</p>
            
            <h4 id="alfred">Alfred</h4>
            
            <p>I mentioned above, I use a launcher program called <a href="http://www.alfredapp.com/">Alfred</a>
            to manage most of my gui workflows. At first glance, it looks like
            nothing more than a replacement for OSX's spotlight, but it is much,
            much more. I don't even use it to the full extent; I mainly use it for
            invoking programs, switching windows, and controlling my music. A simple
            tap on ⌘-space brings up the Alfred window, where I can type a few
            characters and it will intelligently fuzzy-match it to recently used
            commands.</p>
            
            <p><img alt="Alfred" src="images/2014/11/alfred-launcher.png" /></p>
            
            <p>I also use it to control my music. By typing 'it' I activate the itunes
            client, which lets me do a bunch of things, most with a single text
            command</p>
            
            <p><img alt="iTunes via Alfred" src="images/2014/11/alfred-itunes.png" /></p>
            
            <p>Alfred comes with a visual scripting environment that lets you make all
            kinds of custom control scripts. Maybe some day I'll make some of them.
            For example, I've a friend who has Alfred scripts to control his Rails
            development environments. It's saved him oodles of time!</p>
            
            <h4 id="chrome">Chrome</h4>
            
            <p>What kind of web developer would I be if I didn't have Chrome
            customizations? I've only a few, and they're only useful in niches, but
            dang if this job doesn't have a ton of niches. </p>
            
            <h6 id="advanced-rest-clienthttpschromegooglecomwebstoredetailadvanced-rest-clienthgmloofddffdnphfgcellkdfbfbjeloo"><a href="https://chrome.google.com/webstore/detail/advanced-rest-client/hgmloofddffdnphfgcellkdfbfbjeloo">Advanced Rest Client</a></h6>
            
            <p>I often need to interact with and debug APIs, but Curl forever eludes
            me. So I got this instead. It's a pretty straightforward REST request
            manager. It lets you set headers with a convenient form, specify HTTP
            verbs, save requests for later. It's pretty useful</p>
            
            <h6 id="edit-this-cookiehttpwwweditthiscookiecom"><a href="http://www.editthiscookie.com/">Edit This Cookie</a></h6>
            
            <p>Speaking of APIs, who hasn't had to debug cross-domain cookies that get
            shared between API calls. What's that, it's only me? :(</p>
            
            <p>This is a very useful cookie inspector/editor that makes it a lot easier
            to debug those rare cookie-based bug</p>
            
            <h6 id="page-rulerhttpschromegooglecomwebstoredetailpage-rulerjlpkojjdgbllmedoapgfodplfhcbnbpn"><a href="https://chrome.google.com/webstore/detail/page-ruler/jlpkojjdgbllmedoapgfodplfhcbnbpn">Page Ruler</a></h6>
            
            <p>Does what it says on the tin. Good for those pixel-perfect jobs</p>
            
            <h6 id="visual-eventhttpschromegooglecomwebstoredetailvisual-eventpbmmieigblcbldgdokdjpioljjninaim"><a href="https://chrome.google.com/webstore/detail/visual-event/pbmmieigblcbldgdokdjpioljjninaim">Visual Event</a></h6>
            
            <p>This extension gives you a button that, once clicked, will highlight
            every html element with events bound to it, and show you the javascript
            that will run on a given event trigger when you mouse over the
            highlights. This is super useful for JS heavy applications.</p>
            
            <h6 id="search-shortcut-abuse">Search Shortcut Abuse</h6>
            
            <p>One final technique I've come across is abusing search shortcuts.
            Nominally a search shortcut is just that: say I type "wikipedia" in the
            url bar, that tells the browser to search wikipedia with whatever else
            I type. But how does it do this? By crafting the correct query URL on
            wikipedia. For instance, searching Google for "test" really just means 
            navigating to http://google.com/search?q=test. Using this lets me abuse
            this functionality on other sites. For instance, I have every repo at
            work set up to let me effortlessly search for a commit on github. If I
            type <code>&lt;repo&gt; &lt;sha&gt;</code> it will expand to <code>http://&lt;internal
            git&gt;/therd/&lt;repo&gt;/commit/&lt;sha&gt;</code>, showing me the commit I want. I've set
            up a similar tool for Jira tickets. </p>
            
            <h4 id="closing-thoughts">Closing thoughts</h4>
            
            <p>You should customize your environment. Customizing your environment can
            speed up common tasks. It can encapsulate complexity into simple things
            that don't break your concentration. It can provide new functionality
            that you can make into a core part of your workflow.</p>
            
            <p>If nothing else, it stops coworkers from borrowing your machine :D</p>
            
            <blockquote>
              <p>Tim is a Software Engineer on the Web Team. He's spent entirely too
            much time customizing his development environments, and hiding cat
            pictures in the work he creates</p>
            </blockquote>
          </article>
        </div>
      </div>
    </section>
    <footer>
      <hr>
      <div class='row'>
        <div class='columns large-12'>
          <ul class='inline-list'>
            <li>
              <a href='http://www.blurb.com'>Blurb</a>
            </li>
            <li>
              <a class='secondary' href='http://www.github.com/blurb'>Github</a>
            </li>
          </ul>
        </div>
      </div>
    </footer>
  </body>
</html>

