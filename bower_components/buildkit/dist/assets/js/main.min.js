var requirejs,require,define;if(function(a){function b(a,b){return r.call(a,b)}function c(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=p.map,q=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,p.nodeIdCompat&&t.test(a[g])&&(a[g]=a[g].replace(t,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||q)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function d(b,c){return function(){return k.apply(a,s.call(arguments,0).concat([b,c]))}}function e(a){return function(b){return c(b,a)}}function f(a){return function(b){n[a]=b}}function g(c){if(b(o,c)){var d=o[c];delete o[c],q[c]=!0,j.apply(a,d)}if(!b(n,c)&&!b(q,c))throw new Error("No "+c);return n[c]}function h(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function i(a){return function(){return p&&p.config&&p.config[a]||{}}}var j,k,l,m,n={},o={},p={},q={},r=Object.prototype.hasOwnProperty,s=[].slice,t=/\.js$/;l=function(a,b){var d,f=h(a),i=f[0];return a=f[1],i&&(i=c(i,b),d=g(i)),i?a=d&&d.normalize?d.normalize(a,e(b)):c(a,b):(a=c(a,b),f=h(a),i=f[0],a=f[1],i&&(d=g(i))),{f:i?i+"!"+a:a,n:a,pr:i,p:d}},m={require:function(a){return d(a)},exports:function(a){var b=n[a];return"undefined"!=typeof b?b:n[a]={}},module:function(a){return{id:a,uri:"",exports:n[a],config:i(a)}}},j=function(c,e,h,i){var j,k,p,r,s,t,u=[],v=typeof h;if(i=i||c,"undefined"===v||"function"===v){for(e=!e.length&&h.length?["require","exports","module"]:e,s=0;s<e.length;s+=1)if(r=l(e[s],i),k=r.f,"require"===k)u[s]=m.require(c);else if("exports"===k)u[s]=m.exports(c),t=!0;else if("module"===k)j=u[s]=m.module(c);else if(b(n,k)||b(o,k)||b(q,k))u[s]=g(k);else{if(!r.p)throw new Error(c+" missing "+k);r.p.load(r.n,d(i,!0),f(k),{}),u[s]=n[k]}p=h?h.apply(n[c],u):void 0,c&&(j&&j.exports!==a&&j.exports!==n[c]?n[c]=j.exports:p===a&&t||(n[c]=p))}else c&&(n[c]=h)},requirejs=require=k=function(b,c,d,e,f){if("string"==typeof b)return m[b]?m[b](c):g(l(b,c).f);if(!b.splice){if(p=b,p.deps&&k(p.deps,p.callback),!c)return;c.splice?(b=c,c=d,d=null):b=a}return c=c||function(){},"function"==typeof d&&(d=e,e=f),e?j(a,b,c,d):setTimeout(function(){j(a,b,c,d)},4),k},k.config=function(a){return k(a)},requirejs._defined=n,define=function(a,c,d){c.splice||(d=c,c=[]),b(n,a)||b(o,a)||(o[a]=[a,c,d])},define.amd={jQuery:!0}}(),function(a,b){function c(a){var b,c,d=J[a]={};for(a=a.split(/\s+/),b=0,c=a.length;c>b;b++)d[a[b]]=!0;return d}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(M,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:jQuery.isNumeric(d)?+d:L.test(d)?jQuery.parseJSON(d):d}catch(f){}jQuery.data(a,c,d)}else d=b}return d}function e(a){for(var b in a)if(("data"!==b||!jQuery.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(a,b,c){var d=b+"defer",e=b+"queue",f=b+"mark",g=jQuery._data(a,d);!g||"queue"!==c&&jQuery._data(a,e)||"mark"!==c&&jQuery._data(a,f)||setTimeout(function(){jQuery._data(a,e)||jQuery._data(a,f)||(jQuery.removeData(a,d,!0),g.fire())},0)}function g(){return!1}function h(){return!0}function i(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function j(a,b,c){if(b=b||0,jQuery.isFunction(b))return jQuery.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return jQuery.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=jQuery.grep(a,function(a){return 1===a.nodeType});if(lb.test(b))return jQuery.filter(b,d,!c);b=jQuery.filter(b,d)}return jQuery.grep(a,function(a){return jQuery.inArray(a,b)>=0===c})}function k(a){var b=pb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a){return jQuery.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function m(a,b){if(1===b.nodeType&&jQuery.hasData(a)){var c,d,e,f=jQuery._data(a),g=jQuery._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)jQuery.event.add(b,c,h[c][d])}g.data&&(g.data=jQuery.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?b.outerHTML=a.outerHTML:"input"!==c||"checkbox"!==a.type&&"radio"!==a.type?"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(jQuery.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){("checkbox"===a.type||"radio"===a.type)&&(a.defaultChecked=a.checked)}function q(a){var b=(a.nodeName||"").toLowerCase();"input"===b?p(a):"script"!==b&&"undefined"!=typeof a.getElementsByTagName&&jQuery.grep(a.getElementsByTagName("input"),p)}function r(a){var b=G.createElement("div");return Db.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function s(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e="width"===b?1:0,f=4;if(d>0){if("border"!==c)for(;f>e;e+=2)c||(d-=parseFloat(jQuery.css(a,"padding"+Pb[e]))||0),"margin"===c?d+=parseFloat(jQuery.css(a,c+Pb[e]))||0:d-=parseFloat(jQuery.css(a,"border"+Pb[e]+"Width"))||0;return d+"px"}if(d=Eb(a,b),(0>d||null==d)&&(d=a.style[b]),Lb.test(d))return d;if(d=parseFloat(d)||0,c)for(;f>e;e+=2)d+=parseFloat(jQuery.css(a,"padding"+Pb[e]))||0,"padding"!==c&&(d+=parseFloat(jQuery.css(a,"border"+Pb[e]+"Width"))||0),"margin"===c&&(d+=parseFloat(jQuery.css(a,c+Pb[e]))||0);return d+"px"}function t(a){return function(b,c){if("string"!=typeof b&&(c=b,b="*"),jQuery.isFunction(c))for(var d,e,f,g=b.toLowerCase().split(cc),h=0,i=g.length;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function u(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===gc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=u(a,c,d,e,h,g)));return!l&&h||g["*"]||(h=u(a,c,d,e,"*",g)),h}function v(a,c){var d,e,f=jQuery.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&jQuery.extend(!0,a,e)}function w(a,b,c,d){if(jQuery.isArray(b))jQuery.each(b,function(b,e){c||Tb.test(a)?d(a,e):w(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==jQuery.type(b))d(a,b);else for(var e in b)w(a+"["+e+"]",b[e],c,d)}function x(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function y(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d,e,f,g,h,i,j,k,l=a.dataTypes,m={},n=l.length,o=l[0];for(d=1;n>d;d++){if(1===d)for(e in a.converters)"string"==typeof e&&(m[e.toLowerCase()]=a.converters[e]);if(g=o,o=l[d],"*"===o)o=g;else if("*"!==g&&g!==o){if(h=g+" "+o,i=m[h]||m["* "+o],!i){k=b;for(j in m)if(f=j.split(" "),(f[0]===g||"*"===f[0])&&(k=m[f[1]+" "+o])){j=m[j],j===!0?i=k:k===!0&&(i=j);break}}i||k||jQuery.error("No conversion from "+h.replace(" "," to ")),i!==!0&&(c=i?i(c):k(j(c)))}}return c}function z(){try{return new a.XMLHttpRequest}catch(b){}}function A(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function B(){return setTimeout(C,0),sc=jQuery.now()}function C(){sc=b}function D(a,b){var c={};return jQuery.each(wc.concat.apply([],wc.slice(0,b)),function(){c[this]=a}),c}function E(a){if(!tc[a]){var b=G.body,c=jQuery("<"+a+">").appendTo(b),d=c.css("display");c.remove(),("none"===d||""===d)&&(pc||(pc=G.createElement("iframe"),pc.frameBorder=pc.width=pc.height=0),b.appendChild(pc),qc&&pc.createElement||(qc=(pc.contentWindow||pc.contentDocument).document,qc.write((jQuery.support.boxModel?"<!doctype html>":"")+"<html><body>"),qc.close()),c=qc.createElement(a),qc.body.appendChild(c),d=jQuery.css(c,"display"),b.removeChild(pc)),tc[a]=d}return tc[a]}function F(a){return jQuery.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var G=a.document,H=a.navigator,I=a.location,jQuery=function(){function c(){if(!jQuery.isReady){try{G.documentElement.doScroll("left")}catch(a){return void setTimeout(c,1)}jQuery.ready()}}var d,e,f,g,jQuery=function(a,b){return new jQuery.fn.init(a,b,d)},h=a.jQuery,i=a.$,j=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,k=/\S/,l=/^\s+/,m=/\s+$/,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,q=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,s=/(webkit)[ \/]([\w.]+)/,t=/(opera)(?:.*version)?[ \/]([\w.]+)/,u=/(msie) ([\w.]+)/,v=/(mozilla)(?:.*? rv:([\w.]+))?/,w=/-([a-z]|[0-9])/gi,x=/^-ms-/,y=function(a,b){return(b+"").toUpperCase()},z=H.userAgent,A=Object.prototype.toString,B=Object.prototype.hasOwnProperty,C=Array.prototype.push,D=Array.prototype.slice,E=String.prototype.trim,F=Array.prototype.indexOf,I={};return jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(a,c,d){var e,f,g,h;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!c&&G.body)return this.context=G,this[0]=G.body,this.selector=a,this.length=1,this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:j.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1])return c=c instanceof jQuery?c[0]:c,h=c?c.ownerDocument||c:G,g=n.exec(a),g?jQuery.isPlainObject(c)?(a=[G.createElement(g[1])],jQuery.fn.attr.call(a,c,!0)):a=[h.createElement(g[1])]:(g=jQuery.buildFragment([e[1]],[h]),a=(g.cacheable?jQuery.clone(g.fragment):g.fragment).childNodes),jQuery.merge(this,a);if(f=G.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=G,this.selector=a,this}return jQuery.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),jQuery.makeArray(a,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return D.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return jQuery.isArray(a)?C.apply(d,a):jQuery.merge(d,a),d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return jQuery.each(this,a,b)},ready:function(a){return jQuery.bindReady(),f.add(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(D.apply(this,arguments),"slice",D.call(arguments).join(","))},map:function(a){return this.pushStack(jQuery.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:C,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||jQuery.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&(jQuery.isPlainObject(e)||(f=jQuery.isArray(e)))?(f?(f=!1,g=d&&jQuery.isArray(d)?d:[]):g=d&&jQuery.isPlainObject(d)?d:{},h[c]=jQuery.extend(k,g,e)):e!==b&&(h[c]=e));return h},jQuery.extend({noConflict:function(b){return a.$===jQuery&&(a.$=i),b&&a.jQuery===jQuery&&(a.jQuery=h),jQuery},isReady:!1,readyWait:1,holdReady:function(a){a?jQuery.readyWait++:jQuery.ready(!0)},ready:function(a){if(a===!0&&!--jQuery.readyWait||a!==!0&&!jQuery.isReady){if(!G.body)return setTimeout(jQuery.ready,1);if(jQuery.isReady=!0,a!==!0&&--jQuery.readyWait>0)return;f.fireWith(G,[jQuery]),jQuery.fn.trigger&&jQuery(G).trigger("ready").off("ready")}},bindReady:function(){if(!f){if(f=jQuery.Callbacks("once memory"),"complete"===G.readyState)return setTimeout(jQuery.ready,1);if(G.addEventListener)G.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",jQuery.ready,!1);else if(G.attachEvent){G.attachEvent("onreadystatechange",g),a.attachEvent("onload",jQuery.ready);var b=!1;try{b=null==a.frameElement}catch(d){}G.documentElement.doScroll&&b&&c()}}},isFunction:function(a){return"function"===jQuery.type(a)},isArray:Array.isArray||function(a){return"array"===jQuery.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):I[A.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==jQuery.type(a)||a.nodeType||jQuery.isWindow(a))return!1;try{if(a.constructor&&!B.call(a,"constructor")&&!B.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||B.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){return"string"==typeof b&&b?(b=jQuery.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):o.test(b.replace(p,"@").replace(q,"]").replace(r,""))?new Function("return "+b)():void jQuery.error("Invalid JSON: "+b)):null},parseXML:function(c){if("string"!=typeof c||!c)return null;var d,e;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&k.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(x,"ms-").replace(w,y)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||jQuery.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:E?function(a){return null==a?"":E.call(a)}:function(a){return null==a?"":a.toString().replace(l,"").replace(m,"")},makeArray:function(a,b){var c=b||[];if(null!=a){var d=jQuery.type(a);null==a.length||"string"===d||"function"===d||"regexp"===d||jQuery.isWindow(a)?C.call(c,a):jQuery.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(F)return F.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if("number"==typeof c.length)for(var f=c.length;f>e;e++)a[d++]=c[e];else for(;c[e]!==b;)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d,e=[];c=!!c;for(var f=0,g=a.length;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof jQuery||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||jQuery.isArray(a));if(j)for(;i>h;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){if("string"==typeof c){var d=a[c];c=a,a=d}if(!jQuery.isFunction(a))return b;var e=D.call(arguments,2),f=function(){return a.apply(c,e.concat(D.call(arguments)))};return f.guid=a.guid=a.guid||f.guid||jQuery.guid++,f},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)jQuery.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&jQuery.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(jQuery(a),c)}):(c.call(a,e),c=null)),c)for(;l>k;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=s.exec(a)||t.exec(a)||u.exec(a)||a.indexOf("compatible")<0&&v.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}jQuery.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof jQuery&&!(d instanceof a)&&(d=a(d)),jQuery.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(G);return a},browser:{}}),jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),e=jQuery.uaMatch(z),e.browser&&(jQuery.browser[e.browser]=!0,jQuery.browser.version=e.version),jQuery.browser.webkit&&(jQuery.browser.safari=!0),k.test(" ")&&(l=/^[\s\xA0]+/,m=/[\s\xA0]+$/),d=jQuery(G),G.addEventListener?g=function(){G.removeEventListener("DOMContentLoaded",g,!1),jQuery.ready()}:G.attachEvent&&(g=function(){"complete"===G.readyState&&(G.detachEvent("onreadystatechange",g),jQuery.ready())}),jQuery}(),J={};jQuery.Callbacks=function(a){a=a?J[a]||c(a):{};var d,e,f,g,h,i,j=[],k=[],l=function(b){var c,d,e,f;for(c=0,d=b.length;d>c;c++)e=b[c],f=jQuery.type(e),"array"===f?l(e):"function"===f&&(a.unique&&n.has(e)||j.push(e))},m=function(b,c){for(c=c||[],d=!a.memory||[b,c],e=!0,f=!0,i=g||0,g=0,h=j.length;j&&h>i;i++)if(j[i].apply(b,c)===!1&&a.stopOnFalse){d=!0;break}f=!1,j&&(a.once?d===!0?n.disable():j=[]:k&&k.length&&(d=k.shift(),n.fireWith(d[0],d[1])))},n={add:function(){if(j){var a=j.length;l(arguments),f?h=j.length:d&&d!==!0&&(g=a,m(d[0],d[1]))}return this},remove:function(){if(j)for(var b=arguments,c=0,d=b.length;d>c;c++)for(var e=0;e<j.length&&(b[c]!==j[e]||(f&&h>=e&&(h--,i>=e&&i--),j.splice(e--,1),!a.unique));e++);return this},has:function(a){if(j)for(var b=0,c=j.length;c>b;b++)if(a===j[b])return!0;return!1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d&&d!==!0||n.disable(),this},locked:function(){return!k},fireWith:function(b,c){return k&&(f?a.once||k.push([b,c]):a.once&&d||m(b,c)),this},fire:function(){return n.fireWith(this,arguments),this},fired:function(){return!!e}};return n};var K=[].slice;jQuery.extend({Deferred:function(a){var b,c=jQuery.Callbacks("once memory"),d=jQuery.Callbacks("once memory"),e=jQuery.Callbacks("memory"),f="pending",g={resolve:c,reject:d,notify:e},h={done:c.add,fail:d.add,progress:e.add,state:function(){return f},isResolved:c.fired,isRejected:d.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return jQuery.Deferred(function(d){jQuery.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c,e=b[0],f=b[1];i[a](jQuery.isFunction(e)?function(){c=e.apply(this,arguments),c&&jQuery.isFunction(c.promise)?c.promise().then(d.resolve,d.reject,d.notify):d[f+"With"](this===i?d:this,[c])}:d[f])})}).promise()},promise:function(a){if(null==a)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({});for(b in g)i[b]=g[b].fire,i[b+"With"]=g[b].fireWith;return i.done(function(){f="resolved"},d.disable,e.lock).fail(function(){f="rejected"},c.disable,e.lock),a&&a.call(i,i),i},when:function(a){function b(a){return function(b){d[a]=arguments.length>1?K.call(arguments,0):b,--h||i.resolveWith(i,d)}}function c(a){return function(b){g[a]=arguments.length>1?K.call(arguments,0):b,i.notifyWith(j,g)}}var d=K.call(arguments,0),e=0,f=d.length,g=new Array(f),h=f,i=1>=f&&a&&jQuery.isFunction(a.promise)?a:jQuery.Deferred(),j=i.promise();if(f>1){for(;f>e;e++)d[e]&&d[e].promise&&jQuery.isFunction(d[e].promise)?d[e].promise().then(b(e),i.reject,c(e)):--h;h||i.resolveWith(i,d)}else i!==a&&i.resolveWith(i,f?[a]:[]);return j}}),jQuery.support=function(){{var b,c,d,e,f,g,h,i,j,k,l,m=G.createElement("div");G.documentElement}if(m.setAttribute("className","t"),m.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],!c||!c.length||!d)return{};e=G.createElement("select"),f=e.appendChild(G.createElement("option")),g=m.getElementsByTagName("input")[0],b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.55/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!G.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==G.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},jQuery.boxModel=b.boxModel="CSS1Compat"===G.compatMode,g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(n){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick")),g=G.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=G.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(k in{submit:1,change:1,focusin:1})j="on"+k,l=j in m,l||(m.setAttribute(j,"return;"),l="function"==typeof m[j]),b[k+"Bubbles"]=l;return h.removeChild(m),h=e=f=m=g=null,jQuery(function(){var c,d,e,f,g,h,j,k,n,o,p,q,r=G.getElementsByTagName("body")[0];r&&(j=1,q="padding:0;margin:0;border:",o="position:absolute;top:0;left:0;width:1px;height:1px;",p=q+"0;visibility:hidden;",k="style='"+o+q+"5px solid #000;",n="<div "+k+"display:block;'><div style='"+q+"0;display:block;overflow:hidden;'></div></div><table "+k+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",c=G.createElement("div"),c.style.cssText=p+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(c,r.firstChild),m=G.createElement("div"),c.appendChild(m),m.innerHTML="<table><tr><td style='"+q+"0;display:none'></td><td>t</td></tr></table>",i=m.getElementsByTagName("td"),l=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",b.reliableHiddenOffsets=l&&0===i[0].offsetHeight,a.getComputedStyle&&(m.innerHTML="",h=G.createElement("div"),h.style.width="0",h.style.marginRight="0",m.style.width="2px",m.appendChild(h),b.reliableMarginRight=0===(parseInt((a.getComputedStyle(h,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof m.style.zoom&&(m.innerHTML="",m.style.width=m.style.padding="1px",m.style.border=0,m.style.overflow="hidden",m.style.display="inline",m.style.zoom=1,b.inlineBlockNeedsLayout=3===m.offsetWidth,m.style.display="block",m.style.overflow="visible",m.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=3!==m.offsetWidth),m.style.cssText=o+p,m.innerHTML=n,d=m.firstChild,e=d.firstChild,f=d.nextSibling.firstChild.firstChild,g={doesNotAddBorder:5!==e.offsetTop,doesAddBorderForTableAndCells:5===f.offsetTop},e.style.position="fixed",e.style.top="20px",g.fixedPosition=20===e.offsetTop||15===e.offsetTop,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",g.subtractsBorderForOverflowNotVisible=-5===e.offsetTop,g.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,a.getComputedStyle&&(m.style.marginTop="1%",b.pixelMargin="1%"!==(a.getComputedStyle(m,null)||{marginTop:0}).marginTop),"undefined"!=typeof c.style.zoom&&(c.style.zoom=1),r.removeChild(c),h=m=c=null,jQuery.extend(b,g))}),b}();var L=/^(?:\{.*\}|\[.*\])$/,M=/([A-Z])/g;jQuery.extend({cache:{},uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?jQuery.cache[a[jQuery.expando]]:a[jQuery.expando],!!a&&!e(a)},data:function(a,c,d,e){if(jQuery.acceptData(a)){var f,g,h,i=jQuery.expando,j="string"==typeof c,k=a.nodeType,l=k?jQuery.cache:a,m=k?a[i]:a[i]&&i,n="events"===c;if(m&&l[m]&&(n||e||l[m].data)||!j||d!==b)return m||(k?a[i]=m=++jQuery.uuid:m=i),l[m]||(l[m]={},k||(l[m].toJSON=jQuery.noop)),("object"==typeof c||"function"==typeof c)&&(e?l[m]=jQuery.extend(l[m],c):l[m].data=jQuery.extend(l[m].data,c)),f=g=l[m],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[jQuery.camelCase(c)]=d),n&&!g[c]?f.events:(j?(h=g[c],null==h&&(h=g[jQuery.camelCase(c)])):h=g,h)}},removeData:function(a,b,c){if(jQuery.acceptData(a)){var d,f,g,h=jQuery.expando,i=a.nodeType,j=i?jQuery.cache:a,k=i?a[h]:h;if(j[k]){if(b&&(d=c?j[k]:j[k].data)){jQuery.isArray(b)||(b in d?b=[b]:(b=jQuery.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;g>f;f++)delete d[b[f]];if(!(c?e:jQuery.isEmptyObject)(d))return}(c||(delete j[k].data,e(j[k])))&&(jQuery.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(jQuery.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null))}}},_data:function(a,b,c){return jQuery.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=jQuery.noData[a.nodeName.toLowerCase()];if(b)return!(b===!0||a.getAttribute("classid")!==b)}return!0}}),jQuery.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=jQuery.data(j),1===j.nodeType&&!jQuery._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;i>k;k++)h=g[k].name,0===h.indexOf("data-")&&(h=jQuery.camelCase(h.substring(5)),d(j,h,l[h]));jQuery._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){jQuery.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",jQuery.access(this,function(c){return c===b?(l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=jQuery.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l):(e[1]=c,void this.each(function(){var b=jQuery(this);b.triggerHandler("setData"+f,e),jQuery.data(this,a,c),b.triggerHandler("changeData"+f,e)}))},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){jQuery.removeData(this,a)})}}),jQuery.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",jQuery._data(a,b,(jQuery._data(a,b)||0)+1))},_unmark:function(a,b,c){if(a!==!0&&(c=b,b=a,a=!1),b){c=c||"fx";var d=c+"mark",e=a?0:(jQuery._data(b,d)||1)-1;e?jQuery._data(b,d,e):(jQuery.removeData(b,d,!0),f(b,c,"mark"))}},queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=jQuery._data(a,b),c&&(!d||jQuery.isArray(c)?d=jQuery._data(a,b,jQuery.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=jQuery.queue(a,b),d=c.shift(),e={};"inprogress"===d&&(d=c.shift()),d&&("fx"===b&&c.unshift("inprogress"),jQuery._data(a,b+".run",e),d.call(a,function(){jQuery.dequeue(a,b)},e)),c.length||(jQuery.removeData(a,b+"queue "+b+".run",!0),f(a,b,"queue"))}}),jQuery.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?jQuery.queue(this[0],a):c===b?this:this.each(function(){var b=jQuery.queue(this,a,c);"fx"===a&&"inprogress"!==b[0]&&jQuery.dequeue(this,a)})},dequeue:function(a){return this.each(function(){jQuery.dequeue(this,a)})},delay:function(a,b){return a=jQuery.fx?jQuery.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function d(){--i||f.resolveWith(g,[g])}"string"!=typeof a&&(c=a,a=b),a=a||"fx";for(var e,f=jQuery.Deferred(),g=this,h=g.length,i=1,j=a+"defer",k=a+"queue",l=a+"mark";h--;)(e=jQuery.data(g[h],j,b,!0)||(jQuery.data(g[h],k,b,!0)||jQuery.data(g[h],l,b,!0))&&jQuery.data(g[h],j,jQuery.Callbacks("once memory"),!0))&&(i++,e.add(d));return d(),f.promise(c)}});var N,O,P,Q=/[\n\t\r]/g,R=/\s+/,S=/\r/g,T=/^(?:button|input)$/i,U=/^(?:button|input|object|select|textarea)$/i,V=/^a(?:rea)?$/i,W=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,X=jQuery.support.getSetAttribute;jQuery.fn.extend({attr:function(a,b){return jQuery.access(this,jQuery.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){jQuery.removeAttr(this,a)})},prop:function(a,b){return jQuery.access(this,jQuery.prop,a,b,arguments.length>1)},removeProp:function(a){return a=jQuery.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(R),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)~f.indexOf(" "+b[g]+" ")||(f+=b[g]+" ");e.className=jQuery.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(R),d=0,e=this.length;e>d;d++)if(f=this[d],1===f.nodeType&&f.className)if(a){for(g=(" "+f.className+" ").replace(Q," "),h=0,i=c.length;i>h;h++)g=g.replace(" "+c[h]+" "," ");f.className=jQuery.trim(g)}else f.className="";return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each(jQuery.isFunction(a)?function(c){jQuery(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=jQuery(this),h=b,i=a.split(R);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&jQuery._data(this,"__className__",this.className),this.className=this.className||a===!1?"":jQuery._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Q," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=jQuery.isFunction(a),this.each(function(d){var f,g=jQuery(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":jQuery.isArray(f)&&(f=jQuery.map(f,function(a){return null==a?"":a+""})),c=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=jQuery.valHooks[f.type]||jQuery.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(S,""):null==d?"":d)}}}),jQuery.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i="select-one"===a.type;if(0>f)return null;for(c=i?f:0,d=i?f+1:h.length;d>c;c++)if(e=h[c],!(!e.selected||(jQuery.support.optDisabled?e.disabled:null!==e.getAttribute("disabled"))||e.parentNode.disabled&&jQuery.nodeName(e.parentNode,"optgroup"))){if(b=jQuery(e).val(),i)return b;g.push(b)}return i&&!g.length&&h.length?jQuery(h[f]).val():g
},set:function(a,b){var c=jQuery.makeArray(b);return jQuery(a).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&c in jQuery.attrFn?jQuery(a)[c](d):"undefined"==typeof a.getAttribute?jQuery.prop(a,c,d):(h=1!==i||!jQuery.isXMLDoc(a),h&&(c=c.toLowerCase(),g=jQuery.attrHooks[c]||(W.test(c)?O:N)),d!==b?null===d?void jQuery.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,""+d),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g,h=0;if(b&&1===a.nodeType)for(d=b.toLowerCase().split(R),f=d.length;f>h;h++)e=d[h],e&&(c=jQuery.propFix[e]||e,g=W.test(e),g||jQuery.attr(a,e,""),a.removeAttribute(X?e:c),g&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(T.test(a.nodeName)&&a.parentNode)jQuery.error("type property can't be changed");else if(!jQuery.support.radioValue&&"radio"===b&&jQuery.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return N&&jQuery.nodeName(a,"button")?N.get(a,b):b in a?a.value:null},set:function(a,b,c){return N&&jQuery.nodeName(a,"button")?N.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!jQuery.isXMLDoc(a),g&&(c=jQuery.propFix[c]||c,f=jQuery.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):U.test(a.nodeName)||V.test(a.nodeName)&&a.href?0:b}}}}),jQuery.attrHooks.tabindex=jQuery.propHooks.tabIndex,O={get:function(a,c){var d,e=jQuery.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?jQuery.removeAttr(a,c):(d=jQuery.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},X||(P={name:!0,id:!0,coords:!0},N=jQuery.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(P[c]?""!==d.nodeValue:d.specified)?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=G.createAttribute(c),a.setAttributeNode(d)),d.nodeValue=b+""}},jQuery.attrHooks.tabindex.set=N.set,jQuery.each(["width","height"],function(a,b){jQuery.attrHooks[b]=jQuery.extend(jQuery.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),jQuery.attrHooks.contenteditable={get:N.get,set:function(a,b,c){""===b&&(b="false"),N.set(a,b,c)}}),jQuery.support.hrefNormalized||jQuery.each(["href","src","width","height"],function(a,c){jQuery.attrHooks[c]=jQuery.extend(jQuery.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),jQuery.support.style||(jQuery.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),jQuery.support.optSelected||(jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),jQuery.support.enctype||(jQuery.propFix.enctype="encoding"),jQuery.support.checkOn||jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(a,b){return jQuery.isArray(b)?a.checked=jQuery.inArray(jQuery(a).val(),b)>=0:void 0}})});var Y=/^(?:textarea|input|select)$/i,Z=/^([^\.]*)?(?:\.(.+))?$/,ab=/(?:^|\s)hover(\.\S+)?\b/,bb=/^key/,cb=/^(?:mouse|contextmenu)|click/,db=/^(?:focusinfocus|focusoutblur)$/,eb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,fb=function(a){var b=eb.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},gb=function(a,b){var c=a.attributes||{};return!(b[1]&&a.nodeName.toLowerCase()!==b[1]||b[2]&&(c.id||{}).value!==b[2]||b[3]&&!b[3].test((c["class"]||{}).value))},hb=function(a){return jQuery.event.special.hover?a:a.replace(ab,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=jQuery._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=jQuery.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof jQuery||a&&jQuery.event.triggered===a.type?b:jQuery.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=jQuery.trim(hb(c)).split(" "),j=0;j<c.length;j++)k=Z.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=jQuery.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=jQuery.event.special[l]||{},n=jQuery.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,quick:f&&fb(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),jQuery.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r=jQuery.hasData(a)&&jQuery._data(a);if(r&&(m=r.events)){for(b=jQuery.trim(hb(b||"")).split(" "),f=0;f<b.length;f++)if(g=Z.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=jQuery.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,p=m[h]||[],k=p.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,l=0;l<p.length;l++)q=p[l],!e&&i!==q.origType||c&&c.guid!==q.guid||j&&!j.test(q.namespace)||d&&d!==q.selector&&("**"!==d||!q.selector)||(p.splice(l--,1),q.selector&&p.delegateCount--,n.remove&&n.remove.call(a,q));0===p.length&&k!==p.length&&(n.teardown&&n.teardown.call(a,j)!==!1||jQuery.removeEvent(a,h,r.handle),delete m[h])}else for(h in m)jQuery.event.remove(a,h+b[f],c,d,!0);jQuery.isEmptyObject(m)&&(o=r.handle,o&&(o.elem=null),jQuery.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(!db.test(q+jQuery.event.triggered)&&(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),e&&!jQuery.event.customEvent[q]||jQuery.event.global[q]))if(c="object"==typeof c?c[jQuery.expando]?c:new jQuery.Event(q,c):new jQuery.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?jQuery.makeArray(d):[],d.unshift(c),m=jQuery.event.special[q]||{},!m.trigger||m.trigger.apply(e,d)!==!1){if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!jQuery.isWindow(e)){for(p=m.delegateType||q,j=db.test(p+q)?e:e.parentNode,k=null;j;j=j.parentNode)o.push([j,p]),k=j;k&&k===e.ownerDocument&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=(jQuery._data(j,"events")||{})[c.type]&&jQuery._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&jQuery.acceptData(j)&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&jQuery.nodeName(e,"a")||!jQuery.acceptData(e)||l&&e[q]&&("focus"!==q&&"blur"!==q||0!==c.target.offsetWidth)&&!jQuery.isWindow(e)&&(k=e[l],k&&(e[l]=null),jQuery.event.triggered=q,e[q](),jQuery.event.triggered=b,k&&(e[l]=k)),c.result}}else{g=jQuery.cache;for(i in g)g[i].events&&g[i].events[q]&&jQuery.event.trigger(c,d,g[i].handle.elem,!0)}}},dispatch:function(c){c=jQuery.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m,n=(jQuery._data(this,"events")||{})[c.type]||[],o=n.delegateCount,p=[].slice.call(arguments,0),q=!c.exclusive&&!c.namespace,r=jQuery.event.special[c.type]||{},s=[];if(p[0]=c,c.delegateTarget=this,!r.preDispatch||r.preDispatch.call(this,c)!==!1){if(o&&(!c.button||"click"!==c.type))for(g=jQuery(this),g.context=this.ownerDocument||this,f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0){for(i={},k=[],g[0]=f,d=0;o>d;d++)l=n[d],m=l.selector,i[m]===b&&(i[m]=l.quick?gb(f,l.quick):g.is(m)),i[m]&&k.push(l);k.length&&s.push({elem:f,matches:k})}for(n.length>o&&s.push({elem:this,matches:n.slice(o)}),d=0;d<s.length&&!c.isPropagationStopped();d++)for(j=s[d],c.currentTarget=j.elem,e=0;e<j.matches.length&&!c.isImmediatePropagationStopped();e++)l=j.matches[e],(q||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))&&(c.data=l.data,c.handleObj=l,h=((jQuery.event.special[l.origType]||{}).handle||l.handler).apply(j.elem,p),h!==b&&(c.result=h,h===!1&&(c.preventDefault(),c.stopPropagation())));return r.postDispatch&&r.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||G,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[jQuery.expando])return a;var c,d,e=a,f=jQuery.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;for(a=jQuery.Event(e),c=g.length;c;)d=g[--c],a[d]=e[d];return a.target||(a.target=e.srcElement||G),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),f.filter?f.filter(a,e):a},special:{ready:{setup:jQuery.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){jQuery.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=jQuery.extend(new jQuery.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?jQuery.event.trigger(e,null,b):jQuery.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},jQuery.event.handle=jQuery.event.dispatch,jQuery.removeEvent=G.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},jQuery.Event=function(a,b){return this instanceof jQuery.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?h:g):this.type=a,b&&jQuery.extend(this,b),this.timeStamp=a&&a.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(a,b)},jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=h;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=h;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h,this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){jQuery.event.special[a]={delegateType:b,bindType:b,handle:function(a){{var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector}return(!e||e!==d&&!jQuery.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),jQuery.support.submitBubbles||(jQuery.event.special.submit={setup:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=jQuery.nodeName(c,"input")||jQuery.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(jQuery.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&jQuery.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.remove(this,"._submit")}}),jQuery.support.changeBubbles||(jQuery.event.special.change={setup:function(){return Y.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(jQuery.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),jQuery.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,jQuery.event.simulate("change",this,a,!0))})),!1):void jQuery.event.add(this,"beforeactivate._change",function(a){var b=a.target;Y.test(b.nodeName)&&!b._change_attached&&(jQuery.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||jQuery.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return jQuery.event.remove(this,"._change"),Y.test(this.nodeName)}}),jQuery.support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){jQuery.event.simulate(b,a.target,jQuery.event.fix(a),!0)};jQuery.event.special[b]={setup:function(){0===c++&&G.addEventListener(a,d,!0)},teardown:function(){0===--c&&G.removeEventListener(a,d,!0)}}}),jQuery.fn.extend({on:function(a,c,d,e,f){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=g;else if(!e)return this;return 1===f&&(h=e,e=function(a){return jQuery().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return jQuery(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this}if("object"==typeof a){for(var f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=g),this.each(function(){jQuery.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return jQuery(this.context).on(a,this.selector,b,c),this},die:function(a,b){return jQuery(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){jQuery.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?jQuery.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||jQuery.guid++,d=0,e=function(c){var e=(jQuery._data(this,"lastToggle"+a.guid)||0)%d;return jQuery._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){jQuery.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},jQuery.attrFn&&(jQuery.attrFn[b]=!0),bb.test(b)&&(jQuery.event.fixHooks[b]=jQuery.event.keyHooks),cb.test(b)&&(jQuery.event.fixHooks[b]=jQuery.event.mouseHooks)}),function(){function a(a,b,c,d,f,g){for(var h=0,i=d.length;i>h;h++){var j=d[h];if(j){var k=!1;for(j=j[a];j;){if(j[e]===c){k=d[j.sizset];break}if(1!==j.nodeType||g||(j[e]=c,j.sizset=h),j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}d[h]=k}}}function c(a,b,c,d,f,g){for(var h=0,i=d.length;i>h;h++){var j=d[h];if(j){var k=!1;for(j=j[a];j;){if(j[e]===c){k=d[j.sizset];break}if(1===j.nodeType)if(g||(j[e]=c,j.sizset=h),"string"!=typeof b){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}j=j[a]}d[h]=k}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),f=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(a,b,c,e){c=c||[],b=b||G;var f=b;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return c;var h,i,j,k,l,n,q,r,t=!0,u=m.isXML(b),v=[],x=a;do if(d.exec(""),h=d.exec(x),h&&(x=h[3],v.push(h[1]),h[2])){k=h[3];break}while(h);if(v.length>1&&p.exec(a))if(2===v.length&&o.relative[v[0]])i=w(v[0]+v[1],b,e);else for(i=o.relative[v[0]]?[b]:m(v.shift(),b);v.length;)a=v.shift(),o.relative[a]&&(a+=v.shift()),i=w(a,i,e);else if(!e&&v.length>1&&9===b.nodeType&&!u&&o.match.ID.test(v[0])&&!o.match.ID.test(v[v.length-1])&&(l=m.find(v.shift(),b,u),b=l.expr?m.filter(l.expr,l.set)[0]:l.set[0]),b)for(l=e?{expr:v.pop(),set:s(e)}:m.find(v.pop(),1!==v.length||"~"!==v[0]&&"+"!==v[0]||!b.parentNode?b:b.parentNode,u),i=l.expr?m.filter(l.expr,l.set):l.set,v.length>0?j=s(i):t=!1;v.length;)n=v.pop(),q=n,o.relative[n]?q=v.pop():n="",null==q&&(q=b),o.relative[n](j,q,u);else j=v=[];if(j||(j=i),j||m.error(n||a),"[object Array]"===g.call(j))if(t)if(b&&1===b.nodeType)for(r=0;null!=j[r];r++)j[r]&&(j[r]===!0||1===j[r].nodeType&&m.contains(b,j[r]))&&c.push(i[r]);else for(r=0;null!=j[r];r++)j[r]&&1===j[r].nodeType&&c.push(i[r]);else c.push.apply(c,j);else s(j,c);return k&&(m(k,f,c,e),m.uniqueSort(c)),c};m.uniqueSort=function(a){if(u&&(h=i,a.sort(u),h))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;f>e;e++)if(h=o.order[e],(g=o.leftMatch[h].exec(a))&&(i=g[1],g.splice(1,1),"\\"!==i.substr(i.length-1)&&(g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c),null!=d))){a=a.replace(o.match[h],"");break}return d||(d="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){for(var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);a&&c.length;){for(h in o.filter)if(null!=(f=o.leftMatch[h].exec(a))&&f[2]){if(k=o.filter[h],l=f[1],g=!1,f.splice(1,1),"\\"===l.substr(l.length-1))continue;if(s===r&&(r=[]),o.preFilter[h])if(f=o.preFilter[h](f,s,d,r,e,t)){if(f===!0)continue}else g=i=!0;if(f)for(n=0;null!=(j=s[n]);n++)j&&(i=k(j,f,n,s),p=e^i,d&&null!=i?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){if(d||(s=r),a=a.replace(o.match[h],""),!g)return[];break}}if(a===q){if(null!=g)break;m.error(a)}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(1===d||9===d||11===d){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(3===d||4===d)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"==typeof b,d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f,g=0,h=a.length;h>g;g++)if(f=a[g]){for(;(f=f.previousSibling)&&1!==f.nodeType;);a[g]=e||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d="string"==typeof b,e=0,f=a.length;if(d&&!l.test(b)){for(b=b.toLowerCase();f>e;e++)if(c=a[e]){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}else{for(;f>e;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(b,d,e){var g,h=f++,i=c;"string"!=typeof d||l.test(d)||(d=d.toLowerCase(),g=d,i=a),i("parentNode",d,h,b,g,e)},"~":function(b,d,e){var g,h=f++,i=c;"string"!=typeof d||l.test(d)||(d=d.toLowerCase(),g=d,i=a),i("previousSibling",d,h,b,g,e)}},find:{ID:function(a,b,c){if("undefined"!=typeof b.getElementById&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;f>e;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a[1]):void 0}},preFilter:{CLASS:function(a,b,c,d,e,f){if(a=" "+a[1].replace(j,"")+" ",f)return a;for(var g,h=0;null!=(g=b[h]);h++)g&&(e^(g.className&&(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(g):c&&(b[h]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=f++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),"~="===a[2]&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(a,b,c,e,f){if("not"===a[1]){if(!((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))){var g=m.filter(a[3],b,c,!0^f);return c||e.push.apply(e,g),!1}a[3]=m(a[3],null,null,b)}else if(o.match.POS.test(a[0])||o.match.CHILD.test(a[0]))return!0;return a},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&"hidden"!==a.type},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if("not"===e){for(var g=b[3],h=0,i=g.length;i>h;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,d,f,g,h,i,j=b[1],k=a;switch(j){case"only":case"first":for(;k=k.previousSibling;)if(1===k.nodeType)return!1;if("first"===j)return!0;k=a;case"last":for(;k=k.nextSibling;)if(1===k.nodeType)return!1;return!0;case"nth":if(c=b[2],d=b[3],1===c&&0===d)return!0;if(f=b[0],g=a.parentNode,g&&(g[e]!==f||!a.nodeIndex)){for(h=0,k=g.firstChild;k;k=k.nextSibling)1===k.nodeType&&(k.nodeIndex=++h);g[e]=f}return i=a.nodeIndex-d,0===c?0===i:i%c===0&&i/c>=0}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return null==d?"!="===f:!f&&m.attr?null!=d:"="===f?e===g:"*="===f?e.indexOf(g)>=0:"~="===f?(" "+e+" ").indexOf(g)>=0:g?"!="===f?e!==g:"^="===f?0===e.indexOf(g):"$="===f?e.substr(e.length-g.length)===g:"|="===f?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];return f?f(a,c,b,d):void 0}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));o.match.globalPOS=p;var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(G.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if("[object Array]"===g.call(a))Array.prototype.push.apply(d,a);else if("number"==typeof a.length)for(var e=a.length;e>c;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;G.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b)?-1:1:a.compareDocumentPosition?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=G.createElement("div"),c="script"+(new Date).getTime(),d=G.documentElement;a.innerHTML="<a name='"+c+"'/>",d.insertBefore(a,d.firstChild),G.getElementById(c)&&(o.find.ID=function(a,c,d){if("undefined"!=typeof c.getElementById&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||"undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b}),d.removeChild(a),d=a=null}(),function(){var a=G.createElement("div");a.appendChild(G.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!=typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),G.querySelectorAll&&!function(){var a=m,b=G.createElement("div"),c="__sizzle__";if(b.innerHTML="<p class='TEST'></p>",!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){m=function(b,d,e,f){if(d=d||G,!f&&!m.isXML(d)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(1===d.nodeType||9===d.nodeType)){if(g[1])return s(d.getElementsByTagName(b),e);if(g[2]&&o.find.CLASS&&d.getElementsByClassName)return s(d.getElementsByClassName(g[2]),e)}if(9===d.nodeType){if("body"===b&&d.body)return s([d.body],e);if(g&&g[3]){var h=d.getElementById(g[3]);if(!h||!h.parentNode)return s([],e);if(h.id===g[3])return s([h],e)}try{return s(d.querySelectorAll(b),e)}catch(i){}}else if(1===d.nodeType&&"object"!==d.nodeName.toLowerCase()){var j=d,k=d.getAttribute("id"),l=k||c,n=d.parentNode,p=/^\s*[+~]/.test(b);k?l=l.replace(/'/g,"\\$&"):d.setAttribute("id",l),p&&n&&(d=d.parentNode);try{if(!p||n)return s(d.querySelectorAll("[id='"+l+"'] "+b),e)}catch(q){}finally{k||j.removeAttribute("id")}}}return a(b,d,e,f)};for(var d in a)m[d]=a[d];b=null}}(),function(){var a=G.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(G.createElement("div"),"div"),d=!1;try{b.call(G.documentElement,"[test!='']:sizzle")}catch(e){d=!0}m.matchesSelector=function(a,e){if(e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!m.isXML(a))try{if(d||!o.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(g){}return m(e,null,null,[a]).length>0}}}(),function(){var a=G.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>",a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length&&(o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){return"undefined"==typeof b.getElementsByClassName||c?void 0:b.getElementsByClassName(a[1])},a=null))}(),m.contains=G.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:G.documentElement.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?"HTML"!==b.nodeName:!1};var w=function(a,b,c){for(var d,e=[],f="",g=b.nodeType?[b]:b;d=o.match.PSEUDO.exec(a);)f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;i>h;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=jQuery.attr,m.selectors.attrMap={},jQuery.find=m,jQuery.expr=m.selectors,jQuery.expr[":"]=jQuery.expr.filters,jQuery.unique=m.uniqueSort,jQuery.text=m.getText,jQuery.isXMLDoc=m.isXML,jQuery.contains=m.contains}();var ib=/Until$/,jb=/^(?:parents|prevUntil|prevAll)/,kb=/,/,lb=/^.[^:#\[\.,]*$/,mb=Array.prototype.slice,nb=jQuery.expr.match.globalPOS,ob={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({find:function(a){var b,c,d=this;if("string"!=typeof a)return jQuery(a).filter(function(){for(b=0,c=d.length;c>b;b++)if(jQuery.contains(d[b],this))return!0
});var e,f,g,h=this.pushStack("","find",a);for(b=0,c=this.length;c>b;b++)if(e=h.length,jQuery.find(a,this[b],h),b>0)for(f=e;f<h.length;f++)for(g=0;e>g;g++)if(h[g]===h[f]){h.splice(f--,1);break}return h},has:function(a){var b=jQuery(a);return this.filter(function(){for(var a=0,c=b.length;c>a;a++)if(jQuery.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?nb.test(a)?jQuery(a,this.context).index(this[0])>=0:jQuery.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d,e=[],f=this[0];if(jQuery.isArray(a)){for(var g=1;f&&f.ownerDocument&&f!==b;){for(c=0;c<a.length;c++)jQuery(f).is(a[c])&&e.push({selector:a[c],elem:f,level:g});f=f.parentNode,g++}return e}var h=nb.test(a)||"string"!=typeof a?jQuery(a,b||this.context):0;for(c=0,d=this.length;d>c;c++)for(f=this[c];f;){if(h?h.index(f)>-1:jQuery.find.matchesSelector(f,a)){e.push(f);break}if(f=f.parentNode,!f||!f.ownerDocument||f===b||11===f.nodeType)break}return e=e.length>1?jQuery.unique(e):e,this.pushStack(e,"closest",a)},index:function(a){return a?"string"==typeof a?jQuery.inArray(this[0],jQuery(a)):jQuery.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?jQuery(a,b):jQuery.makeArray(a&&a.nodeType?[a]:a),d=jQuery.merge(this.get(),c);return this.pushStack(i(c[0])||i(d[0])?d:jQuery.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),jQuery.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return jQuery.dir(a,"parentNode")},parentsUntil:function(a,b,c){return jQuery.dir(a,"parentNode",c)},next:function(a){return jQuery.nth(a,2,"nextSibling")},prev:function(a){return jQuery.nth(a,2,"previousSibling")},nextAll:function(a){return jQuery.dir(a,"nextSibling")},prevAll:function(a){return jQuery.dir(a,"previousSibling")},nextUntil:function(a,b,c){return jQuery.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return jQuery.dir(a,"previousSibling",c)},siblings:function(a){return jQuery.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return jQuery.sibling(a.firstChild)},contents:function(a){return jQuery.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:jQuery.makeArray(a.childNodes)}},function(a,b){jQuery.fn[a]=function(c,d){var e=jQuery.map(this,b,c);return ib.test(a)||(d=c),d&&"string"==typeof d&&(e=jQuery.filter(d,e)),e=this.length>1&&!ob[a]?jQuery.unique(e):e,(this.length>1||kb.test(d))&&jb.test(a)&&(e=e.reverse()),this.pushStack(e,a,mb.call(arguments).join(","))}}),jQuery.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?jQuery.find.matchesSelector(b[0],a)?[b[0]]:[]:jQuery.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!jQuery(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},nth:function(a,b,c){b=b||1;for(var d=0;a&&(1!==a.nodeType||++d!==b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var pb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qb=/ jQuery\d+="(?:\d+|null)"/g,rb=/^\s+/,sb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,tb=/<([\w:]+)/,ub=/<tbody/i,vb=/<|&#?\w+;/,wb=/<(?:script|style)/i,xb=/<(?:script|object|embed|option|style)/i,yb=new RegExp("<(?:"+pb+")[\\s/>]","i"),zb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ab=/\/(java|ecma)script/i,Bb=/^\s*<!(?:\[CDATA\[|\-\-)/,Cb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Db=k(G);Cb.optgroup=Cb.option,Cb.tbody=Cb.tfoot=Cb.colgroup=Cb.caption=Cb.thead,Cb.th=Cb.td,jQuery.support.htmlSerialize||(Cb._default=[1,"div<div>","</div>"]),jQuery.fn.extend({text:function(a){return jQuery.access(this,function(a){return a===b?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(jQuery.isFunction(a))return this.each(function(b){jQuery(this).wrapAll(a.call(this,b))});if(this[0]){var b=jQuery(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(jQuery.isFunction(a)?function(b){jQuery(this).wrapInner(a.call(this,b))}:function(){var b=jQuery(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=jQuery.isFunction(a);return this.each(function(c){jQuery(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=jQuery.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,jQuery.clean(arguments)),a}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||jQuery.filter(a,[c]).length)&&(b||1!==c.nodeType||(jQuery.cleanData(c.getElementsByTagName("*")),jQuery.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&jQuery.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return jQuery.clone(this,a,b)})},html:function(a){return jQuery.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(qb,""):null;if(!("string"!=typeof a||wb.test(a)||!jQuery.support.leadingWhitespace&&rb.test(a)||Cb[(tb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(sb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(jQuery.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return this[0]&&this[0].parentNode?jQuery.isFunction(a)?this.each(function(b){var c=jQuery(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=jQuery(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;jQuery(this).remove(),b?jQuery(b).before(a):jQuery(c).append(a)})):this.length?this.pushStack(jQuery(jQuery.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,f,g,h,i=a[0],j=[];if(!jQuery.support.checkClone&&3===arguments.length&&"string"==typeof i&&zb.test(i))return this.each(function(){jQuery(this).domManip(a,c,d,!0)});if(jQuery.isFunction(i))return this.each(function(e){var f=jQuery(this);a[0]=i.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(h=i&&i.parentNode,e=jQuery.support.parentNode&&h&&11===h.nodeType&&h.childNodes.length===this.length?{fragment:h}:jQuery.buildFragment(a,this,j),g=e.fragment,f=1===g.childNodes.length?g=g.firstChild:g.firstChild){c=c&&jQuery.nodeName(f,"tr");for(var k=0,m=this.length,n=m-1;m>k;k++)d.call(c?l(this[k],f):this[k],e.cacheable||m>1&&n>k?jQuery.clone(g,!0,!0):g)}j.length&&jQuery.each(j,function(a,b){b.src?jQuery.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):jQuery.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Bb,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),jQuery.buildFragment=function(a,b,c){var d,e,f,g,h=a[0];return b&&b[0]&&(g=b[0].ownerDocument||b[0]),g.createDocumentFragment||(g=G),!(1===a.length&&"string"==typeof h&&h.length<512&&g===G&&"<"===h.charAt(0))||xb.test(h)||!jQuery.support.checkClone&&zb.test(h)||!jQuery.support.html5Clone&&yb.test(h)||(e=!0,f=jQuery.fragments[h],f&&1!==f&&(d=f)),d||(d=g.createDocumentFragment(),jQuery.clean(a,g,d,c)),e&&(jQuery.fragments[h]=f?d:1),{fragment:d,cacheable:e}},jQuery.fragments={},jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){jQuery.fn[a]=function(c){var d=[],e=jQuery(c),f=1===this.length&&this[0].parentNode;if(f&&11===f.nodeType&&1===f.childNodes.length&&1===e.length)return e[b](this[0]),this;for(var g=0,h=e.length;h>g;g++){var i=(g>0?this.clone(!0):this).get();jQuery(e[g])[b](i),d=d.concat(i)}return this.pushStack(d,a,e.selector)}}),jQuery.extend({clone:function(a,b,c){var d,e,f,g=jQuery.support.html5Clone||jQuery.isXMLDoc(a)||!yb.test("<"+a.nodeName+">")?a.cloneNode(!0):r(a);if(!(jQuery.support.noCloneEvent&&jQuery.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||jQuery.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h=[];b=b||G,"undefined"==typeof b.createElement&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||G);for(var i,j=0;null!=(i=a[j]);j++)if("number"==typeof i&&(i+=""),i){if("string"==typeof i)if(vb.test(i)){i=i.replace(sb,"<$1></$2>");var l,m=(tb.exec(i)||["",""])[1].toLowerCase(),n=Cb[m]||Cb._default,o=n[0],p=b.createElement("div"),r=Db.childNodes;for(b===G?Db.appendChild(p):k(b).appendChild(p),p.innerHTML=n[1]+i+n[2];o--;)p=p.lastChild;if(!jQuery.support.tbody){var s=ub.test(i),t="table"!==m||s?"<table>"!==n[1]||s?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes;for(g=t.length-1;g>=0;--g)jQuery.nodeName(t[g],"tbody")&&!t[g].childNodes.length&&t[g].parentNode.removeChild(t[g])}!jQuery.support.leadingWhitespace&&rb.test(i)&&p.insertBefore(b.createTextNode(rb.exec(i)[0]),p.firstChild),i=p.childNodes,p&&(p.parentNode.removeChild(p),r.length>0&&(l=r[r.length-1],l&&l.parentNode&&l.parentNode.removeChild(l)))}else i=b.createTextNode(i);var u;if(!jQuery.support.appendChecked)if(i[0]&&"number"==typeof(u=i.length))for(g=0;u>g;g++)q(i[g]);else q(i);i.nodeType?h.push(i):h=jQuery.merge(h,i)}if(c)for(e=function(a){return!a.type||Ab.test(a.type)},j=0;h[j];j++)if(f=h[j],d&&jQuery.nodeName(f,"script")&&(!f.type||Ab.test(f.type)))d.push(f.parentNode?f.parentNode.removeChild(f):f);else{if(1===f.nodeType){var v=jQuery.grep(f.getElementsByTagName("script"),e);h.splice.apply(h,[j+1,0].concat(v))}c.appendChild(f)}return h},cleanData:function(a){for(var b,c,d,e=jQuery.cache,f=jQuery.event.special,g=jQuery.support.deleteExpando,h=0;null!=(d=a[h]);h++)if((!d.nodeName||!jQuery.noData[d.nodeName.toLowerCase()])&&(c=d[jQuery.expando])){if(b=e[c],b&&b.events){for(var i in b.events)f[i]?jQuery.event.remove(d,i):jQuery.removeEvent(d,i,b.handle);b.handle&&(b.handle.elem=null)}g?delete d[jQuery.expando]:d.removeAttribute&&d.removeAttribute(jQuery.expando),delete e[c]}}});var Eb,Fb,Gb,Hb=/alpha\([^)]*\)/i,Ib=/opacity=([^)]*)/,Jb=/([A-Z]|^ms)/g,Kb=/^[\-+]?(?:\d*\.)?\d+$/i,Lb=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Mb=/^([\-+])=([\-+.\de]+)/,Nb=/^margin/,Ob={position:"absolute",visibility:"hidden",display:"block"},Pb=["Top","Right","Bottom","Left"];jQuery.fn.css=function(a,c){return jQuery.access(this,function(a,c,d){return d!==b?jQuery.style(a,c,d):jQuery.css(a,c)},a,c,arguments.length>1)},jQuery.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Eb(a,"opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h=jQuery.camelCase(c),i=a.style,j=jQuery.cssHooks[h];if(c=jQuery.cssProps[h]||h,d===b)return j&&"get"in j&&(f=j.get(a,!1,e))!==b?f:i[c];if(g=typeof d,"string"===g&&(f=Mb.exec(d))&&(d=+(f[1]+1)*+f[2]+parseFloat(jQuery.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||jQuery.cssNumber[h]||(d+="px"),j&&"set"in j&&(d=j.set(a,d))===b)))try{i[c]=d}catch(k){}}},css:function(a,c,d){var e,f;return c=jQuery.camelCase(c),f=jQuery.cssHooks[c],c=jQuery.cssProps[c]||c,"cssFloat"===c&&(c="float"),f&&"get"in f&&(e=f.get(a,!0,d))!==b?e:Eb?Eb(a,c):void 0},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),jQuery.curCSS=jQuery.css,G.defaultView&&G.defaultView.getComputedStyle&&(Fb=function(a,b){var c,d,e,f,g=a.style;return b=b.replace(Jb,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),""!==c||jQuery.contains(a.ownerDocument.documentElement,a)||(c=jQuery.style(a,b))),!jQuery.support.pixelMargin&&e&&Nb.test(b)&&Lb.test(c)&&(f=g.width,g.width=c,c=e.width,g.width=f),c}),G.documentElement.currentStyle&&(Gb=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return null==f&&g&&(e=g[b])&&(f=e),Lb.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left="fontSize"===b?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),""===f?"auto":f}),Eb=Fb||Gb,jQuery.each(["height","width"],function(a,b){jQuery.cssHooks[b]={get:function(a,c,d){return c?0!==a.offsetWidth?s(a,b,d):jQuery.swap(a,Ob,function(){return s(a,b,d)}):void 0},set:function(a,b){return Kb.test(b)?b+"px":b}}}),jQuery.support.opacity||(jQuery.cssHooks.opacity={get:function(a,b){return Ib.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=jQuery.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===jQuery.trim(f.replace(Hb,""))&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=Hb.test(f)?f.replace(Hb,e):f+" "+e)}}),jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={get:function(a,b){return jQuery.swap(a,{display:"inline-block"},function(){return b?Eb(a,"margin-right"):a.style.marginRight})}})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return 0===b&&0===c||!jQuery.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||jQuery.css(a,"display"))},jQuery.expr.filters.visible=function(a){return!jQuery.expr.filters.hidden(a)}),jQuery.each({margin:"",padding:"",border:"Width"},function(a,b){jQuery.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+Pb[d]+b]=e[d]||e[d-2]||e[0];return f}}});var Qb,Rb,Sb=/%20/g,Tb=/\[\]$/,Ub=/\r?\n/g,Vb=/#.*$/,Wb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Xb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Yb=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Zb=/^(?:GET|HEAD)$/,$b=/^\/\//,_b=/\?/,ac=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bc=/^(?:select|textarea)/i,cc=/\s+/,dc=/([?&])_=[^&]*/,ec=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,fc=jQuery.fn.load,gc={},hc={},ic=["*/"]+["*"];try{Qb=I.href}catch(jc){Qb=G.createElement("a"),Qb.href="",Qb=Qb.href}Rb=ec.exec(Qb.toLowerCase())||[],jQuery.fn.extend({load:function(a,c,d){if("string"!=typeof a&&fc)return fc.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}var g="GET";c&&(jQuery.isFunction(c)?(d=c,c=b):"object"==typeof c&&(c=jQuery.param(c,jQuery.ajaxSettings.traditional),g="POST"));var h=this;return jQuery.ajax({url:a,type:g,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),h.html(f?jQuery("<div>").append(c.replace(ac,"")).find(f):c)),d&&h.each(d,[c,b,a])}}),this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bc.test(this.nodeName)||Xb.test(this.type))}).map(function(a,b){var c=jQuery(this).val();return null==c?null:jQuery.isArray(c)?jQuery.map(c,function(a){return{name:b.name,value:a.replace(Ub,"\r\n")}}):{name:b.name,value:c.replace(Ub,"\r\n")}}).get()}}),jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){jQuery.fn[b]=function(a){return this.on(b,a)}}),jQuery.each(["get","post"],function(a,c){jQuery[c]=function(a,d,e,f){return jQuery.isFunction(d)&&(f=f||e,e=d,d=b),jQuery.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),jQuery.extend({getScript:function(a,c){return jQuery.get(a,b,c,"script")},getJSON:function(a,b,c){return jQuery.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?v(a,jQuery.ajaxSettings):(b=a,a=jQuery.ajaxSettings),v(a,b),a},ajaxSettings:{url:Qb,isLocal:Yb.test(Rb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ic},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(gc),ajaxTransport:t(hc),ajax:function(a,c){function d(a,c,d,g){if(2!==v){v=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0;var j,l,s,t,u,z=c,A=d?x(m,w,d):b;if(a>=200&&300>a||304===a)if(m.ifModified&&((t=w.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[e]=t),(u=w.getResponseHeader("Etag"))&&(jQuery.etag[e]=u)),304===a)z="notmodified",j=!0;else try{l=y(m,A),z="success",j=!0}catch(B){z="parsererror",s=B}else s=z,(!z||a)&&(z="error",0>a&&(a=0));w.status=a,w.statusText=""+(c||z),j?p.resolveWith(n,[l,z,w]):p.rejectWith(n,[w,z,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,z]),k&&(o.trigger("ajaxComplete",[w,m]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=jQuery.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof jQuery)?jQuery(n):jQuery.event,p=jQuery.Deferred(),q=jQuery.Callbacks("once memory"),r=m.statusCode||{},s={},t={},v=0,w={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===v?f:null},getResponseHeader:function(a){var c;if(2===v){if(!g)for(g={};c=Wb.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(m.mimeType=a),this},abort:function(a){return a=a||"abort",h&&h.abort(a),d(0,a),this}};if(p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(2>v)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.then(b,b)}return this},m.url=((a||m.url)+"").replace(Vb,"").replace($b,Rb[1]+"//"),m.dataTypes=jQuery.trim(m.dataType||"*").toLowerCase().split(cc),null==m.crossDomain&&(j=ec.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]==Rb[1]&&j[2]==Rb[2]&&(j[3]||("http:"===j[1]?80:443))==(Rb[3]||("http:"===Rb[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=jQuery.param(m.data,m.traditional)),u(gc,m,c,w),2===v)return!1;if(k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Zb.test(m.type),k&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(_b.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url,m.cache===!1)){var z=jQuery.now(),A=m.url.replace(dc,"$1_="+z);m.url=A+(A===m.url?(_b.test(m.url)?"&":"?")+"_="+z:"")}(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,jQuery.lastModified[e]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[e]),jQuery.etag[e]&&w.setRequestHeader("If-None-Match",jQuery.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ic+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===v))return w.abort(),!1;for(l in{success:1,error:1,complete:1})w[l](m[l]);if(h=u(hc,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{v=1,h.send(s,d)}catch(B){if(!(2>v))throw B;d(-1,B)}}else d(-1,"No Transport");return w},param:function(a,c){var d=[],e=function(a,b){b=jQuery.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){e(this.name,this.value)});else for(var f in a)w(f,a[f],c,e);return d.join("&").replace(Sb,"+")}}),jQuery.extend({active:0,lastModified:{},etag:{}});var kc=jQuery.now(),lc=/(\=)\?(&|$)|\?\?/i;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return jQuery.expando+"_"+kc++}}),jQuery.ajaxPrefilter("json jsonp",function(b,c,d){var e="string"==typeof b.data&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if("jsonp"===b.dataTypes[0]||b.jsonp!==!1&&(lc.test(b.url)||e&&lc.test(b.data))){var f,g=b.jsonpCallback=jQuery.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h=a[g],i=b.url,j=b.data,k="$1"+g+"$2";return b.jsonp!==!1&&(i=i.replace(lc,k),b.url===i&&(e&&(j=j.replace(lc,k)),b.data===j&&(i+=(/\?/.test(i)?"&":"?")+b.jsonp+"="+g))),b.url=i,b.data=j,a[g]=function(a){f=[a]},d.always(function(){a[g]=h,f&&jQuery.isFunction(h)&&a[g](f[0])}),b.converters["script json"]=function(){return f||jQuery.error(g+" was not called"),f[0]},b.dataTypes[0]="json","script"}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return jQuery.globalEval(a),a}}}),jQuery.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),jQuery.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=G.head||G.getElementsByTagName("head")[0]||G.documentElement;return{send:function(_,e){c=G.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(_,a){(a||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,a||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var mc,nc=a.ActiveXObject?function(){for(var a in mc)mc[a](0,1)}:!1,oc=0;jQuery.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&z()||A()}:z,function(a){jQuery.extend(jQuery.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(jQuery.ajaxSettings.xhr()),jQuery.support.ajax&&jQuery.ajaxTransport(function(c){if(!c.crossDomain||jQuery.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(_){}i.send(c.hasContent&&c.data||null),d=function(_,a){var e,h,j,k,l;try{if(d&&(a||4===i.readyState))if(d=b,g&&(i.onreadystatechange=jQuery.noop,nc&&delete mc[g]),a)4!==i.readyState&&i.abort();else{e=i.status,j=i.getAllResponseHeaders(),k={},l=i.responseXML,l&&l.documentElement&&(k.xml=l);try{k.text=i.responseText}catch(_){}try{h=i.statusText}catch(m){h=""}e||!c.isLocal||c.crossDomain?1223===e&&(e=204):e=k.text?200:404}}catch(n){a||f(-1,n)}k&&f(e,h,k,j)},c.async&&4!==i.readyState?(g=++oc,nc&&(mc||(mc={},jQuery(a).unload(nc)),mc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var pc,qc,rc,sc,tc={},uc=/^(?:toggle|show|hide)$/,vc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wc=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];jQuery.fn.extend({show:function(a,b,c){var d,e;if(a||0===a)return this.animate(D("show",3),a,b,c);for(var f=0,g=this.length;g>f;f++)d=this[f],d.style&&(e=d.style.display,jQuery._data(d,"olddisplay")||"none"!==e||(e=d.style.display=""),(""===e&&"none"===jQuery.css(d,"display")||!jQuery.contains(d.ownerDocument.documentElement,d))&&jQuery._data(d,"olddisplay",E(d.nodeName)));for(f=0;g>f;f++)d=this[f],d.style&&(e=d.style.display,(""===e||"none"===e)&&(d.style.display=jQuery._data(d,"olddisplay")||""));return this},hide:function(a,b,c){if(a||0===a)return this.animate(D("hide",3),a,b,c);for(var d,e,f=0,g=this.length;g>f;f++)d=this[f],d.style&&(e=jQuery.css(d,"display"),"none"===e||jQuery._data(d,"olddisplay")||jQuery._data(d,"olddisplay",e));for(f=0;g>f;f++)this[f].style&&(this[f].style.display="none");return this},_toggle:jQuery.fn.toggle,toggle:function(a,b,c){var d="boolean"==typeof a;return jQuery.isFunction(a)&&jQuery.isFunction(b)?this._toggle.apply(this,arguments):null==a||d?this.each(function(){var b=d?a:jQuery(this).is(":hidden");jQuery(this)[b?"show":"hide"]()}):this.animate(D("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function e(){f.queue===!1&&jQuery._mark(this);var b,c,d,e,g,h,i,j,k,l,m,n=jQuery.extend({},f),o=1===this.nodeType,p=o&&jQuery(this).is(":hidden");n.animatedProperties={};for(d in a)if(b=jQuery.camelCase(d),d!==b&&(a[b]=a[d],delete a[d]),(g=jQuery.cssHooks[b])&&"expand"in g){h=g.expand(a[b]),delete a[b];for(d in h)d in a||(a[d]=h[d])}for(b in a){if(c=a[b],jQuery.isArray(c)?(n.animatedProperties[b]=c[1],c=a[b]=c[0]):n.animatedProperties[b]=n.specialEasing&&n.specialEasing[b]||n.easing||"swing","hide"===c&&p||"show"===c&&!p)return n.complete.call(this);!o||"height"!==b&&"width"!==b||(n.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===jQuery.css(this,"display")&&"none"===jQuery.css(this,"float")&&(jQuery.support.inlineBlockNeedsLayout&&"inline"!==E(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=n.overflow&&(this.style.overflow="hidden");for(d in a)e=new jQuery.fx(this,n,d),c=a[d],uc.test(c)?(m=jQuery._data(this,"toggle"+d)||("toggle"===c?p?"show":"hide":0),m?(jQuery._data(this,"toggle"+d,"show"===m?"hide":"show"),e[m]()):e[c]()):(i=vc.exec(c),j=e.cur(),i?(k=parseFloat(i[2]),l=i[3]||(jQuery.cssNumber[d]?"":"px"),"px"!==l&&(jQuery.style(this,d,(k||1)+l),j=(k||1)/e.cur()*j,jQuery.style(this,d,j+l)),i[1]&&(k=("-="===i[1]?-1:1)*k+j),e.custom(j,k,l)):e.custom(j,c,""));return!0}var f=jQuery.speed(b,c,d);return jQuery.isEmptyObject(a)?this.each(f.complete,[!1]):(a=jQuery.extend({},a),f.queue===!1?this.each(e):this.queue(f.queue,e))},stop:function(a,c,d){return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function b(a,b,c){var e=b[c];jQuery.removeData(a,c,!0),e.stop(d)}var c,e=!1,f=jQuery.timers,g=jQuery._data(this);if(d||jQuery._unmark(!0,this),null==a)for(c in g)g[c]&&g[c].stop&&c.indexOf(".run")===c.length-4&&b(this,g,c);else g[c=a+".run"]&&g[c].stop&&b(this,g,c);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(d?f[c](!0):f[c].saveState(),e=!0,f.splice(c,1));d&&e||jQuery.dequeue(this,a)})}}),jQuery.each({slideDown:D("show",1),slideUp:D("hide",1),slideToggle:D("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){jQuery.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),jQuery.extend({speed:function(a,b,c){var d=a&&"object"==typeof a?jQuery.extend({},a):{complete:c||!c&&b||jQuery.isFunction(a)&&a,duration:a,easing:c&&b||b&&!jQuery.isFunction(b)&&b};return d.duration=jQuery.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in jQuery.fx.speeds?jQuery.fx.speeds[d.duration]:jQuery.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(a){jQuery.isFunction(d.old)&&d.old.call(this),d.queue?jQuery.dequeue(this,d.queue):a!==!1&&jQuery._unmark(this)},d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),jQuery.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=jQuery.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a},custom:function(a,c,d){function e(a){return f.step(a)}var f=this,g=jQuery.fx;this.startTime=sc||B(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(jQuery.cssNumber[this.prop]?"":"px"),e.queue=this.options.queue,e.elem=this.elem,e.saveState=function(){jQuery._data(f.elem,"fxshow"+f.prop)===b&&(f.options.hide?jQuery._data(f.elem,"fxshow"+f.prop,f.start):f.options.show&&jQuery._data(f.elem,"fxshow"+f.prop,f.end))},e()&&jQuery.timers.push(e)&&!rc&&(rc=setInterval(g.tick,g.interval))},show:function(){var a=jQuery._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||jQuery.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery._data(this.elem,"fxshow"+this.prop)||jQuery.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=sc||B(),f=!0,g=this.elem,h=this.options;if(a||e>=h.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),h.animatedProperties[this.prop]=!0;for(b in h.animatedProperties)h.animatedProperties[b]!==!0&&(f=!1);if(f){if(null==h.overflow||jQuery.support.shrinkWrapBlocks||jQuery.each(["","X","Y"],function(a,b){g.style["overflow"+b]=h.overflow[a]}),h.hide&&jQuery(g).hide(),h.hide||h.show)for(b in h.animatedProperties)jQuery.style(g,b,h.orig[b]),jQuery.removeData(g,"fxshow"+b,!0),jQuery.removeData(g,"toggle"+b,!0);d=h.complete,d&&(h.complete=!1,d.call(g))}return!1}return 1/0==h.duration?this.now=e:(c=e-this.startTime,this.state=c/h.duration,this.pos=jQuery.easing[h.animatedProperties[this.prop]](this.state,c,0,1,h.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},jQuery.extend(jQuery.fx,{tick:function(){for(var a,b=jQuery.timers,c=0;c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||jQuery.fx.stop()},interval:13,stop:function(){clearInterval(rc),rc=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){jQuery.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),jQuery.each(wc.concat.apply([],wc),function(a,b){b.indexOf("margin")&&(jQuery.fx.step[b]=function(a){jQuery.style(a.elem,b,Math.max(0,a.now)+a.unit)
})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(a){return jQuery.grep(jQuery.timers,function(b){return a===b.elem}).length});var xc,yc=/^t(?:able|d|h)$/i,zc=/^(?:body|html)$/i;xc="getBoundingClientRect"in G.documentElement?function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!jQuery.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};var f=b.body,g=F(b),h=c.clientTop||f.clientTop||0,i=c.clientLeft||f.clientLeft||0,j=g.pageYOffset||jQuery.support.boxModel&&c.scrollTop||f.scrollTop,k=g.pageXOffset||jQuery.support.boxModel&&c.scrollLeft||f.scrollLeft,l=d.top+j-h,m=d.left+k-i;return{top:l,left:m}}:function(a,b,c){for(var d,e=a.offsetParent,f=a,g=b.body,h=b.defaultView,i=h?h.getComputedStyle(a,null):a.currentStyle,j=a.offsetTop,k=a.offsetLeft;(a=a.parentNode)&&a!==g&&a!==c&&(!jQuery.support.fixedPosition||"fixed"!==i.position);)d=h?h.getComputedStyle(a,null):a.currentStyle,j-=a.scrollTop,k-=a.scrollLeft,a===e&&(j+=a.offsetTop,k+=a.offsetLeft,!jQuery.support.doesNotAddBorder||jQuery.support.doesAddBorderForTableAndCells&&yc.test(a.nodeName)||(j+=parseFloat(d.borderTopWidth)||0,k+=parseFloat(d.borderLeftWidth)||0),f=e,e=a.offsetParent),jQuery.support.subtractsBorderForOverflowNotVisible&&"visible"!==d.overflow&&(j+=parseFloat(d.borderTopWidth)||0,k+=parseFloat(d.borderLeftWidth)||0),i=d;return("relative"===i.position||"static"===i.position)&&(j+=g.offsetTop,k+=g.offsetLeft),jQuery.support.fixedPosition&&"fixed"===i.position&&(j+=Math.max(c.scrollTop,g.scrollTop),k+=Math.max(c.scrollLeft,g.scrollLeft)),{top:j,left:k}},jQuery.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){jQuery.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;return d?c===d.body?jQuery.offset.bodyOffset(c):xc(c,d,d.documentElement):null},jQuery.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return jQuery.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(jQuery.css(a,"marginTop"))||0,c+=parseFloat(jQuery.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=jQuery.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=jQuery(a),h=g.offset(),i=jQuery.css(a,"top"),j=jQuery.css(a,"left"),k=("absolute"===d||"fixed"===d)&&jQuery.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),jQuery.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},jQuery.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=zc.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(jQuery.css(a,"marginTop"))||0,c.left-=parseFloat(jQuery.css(a,"marginLeft"))||0,d.top+=parseFloat(jQuery.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(jQuery.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||G.body;a&&!zc.test(a.nodeName)&&"static"===jQuery.css(a,"position");)a=a.offsetParent;return a})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);jQuery.fn[a]=function(e){return jQuery.access(this,function(a,e,f){var g=F(a);return f===b?g?c in g?g[c]:jQuery.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:a[e]:void(g?g.scrollTo(d?jQuery(g).scrollLeft():f,d?f:jQuery(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),jQuery.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,f="offset"+a;jQuery.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(jQuery.css(a,c,"padding")):this[c]():null},jQuery.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(jQuery.css(b,c,a?"margin":"border")):this[c]():null},jQuery.fn[c]=function(a){return jQuery.access(this,function(a,c,g){var h,i,j,k;return jQuery.isWindow(a)?(h=a.document,i=h.documentElement[d],jQuery.support.boxModel&&i||h.body&&h.body[d]||i):9===a.nodeType?(h=a.documentElement,h[d]>=h[e]?h[d]:Math.max(a.body[e],h[e],a.body[f],h[f])):g===b?(j=jQuery.css(a,c),k=parseFloat(j),jQuery.isNumeric(k)?k:j):void jQuery(a).css(c,g)},c,a,arguments.length,null)}}),a.jQuery=a.$=jQuery,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return jQuery})}(window),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,_=function(a){return a instanceof _?a:this instanceof _?void(this._wrapped=a):new _(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):a._=_,_.VERSION="1.6.0";var x=_.each=_.forEach=function(a,b,d){if(null==a)return a;if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=_.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return;return a};_.map=_.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(x(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var y="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=_.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(x(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(y);return c},_.reduceRight=_.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=_.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=_.keys(a);f=g.length}if(x(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(y);return c},_.find=_.detect=function(a,b,c){var d;return z(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},_.filter=_.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(x(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},_.reject=function(a,b,c){return _.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},_.every=_.all=function(a,b,d){b||(b=_.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(x(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var z=_.some=_.any=function(a,b,d){b||(b=_.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(x(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};_.contains=_.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):z(a,function(a){return a===b})},_.invoke=function(a,b){var c=h.call(arguments,2),d=_.isFunction(b);return _.map(a,function(a){return(d?b:a[b]).apply(a,c)})},_.pluck=function(a,b){return _.map(a,_.property(b))},_.where=function(a,b){return _.filter(a,_.matches(b))},_.findWhere=function(a,b){return _.find(a,_.matches(b))},_.max=function(a,b,c){if(!b&&_.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return x(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},_.min=function(a,b,c){if(!b&&_.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return x(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},_.shuffle=function(a){var b,c=0,d=[];return x(a,function(a){b=_.random(c++),d[c-1]=d[b],d[b]=a}),d},_.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=_.values(a)),a[_.random(a.length-1)]):_.shuffle(a).slice(0,Math.max(0,b))};var A=function(a){return null==a?_.identity:_.isFunction(a)?a:_.property(a)};_.sortBy=function(a,b,c){return b=A(b),_.pluck(_.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var B=function(a){return function(b,c,d){var e={};return c=A(c),x(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};_.groupBy=B(function(a,b,c){_.has(a,b)?a[b].push(c):a[b]=[c]}),_.indexBy=B(function(a,b,c){a[b]=c}),_.countBy=B(function(a,b){_.has(a,b)?a[b]++:a[b]=1}),_.sortedIndex=function(a,b,c,d){c=A(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},_.toArray=function(a){return a?_.isArray(a)?h.call(a):a.length===+a.length?_.map(a,_.identity):_.values(a):[]},_.size=function(a){return null==a?0:a.length===+a.length?a.length:_.keys(a).length},_.first=_.head=_.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:h.call(a,0,b)},_.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},_.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},_.rest=_.tail=_.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},_.compact=function(a){return _.filter(a,_.identity)};var C=function(a,b,c){return b&&_.every(a,_.isArray)?i.apply(c,a):(x(a,function(a){_.isArray(a)||_.isArguments(a)?b?g.apply(c,a):C(a,b,c):c.push(a)}),c)};_.flatten=function(a,b){return C(a,b,[])},_.without=function(a){return _.difference(a,h.call(arguments,1))},_.partition=function(a,b){var c=[],d=[];return x(a,function(a){(b(a)?c:d).push(a)}),[c,d]},_.uniq=_.unique=function(a,b,c,d){_.isFunction(b)&&(d=c,c=b,b=!1);var e=c?_.map(a,c,d):a,f=[],g=[];return x(e,function(c,d){(b?d&&g[g.length-1]===c:_.contains(g,c))||(g.push(c),f.push(a[d]))}),f},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(a){var b=h.call(arguments,1);return _.filter(_.uniq(a),function(a){return _.every(b,function(b){return _.contains(b,a)})})},_.difference=function(a){var b=i.apply(d,h.call(arguments,1));return _.filter(a,function(a){return!_.contains(b,a)})},_.zip=function(){for(var a=_.max(_.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=_.pluck(arguments,""+c);return b},_.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},_.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=_.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},_.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},_.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var D=function(){};_.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!_.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));D.prototype=a.prototype;var e=new D;D.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},_.partial=function(a){var b=h.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===_&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},_.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return x(b,function(b){a[b]=_.bind(a[b],a)}),a},_.memoize=function(a,b){var c={};return b||(b=_.identity),function(){var d=b.apply(this,arguments);return _.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},_.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},_.defer=function(a){return _.delay.apply(_,[a,1].concat(h.call(arguments,1)))},_.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:_.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=_.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},_.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=_.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=_.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},_.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},_.wrap=function(a,b){return _.partial(b,a)},_.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},_.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},_.keys=function(a){if(!_.isObject(a))return[];if(v)return v(a);var b=[];for(var c in a)_.has(a,c)&&b.push(c);return b},_.values=function(a){for(var b=_.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},_.pairs=function(a){for(var b=_.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},_.invert=function(a){for(var b={},c=_.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},_.functions=_.methods=function(a){var b=[];for(var c in a)_.isFunction(a[c])&&b.push(c);return b.sort()},_.extend=function(a){return x(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},_.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return x(c,function(c){c in a&&(b[c]=a[c])}),b},_.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)_.contains(c,e)||(b[e]=a[e]);return b},_.defaults=function(a){return x(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},_.clone=function(a){return _.isObject(a)?_.isArray(a)?a.slice():_.extend({},a):a},_.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(_.isFunction(g)&&g instanceof g&&_.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=E(a[i],b[i],c,d)););}else{for(var l in a)if(_.has(a,l)&&(i++,!(k=_.has(b,l)&&E(a[l],b[l],c,d))))break;if(k){for(l in b)if(_.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};_.isEqual=function(a,b){return E(a,b,[],[])},_.isEmpty=function(a){if(null==a)return!0;if(_.isArray(a)||_.isString(a))return 0===a.length;for(var b in a)if(_.has(a,b))return!1;return!0},_.isElement=function(a){return!(!a||1!==a.nodeType)},_.isArray=u||function(a){return"[object Array]"==j.call(a)},_.isObject=function(a){return a===Object(a)},x(["Arguments","Function","String","Number","Date","RegExp"],function(a){_["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),_.isArguments(arguments)||(_.isArguments=function(a){return!(!a||!_.has(a,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(a){return"function"==typeof a}),_.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},_.isNaN=function(a){return _.isNumber(a)&&a!=+a},_.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},_.isNull=function(a){return null===a},_.isUndefined=function(a){return void 0===a},_.has=function(a,b){return k.call(a,b)},_.noConflict=function(){return a._=b,this},_.identity=function(a){return a},_.constant=function(a){return function(){return a}},_.property=function(a){return function(b){return b[a]}},_.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},_.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},_.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},_.now=Date.now||function(){return(new Date).getTime()};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};F.unescape=_.invert(F.escape);var G={escape:new RegExp("["+_.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(F.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(a){_[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),_.result=function(a,b){if(null==a)return void 0;var c=a[b];return _.isFunction(c)?c.call(a):c},_.mixin=function(a){x(_.functions(a),function(b){var c=_[b]=a[b];_.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(_,a))}})};var H=0;_.uniqueId=function(a){var b=++H+"";return a?a+b:b},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(a,b,c){var d;c=_.defaults({},c,_.templateSettings);var e=new RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,_);var i=function(a){return d.call(this,a,_)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},_.chain=function(a){return _(a).chain()};var L=function(a){return this._chain?_(a).chain():a};_.mixin(_),x(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];_.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),x(["concat","join","slice"],function(a){var b=d[a];_.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}.call(this),function(a,b){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(_,$,c){a.Backbone=b(a,c,_,$)});else if("undefined"!=typeof exports){var _=require("underscore");b(a,exports,_)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,Backbone,_,$){{var b=a.Backbone,c=[],d=(c.push,c.slice);c.splice}Backbone.VERSION="1.1.2",Backbone.$=$,Backbone.noConflict=function(){return a.Backbone=b,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var e=Backbone.Events={on:function(a,b,c){if(!g(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!g(this,"once",a,[b,c])||!b)return this;var d=this,e=_.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,h,i,j,k,l;if(!this._events||!g(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events=void 0,this;for(h=a?[a]:_.keys(this._events),i=0,j=h.length;j>i;i++)if(a=h[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(k=0,l=f.length;l>k;k++)e=f[k],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=d.call(arguments,1);if(!g(this,"trigger",a,b))return this;var c=this._events[a],e=this._events.all;return c&&h(c,b),e&&h(e,arguments),this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var e=!b&&!c;c||"object"!=typeof b||(c=this),a&&((d={})[a._listenId]=a);for(var f in d)a=d[f],a.off(b,c,this),(e||_.isEmpty(a._events))&&delete this._listeningTo[f];return this}},f=/\s+/,g=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(f.test(c)){for(var g=c.split(f),h=0,i=g.length;i>h;h++)a[b].apply(a,[g[h]].concat(d));return!1}return!0},h=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},i={listenTo:"on",listenToOnce:"once"};_.each(i,function(a,b){e[b]=function(b,c,d){var e=this._listeningTo||(this._listeningTo={}),f=b._listenId||(b._listenId=_.uniqueId("l"));return e[f]=b,d||"object"!=typeof c||(d=this),b[a](c,d,this),this}}),e.bind=e.on,e.unbind=e.off,_.extend(Backbone,e);var j=Backbone.Model=function(a,b){var c=a||{};b||(b={}),this.cid=_.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(c=this.parse(c,b)||{}),c=_.defaults({},c,_.result(this,"defaults")),this.set(c,b),this.changed={},this.initialize.apply(this,arguments)};_.extend(j.prototype,e,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return _.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,g,h,i,j,k;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,h=c.silent,g=[],i=this._changing,this._changing=!0,i||(this._previousAttributes=_.clone(this.attributes),this.changed={}),k=this.attributes,j=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],_.isEqual(k[d],b)||g.push(d),_.isEqual(j[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete k[d]:k[d]=b;if(!h){g.length&&(this._pending=c);for(var l=0,m=g.length;m>l;l++)this.trigger("change:"+g[l],this,k[g[l]],c)}if(i)return this;if(!h)for(;this._pending;)c=this._pending,this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,_.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,_.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!_.isEmpty(this.changed):_.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?_.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)_.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(a){a=a?_.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d){return b.set(b.parse(d,a),a)?(c&&c(b,d,a),void b.trigger("sync",b,d,a)):!1},I(this,a),this.sync("read",this,a)},save:function(a,b,c){var d,e,f,g=this.attributes;if(null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,c=_.extend({validate:!0},c),d&&!c.wait){if(!this.set(d,c))return!1}else if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=_.extend({},g,d)),void 0===c.parse&&(c.parse=!0);var h=this,i=c.success;return c.success=function(a){h.attributes=g;var b=h.parse(a,c);return c.wait&&(b=_.extend(d||{},b)),_.isObject(b)&&!h.set(b,c)?!1:(i&&i(h,a,c),void h.trigger("sync",h,a,c))},I(this,c),e=this.isNew()?"create":c.patch?"patch":"update","patch"===e&&(c.attrs=d),f=this.sync(e,this,c),d&&c.wait&&(this.attributes=g),f},destroy:function(a){a=a?_.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(e){(a.wait||b.isNew())&&d(),c&&c(b,e,a),b.isNew()||b.trigger("sync",b,e,a)},this.isNew())return a.success(),!1;I(this,a);var e=this.sync("delete",this,a);return a.wait||d(),e},url:function(){var a=_.result(this,"urlRoot")||_.result(this.collection,"url")||H();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},_.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=_.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,_.extend(b,{validationError:c})),!1):!0}});var k=["keys","values","pairs","invert","pick","omit"];_.each(k,function(a){j.prototype[a]=function(){var b=d.call(arguments);return b.unshift(this.attributes),_[a].apply(_,b)}});var l=Backbone.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,_.extend({silent:!0},b))},m={add:!0,remove:!0,merge:!0},n={add:!0,remove:!1};_.extend(l.prototype,e,{model:j,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(a,b){return this.set(a,_.extend({merge:!1},b,n))},remove:function(a,b){var c=!_.isArray(a);a=c?[a]:_.clone(a),b||(b={});var d,e,f,g;for(d=0,e=a.length;e>d;d++)g=a[d]=this.get(a[d]),g&&(delete this._byId[g.id],delete this._byId[g.cid],f=this.indexOf(g),this.models.splice(f,1),this.length--,b.silent||(b.index=f,g.trigger("remove",g,this,b)),this._removeReference(g,b));return c?a[0]:a},set:function(a,b){b=_.defaults({},b,m),b.parse&&(a=this.parse(a,b));var c=!_.isArray(a);a=c?a?[a]:[]:_.clone(a);var d,e,f,g,h,i,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,p=_.isString(this.comparator)?this.comparator:null,q=[],r=[],s={},t=b.add,u=b.merge,v=b.remove,w=!o&&t&&v?[]:!1;for(d=0,e=a.length;e>d;d++){if(h=a[d]||{},f=h instanceof j?g=h:h[n.prototype.idAttribute||"id"],i=this.get(f))v&&(s[i.cid]=!0),u&&(h=h===g?g.attributes:h,b.parse&&(h=i.parse(h,b)),i.set(h,b),o&&!k&&i.hasChanged(p)&&(k=!0)),a[d]=i;else if(t){if(g=a[d]=this._prepareModel(h,b),!g)continue;q.push(g),this._addReference(g,b)}g=i||g,!w||!g.isNew()&&s[g.id]||w.push(g),s[g.id]=!0}if(v){for(d=0,e=this.length;e>d;++d)s[(g=this.models[d]).cid]||r.push(g);r.length&&this.remove(r,b)}if(q.length||w&&w.length)if(o&&(k=!0),this.length+=q.length,null!=l)for(d=0,e=q.length;e>d;d++)this.models.splice(l+d,0,q[d]);else{w&&(this.models.length=0);var x=w||q;for(d=0,e=x.length;e>d;d++)this.models.push(x[d])}if(k&&this.sort({silent:!0}),!b.silent){for(d=0,e=q.length;e>d;d++)(g=q[d]).trigger("add",g,this,b);(k||w&&w.length)&&this.trigger("sort",this,b)}return c?a[0]:a},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c],b);return b.previousModels=this.models,this._reset(),a=this.add(a,_.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,_.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,_.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return d.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return _.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),_.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(_.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return _.invoke(this.models,"get",a)},fetch:function(a){a=a?_.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b(c,d,a),c.trigger("sync",c,d,a)},I(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?_.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(a,e){b.wait&&c.add(a,b),d&&d(a,e,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof j)return a;b=b?_.clone(b):{},b.collection=this;var c=new this.model(a,b);return c.validationError?(this.trigger("invalid",this,c.validationError,b),!1):c},_addReference:function(a){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var o=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];_.each(o,function(a){l.prototype[a]=function(){var b=d.call(arguments);return b.unshift(this.models),_[a].apply(_,b)}});var p=["groupBy","countBy","sortBy","indexBy"];_.each(p,function(a){l.prototype[a]=function(b,c){var d=_.isFunction(b)?b:function(a){return a.get(b)};return _[a](this.models,d,c)}});var q=Backbone.View=function(a){this.cid=_.uniqueId("view"),a||(a={}),_.extend(this,_.pick(a,s)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},r=/^(\S+)\s*(.*)$/,s=["model","collection","el","id","attributes","className","tagName","events"];_.extend(q.prototype,e,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,b){return this.$el&&this.undelegateEvents(),this.$el=a instanceof Backbone.$?a:Backbone.$(a),this.el=this.$el[0],b!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=_.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(_.isFunction(c)||(c=this[a[b]]),c){var d=b.match(r),e=d[1],f=d[2];c=_.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,c):this.$el.on(e,f,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"),!1);else{var a=_.extend({},_.result(this,"attributes"));this.id&&(a.id=_.result(this,"id")),this.className&&(a["class"]=_.result(this,"className"));var b=Backbone.$("<"+_.result(this,"tagName")+">").attr(a);
this.setElement(b,!1)}}}),Backbone.sync=function(a,b,c){var d=u[a];_.defaults(c||(c={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var e={type:d,dataType:"json"};if(c.url||(e.url=_.result(b,"url")||H()),null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(e.contentType="application/json",e.data=JSON.stringify(c.attrs||b.toJSON(c))),c.emulateJSON&&(e.contentType="application/x-www-form-urlencoded",e.data=e.data?{model:e.data}:{}),c.emulateHTTP&&("PUT"===d||"DELETE"===d||"PATCH"===d)){e.type="POST",c.emulateJSON&&(e.data._method=d);var f=c.beforeSend;c.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",d),f?f.apply(this,arguments):void 0}}"GET"===e.type||c.emulateJSON||(e.processData=!1),"PATCH"===e.type&&t&&(e.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var g=c.xhr=Backbone.ajax(_.extend(e,c));return b.trigger("request",b,g,c),g};var t=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),u={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var v=Backbone.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},w=/\((.*?)\)/g,x=/(\(\?)?:\w+/g,y=/\*\w+/g,z=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(v.prototype,e,{initialize:function(){},route:function(a,b,c){_.isRegExp(a)||(a=this._routeToRegExp(a)),_.isFunction(b)&&(c=b,b=""),c||(c=this[b]);var d=this;return Backbone.history.route(a,function(e){var f=d._extractParameters(a,e);d.execute(c,f),d.trigger.apply(d,["route:"+b].concat(f)),d.trigger("route",b,f),Backbone.history.trigger("route",d,b,f)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,b){return Backbone.history.navigate(a,b),this},_bindRoutes:function(){if(this.routes){this.routes=_.result(this,"routes");for(var a,b=_.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(z,"\\$&").replace(w,"(?:$1)?").replace(x,function(a,b){return b?a:"([^/?]+)"}).replace(y,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return _.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var A=Backbone.History=function(){this.handlers=[],_.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,C=/^\/+|\/+$/g,D=/msie [\w.]+/,E=/\/$/,F=/#.*$/;A.started=!1,_.extend(A.prototype,e,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(E,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(B,"")},start:function(a){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=_.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var b=this.getFragment(),c=document.documentMode,d=D.exec(navigator.userAgent.toLowerCase())&&(!c||7>=c);if(this.root=("/"+this.root+"/").replace(C,"/"),d&&this._wantsHashChange){var e=Backbone.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=e.hide().appendTo("body")[0].contentWindow,this.navigate(b)}this._hasPushState?Backbone.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!d?Backbone.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=b;var f=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&f.hash&&(this.fragment=this.getHash().replace(B,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){Backbone.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),_.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!A.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(F,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),Backbone.history=new A;var G=function(a,b){var c,d=this;c=a&&_.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},_.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&_.extend(c.prototype,a),c.__super__=d.prototype,c};j.extend=l.extend=v.extend=q.extend=A.extend=G;var H=function(){throw new Error('A "url" property or function must be specified')},I=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return Backbone}),function(a){var b=Array.prototype.slice,c=function(a){return("0"+a.toString()).substr(-2)},d={day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"]},e={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1},f={unit:"$",precision:2,format:"%u%n",delimiter:",",separator:"."},g={precision:3,separator:".",delimiter:""},h=[null,"kb","mb","gb","tb"],i={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,fallbacks:!1,translations:{}};a.reset=function(){this.defaultLocale=i.defaultLocale,this.locale=i.locale,this.defaultSeparator=i.defaultSeparator,this.placeholder=i.placeholder,this.fallbacks=i.fallbacks,this.translations=i.translations},a.initializeOptions=function(){"undefined"==typeof this.defaultLocale&&null!==this.defaultLocale&&(this.defaultLocale=i.defaultLocale),"undefined"==typeof this.locale&&null!==this.locale&&(this.locale=i.locale),"undefined"==typeof this.defaultSeparator&&null!==this.defaultSeparator&&(this.defaultSeparator=i.defaultSeparator),"undefined"==typeof this.placeholder&&null!==this.placeholder&&(this.placeholder=i.placeholder),"undefined"==typeof this.fallbacks&&null!==this.fallbacks&&(this.fallbacks=i.fallbacks),"undefined"==typeof this.translations&&null!==this.translations&&(this.translations=i.translations)},a.initializeOptions(),a.locales={},a.locales.get=function(b){var c=this[b]||this[a.locale]||this["default"];return"function"==typeof c&&(c=c(b)),c instanceof Array==!1&&(c=[c]),c},a.locales["default"]=function(b){var c,d=[],e=[];return b&&d.push(b),!b&&a.locale&&d.push(a.locale),a.fallbacks&&a.defaultLocale&&d.push(a.defaultLocale),d.forEach(function(b){c=b.split("-")[0],~e.indexOf(b)||e.push(b),a.fallbacks&&c&&c!==b&&!~e.indexOf(c)&&e.push(c)}),d.length||d.push("en"),e},a.pluralization={},a.pluralization.get=function(b){return this[b]||this[a.locale]||this["default"]},a.pluralization["default"]=function(a){switch(a){case 0:return["zero","other"];case 1:return["one"];default:return["other"]}},a.currentLocale=function(){return this.locale||this.defaultLocale},a.isSet=function(a){return void 0!==a&&null!==a},a.lookup=function(a,b){b=this.prepareOptions(b);{var c,d,e,f=this.locales.get(b.locale).slice();f[0]}for(a.constructor===Array&&(a=a.join(this.defaultSeparator)),b.scope&&(a=[b.scope,a].join(this.defaultSeparator));f.length;)if(c=f.shift(),d=a.split(this.defaultSeparator),e=this.translations[c]){for(;d.length&&(e=e[d.shift()],void 0!==e&&null!==e););if(void 0!==e&&null!==e)return e}return this.isSet(b.defaultValue)?b.defaultValue:void 0},a.meridian=function(){var a=this.lookup("time"),b=this.lookup("date");return a&&a.am&&a.pm?[a.am,a.pm]:b&&b.meridian?b.meridian:d.meridian},a.prepareOptions=function(){for(var a,c=b.call(arguments),d={};c.length;)if(a=c.shift(),"object"==typeof a)for(var e in a)a.hasOwnProperty(e)&&(this.isSet(d[e])||(d[e]=a[e]));return d},a.createTranslationOptions=function(a,b){var c=[{scope:a}];return this.isSet(b.defaults)&&(c=c.concat(b.defaults)),this.isSet(b.defaultValue)&&(c.push({message:b.defaultValue}),delete b.defaultValue),c},a.translate=function(a,b){b=this.prepareOptions(b);var c,d=this.createTranslationOptions(a,b),e=d.some(function(a){return this.isSet(a.scope)?c=this.lookup(a.scope,b):this.isSet(a.message)&&(c=a.message),void 0!==c&&null!==c?!0:void 0},this);return e?("string"==typeof c?c=this.interpolate(c,b):c instanceof Object&&this.isSet(b.count)&&(c=this.pluralize(b.count,c,b)),c):this.missingTranslation(a)},a.interpolate=function(a,b){b=this.prepareOptions(b);var c,d,e,f,g=a.match(this.placeholder);if(!g)return a;for(var d;g.length;)c=g.shift(),e=c.replace(this.placeholder,"$1"),d=this.isSet(b[e])?b[e].toString().replace(/\$/gm,"_#$#_"):this.missingPlaceholder(c,a),f=new RegExp(c.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),a=a.replace(f,d);return a.replace(/_#\$#_/g,"$")},a.pluralize=function(a,b,c){c=this.prepareOptions(c);var d,e,f,g,h;if(d=b instanceof Object?b:this.lookup(b,c),!d)return this.missingTranslation(b);for(e=this.pluralization.get(c.locale),f=e(Math.abs(a));f.length;)if(g=f.shift(),this.isSet(d[g])){h=d[g];break}return c.count=String(a),this.interpolate(h,c)},a.missingTranslation=function(){var a='[missing "';return a+=this.currentLocale()+".",a+=b.call(arguments).join("."),a+='" translation]'},a.missingPlaceholder=function(a){return"[missing "+a+" value]"},a.toNumber=function(a,b){b=this.prepareOptions(b,this.lookup("number.format"),e);var c,d,f=0>a,g=Math.abs(a).toFixed(b.precision).toString(),h=g.split("."),i=[];for(a=h[0],c=h[1];a.length>0;)i.unshift(a.substr(Math.max(0,a.length-3),3)),a=a.substr(0,a.length-3);return d=i.join(b.delimiter),b.strip_insignificant_zeros&&c&&(c=c.replace(/0+$/,"")),b.precision>0&&c&&(d+=b.separator+c),f&&(d="-"+d),d},a.toCurrency=function(a,b){return b=this.prepareOptions(b,this.lookup("number.currency.format"),this.lookup("number.format"),f),a=this.toNumber(a,b),a=b.format.replace("%u",b.unit).replace("%n",a)},a.localize=function(a,b){switch(a){case"currency":return this.toCurrency(b);case"number":return a=this.lookup("number.format"),this.toNumber(b,a);case"percentage":return this.toPercentage(b);default:return a.match(/^(date|time)/)?this.toTime(a,b):b.toString()}},a.parseDate=function(a){var b,c,d;if("object"==typeof a)return a;if(b=a.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)){for(var e=1;6>=e;e++)b[e]=parseInt(b[e],10)||0;b[2]-=1,d=b[7]?1e3*("0"+b[7]):null,c=b[8]?new Date(Date.UTC(b[1],b[2],b[3],b[4],b[5],b[6],d)):new Date(b[1],b[2],b[3],b[4],b[5],b[6],d)}else"number"==typeof a?(c=new Date,c.setTime(a)):a.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)?(c=new Date,c.setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")))):a.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/)?(c=new Date,c.setTime(Date.parse(a))):(c=new Date,c.setTime(Date.parse(a)));return c},a.strftime=function(b,e){var f=this.lookup("date"),g=a.meridian();f||(f={}),f=this.prepareOptions(f,d);var h=b.getDay(),i=b.getDate(),j=b.getFullYear(),k=b.getMonth()+1,l=b.getHours(),m=l,n=l>11?1:0,o=b.getSeconds(),p=b.getMinutes(),q=b.getTimezoneOffset(),r=Math.floor(Math.abs(q/60)),s=Math.abs(q)-60*r,t=(q>0?"-":"+")+(r.toString().length<2?"0"+r:r)+(s.toString().length<2?"0"+s:s);return m>12?m-=12:0===m&&(m=12),e=e.replace("%a",f.abbr_day_names[h]),e=e.replace("%A",f.day_names[h]),e=e.replace("%b",f.abbr_month_names[k]),e=e.replace("%B",f.month_names[k]),e=e.replace("%d",c(i)),e=e.replace("%e",i),e=e.replace("%-d",i),e=e.replace("%H",c(l)),e=e.replace("%-H",l),e=e.replace("%I",c(m)),e=e.replace("%-I",m),e=e.replace("%m",c(k)),e=e.replace("%-m",k),e=e.replace("%M",c(p)),e=e.replace("%-M",p),e=e.replace("%p",g[n]),e=e.replace("%S",c(o)),e=e.replace("%-S",o),e=e.replace("%w",h),e=e.replace("%y",c(j)),e=e.replace("%-y",c(j).replace(/^0+/,"")),e=e.replace("%Y",j),e=e.replace("%z",t)},a.toTime=function(a,b){var c=this.parseDate(b),d=this.lookup(a);return c.toString().match(/invalid/i)?c.toString():d?this.strftime(c,d):c.toString()},a.toPercentage=function(a,b){return b=this.prepareOptions(b,this.lookup("number.percentage.format"),this.lookup("number.format"),g),a=this.toNumber(a,b),a+"%"},a.toHumanSize=function(a,b){for(var c,d,e=1024,f=a,g=0;f>=e&&4>g;)f/=e,g+=1;return 0===g?(c=this.t("number.human.storage_units.units.byte",{count:f}),d=0):(c=this.t("number.human.storage_units.units."+h[g]),d=f-Math.floor(f)===0?0:1),b=this.prepareOptions(b,{precision:d,format:"%n%u",delimiter:""}),a=this.toNumber(f,b),a=b.format.replace("%u",c).replace("%n",a)},a.t=a.translate,a.l=a.localize,a.p=a.pluralize}("undefined"==typeof exports?this.I18n||(this.I18n={}):exports),define("i18n",function(a){return function(){var b;return b||a.I18n}}(this)),define("text",["module"],function(a){var b,c,d=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,f=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,g="undefined"!=typeof location&&location.href,h=g&&location.protocol&&location.protocol.replace(/\:/,""),i=g&&location.hostname,j=g&&(location.port||void 0),k=[],l=a.config&&a.config()||{};return b={version:"2.0.3",strip:function(a){if(a){a=a.replace(e,"");var b=a.match(f);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:l.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=d[b];try{a=new ActiveXObject(c)}catch(e){}if(a){d=[c];break}}return a},parseName:function(a){var b=!1,c=a.indexOf("."),d=a.substring(0,c),e=a.substring(c+1,a.length);return c=e.indexOf("!"),-1!==c&&(b=e.substring(c+1,e.length),b="strip"===b,e=e.substring(0,c)),{moduleName:d,ext:e,strip:b}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return i?(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,l.isBuild&&(k[a]=d),e(d)},load:function(a,c,d,e){if(e.isBuild&&!e.inlineText)return void d();l.isBuild=e.isBuild;var f=b.parseName(a),k=f.moduleName+"."+f.ext,m=c.toUrl(k),n=l.useXhr||b.useXhr;!g||n(m,h,i,j)?b.get(m,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([k],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)})},write:function(a,c,d){if(k.hasOwnProperty(c)){var e=b.jsEscape(k[c]);d.asModule(a+"!"+c,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.moduleName+"."+g.ext,i=d.toUrl(g.moduleName+"."+g.ext)+".js";b.load(h,d,function(){var c=function(a){return e(i,a)};c.asModule=function(a,b){return e.asModule(a,i,b)},b.write(a,h,c,f)},f)}},"node"===l.env||!l.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),b.get=function(a,b){var d=c.readFileSync(a,"utf8");0===d.indexOf("﻿")&&(d=d.substring(1)),b(d)}):"xhr"===l.env||!l.env&&b.createXhr()?b.get=function(a,c,d){var e=b.createXhr();e.open("GET",a,!0),l.onXhr&&l.onXhr(e,a),e.onreadystatechange=function(){var b,f;4===e.readyState&&(b=e.status,b>399&&600>b?(f=new Error(a+" HTTP status: "+b),f.xhr=e,d(f)):c(e.responseText))},e.send(null)}:("rhino"===l.env||!l.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}),b}),require(["i18n"],function(a){a.translations.de={pricing:{book_types:"Buchtypen",size:"Format",covers:"Einbände",papers:"Papiere",custom_options:"Individuelle Optionen",logo:"Logo",end_sheets:"Vorsatzpapier",cover_linens:"Leineneinbände",save_percent:"{{percentage}} % sparen",loading:"Lädt ...",quantity:"Menge",estimated_pages:"Voraussichtliche Seitenanzahl",price_per_copy:"Preis pro Exemplar",contact_us:"Kontakt",choose:"Wählen",errors:{selection:"Es liegt ein Problem mit der Auswahl vor.",blacklist:"Die derzeitige Auswahl ist ungültig.",must_be_even:"Muss gerade sein",invalid_page_count_must_be_between_24_and_480_pages:"Ungültige Seitenanzahl. Sie muss zwischen 24 und 480 liegen.",invalid_page_count_must_be_divisible_by_4_for_magazines:"Ungültige Seitenanzahl. Sie muss für Zeitschriften durch 4 teilbar sein."}}}}),define("locales/de",function(){}),require(["i18n"],function(a){a.translations["en-gb"]={pricing:{book_types:"Book Types",size:"Size",covers:"Covers",papers:"Papers",custom_options:"Custom Options",logo:"Logo",end_sheets:"End Sheets",cover_linens:"Cover Linens",save_percent:"save {{percentage}}%",loading:"Loading...",quantity:"Quantity",estimated_pages:"Estimated Pages",price_per_copy:"Price per copy",contact_us:"Contact Us",choose:"Choose",errors:{selection:"There is a problem with your selection",blacklist:"Current choices are not valid",must_be_even:"Must be even",invalid_page_count_must_be_between_24_and_480_pages:"Invalid page count - must be between 24 and 480 pages",invalid_page_count_must_be_divisible_by_4_for_magazines:"Invalid page count - must be divisible by 4 for magazines"}}}}),define("locales/en-gb",function(){}),require(["i18n"],function(a){a.translations.en={pricing:{book_types:"Book Types",size:"Size",covers:"Covers",papers:"Papers",custom_options:"Custom Options",logo:"Logo",end_sheets:"End Sheets",cover_linens:"Cover Linens",save_percent:"save {{percentage}}%",loading:"Loading...",quantity:"Quantity",estimated_pages:"Estimated Pages",price_per_copy:"Price per copy",contact_us:"Contact Us",choose:"Choose",errors:{selection:"There is a problem with your selection",blacklist:"The combination of book or magazine elements you have selected is not available. Please make a different selection.",must_be_even:"Must be even",invalid_page_count_must_be_between_24_and_480_pages:"Invalid page count - must be between 24 and 480 pages",invalid_page_count_must_be_divisible_by_4_for_magazines:"Invalid page count - must be divisible by 4 for magazines"}}}}),define("locales/en",function(){}),require(["i18n"],function(a){a.translations.es={pricing:{book_types:"Tipos de libros",size:"Tamaño",covers:"Cubiertas",papers:"Papeles",custom_options:"Opciones personalizadas",logo:"Logotipo",end_sheets:"Guardas",cover_linens:"Linos de cubierta",save_percent:"save {{percentage}}%",loading:"Cargando...",quantity:"Cantidad",estimated_pages:"Páginas estimadas",price_per_copy:"Precio por copia",contact_us:"Contáctenos",choose:"Elegir",errors:{selection:"Se produjo un problema en su selección",blacklist:"Las opciones actuales no son válidas",must_be_even:"Deben ser pares",invalid_page_count_must_be_between_24_and_480_pages:"El recuento de páginas no es válido; debe ser entre 24 y 480 páginas.",invalid_page_count_must_be_divisible_by_4_for_magazines:"El recuento de páginas no es válido; debe ser divisible por 4 para las revistas."}}}}),define("locales/es",function(){}),require(["i18n"],function(a){a.translations.fr={pricing:{book_types:"Types de livres",size:"Taille",covers:"Couvertures",papers:"Papiers",custom_options:"Options de personnalisation",logo:"Logo",end_sheets:"Dernières feuilles",cover_linens:"Toiles de couverture",save_percent:"économiser {{percentage}}%",loading:"Chargement en cours...",quantity:"Quantité",estimated_pages:"Nombre de pages estimé",price_per_copy:"Prix par exemplaire",contact_us:"Pour nous contacter",choose:"Choisir",errors:{selection:"Un problème s'est produit avec votre sélection",blacklist:"Les choix effectués ne sont pas valides",must_be_even:"Le nombre doit être pair",invalid_page_count_must_be_between_24_and_480_pages:"Le nombre de pages n'est pas valide. Il doit être compris entre 24 et 480.",invalid_page_count_must_be_divisible_by_4_for_magazines:"Le nombre de pages n'est pas valide. Il doit être divisible par 4 pour les magazines."}}}}),define("locales/fr",function(){}),require(["i18n"],function(a){a.translations.it={pricing:{book_types:"Tipi di libro",size:"Dimensione",covers:"Copertine",papers:"Tipi di carta",custom_options:"Opzioni di personalizzazione",logo:"Logo",end_sheets:"Risguardi",cover_linens:"Tele per copertina",save_percent:"risparmia {{percentage}}%",loading:"Caricamento in corso...",quantity:"Quantità",estimated_pages:"Pagine stimate",price_per_copy:"Prezzo per copia",contact_us:"Contatti",choose:"Scegli",errors:{selection:"Problema con la selezione",blacklist:"Le selezioni correnti non sono valide",must_be_even:"Deve essere pari",invalid_page_count_must_be_between_24_and_480_pages:"Numero di pagine non valido. Deve essere compreso tra 24 e 480",invalid_page_count_must_be_divisible_by_4_for_magazines:"Numero di pagine non valido. Per le riviste, il numero deve essere divisibile per 4"}}}}),define("locales/it",function(){}),require(["i18n"],function(a){a.translations.nl={pricing:{book_types:"Soorten boeken",size:"Formaat",covers:"Omslagen",papers:"Papiersoorten",custom_options:"Opties voor maatwerk",logo:"Logo",end_sheets:"Schutbladen",cover_linens:"Omslagbekleding",save_percent:"opslaan {{percentage}}%",loading:"Laden...",quantity:"Aantal",estimated_pages:"Geschat aantal pagina's",price_per_copy:"Prijs per exemplaar",contact_us:"Contact",choose:"Kiezen",errors:{selection:"Er is een probleem met je selectie",blacklist:"De huidige keuzen zijn niet geldig",must_be_even:"Moet een even getal zijn",invalid_page_count_must_be_between_24_and_480_pages:"Ongeldig aantal pagina's: moet liggen tussen 24 en 480 pagina's",invalid_page_count_must_be_divisible_by_4_for_magazines:"Ongeldig aantal pagina's: moet deelbaar zijn door 4 voor magazines"}}}}),define("locales/nl",function(){}),require(["i18n"],function(a){a.translations.pt={pricing:{book_types:"Tipos de livro",size:"Tamanho",covers:"Capas",papers:"Papéis",custom_options:"Opções personalizadas:",logo:"Logotipo",end_sheets:"Folhas de guarda",cover_linens:"Linhos da capa",save_percent:"economize {{percentage}}%",loading:"Carregando...",quantity:"Quantidade",estimated_pages:"Páginas estimadas",price_per_copy:"Preço por cópia",contact_us:"Fale conosco",choose:"Escolha",errors:{selection:"Ocorreu um problema em sua seleção",blacklist:"As opções atuais não são válidas",must_be_even:"Deve ser par",invalid_page_count_must_be_between_24_and_480_pages:"Contagem de páginas inválida. Deve ter entre 24 e 480 páginas",invalid_page_count_must_be_divisible_by_4_for_magazines:"Contagem de páginas inválida. Deve ter divisível por 4 para revistas"}}}}),define("locales/pt",function(){}),define("lib/eventBroker",["underscore","backbone"],function(_,Backbone){return Backbone.EventBroker=Backbone.EventBroker||function(){var a=Backbone.Events.trigger,b={},c=function(a,b,c,d){var e;return!b&&a.interests&&(b=a,a=a.interests),e=_.isFunction(a)?a():a,_.each(e,function(e,f){var g=b[e];if(!_.isFunction(g))throw new Error("method '"+a[f]+"' not found for event '"+f+"'");c[d](f,g,b)}),c},d={register:function(a,b){return a||b?c(a,b,this,"on"):this},unregister:function(a,b){return a||b?c(a,b,this,"off"):this}};return _.extend({namespace:"",get:function(a){return this.has(a)||(b[a]=_.extend({namespace:a},Backbone.Events,d)),b[a]},has:function(a){return"undefined"!=typeof b[a]},destroy:function(a){return a?this.has(a)&&(b[a].off(),delete b[a]):_.each(b,function(a,b){this.destroy(b)},this),this}},Backbone.Events,d,{trigger:function(b){if(null!==b&&void 0!==b)return a.apply(this,[].slice.call(arguments));throw new Error("Backbone.EventBroker.trigger invoked with null or undefined event")}})}(),Backbone.EventBroker}),define("views/base",["jquery","underscore","backbone","lib/eventBroker","i18n"],function($,_,Backbone,a,b){var c=Backbone.View.extend({broker:a.get(),setBrokerNamespace:function(b){"undefined"==typeof b&&(b=this.$el.data("event-namespace")),this.broker=a.get(b)},template:"",render:function(){var a=_.extend(this.serialize(),{_:_,$:$,I18n:b});return this.$el.html(_.template(this.template,a)),this.trigger("render"),this.afterRender(),this},afterRender:function(){},serialize:function(){return{}}});return c}),define("lib/breakpoints",["jquery","underscore","backbone"],function($,_,Backbone){var a=function(){this.initialize.apply(this,arguments)};return _.extend(a.prototype,Backbone.Events,{breakpoint:"lg",breakpointSizes:{"1px":"sm","2px":"md","3px":"lg"},breakpointMediaQueries:{sm:"max-width: 749px",md:"min-width: 750px",lg:"min-width: 960px"},elementClass:"breaker-1232",element:null,initialize:function(){this.initBreakpointTracking()},initBreakpointTracking:function(a){this.setElementByClass(a),this.initEvents(),this.updateBreakpointSize()},initEvents:function(){var a=_.bind(_.throttle(function(){var a=this.getSizeByElement();a!=this.breakpoint&&this.updateBreakpointSize()},200),this);$(window).resize(a)},setElementByClass:function(a){if(this.elementClass=a||this.elementClass,$("."+this.elementClass).length)this.element=$("."+this.elementClass);else{this.element=$('<div class="'+this.elementClass+'"/>'),$("body").append(this.element);var b=Object.getOwnPropertyNames(this.breakpointMediaQueries),c="<!-- breakpoint.js styles -->\n";c+="<style>";for(var d in b)c+="@media ("+this.breakpointMediaQueries[b[d]]+"){",c+="."+this.elementClass+" {",c+="font-size: "+this.getBreakpointSize(b[d])+";}",c+="}";c+="}</style>",$("head").append(c)}},getBreakpointSize:function(a){var b=Object.getOwnPropertyNames(this.breakpointSizes);for(var c in b)if(a==this.breakpointSizes[b[c]])return b[c]},getSizeByElement:function(){return this.breakpointSizes[this.element.css("font-size")]},updateBreakpointSize:function(){this.breakpoint=this.getSizeByElement(),this.trigger("change",this.breakpoint)}}),new a}),function(a,b,c,d){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){var b=$.data(a,k);return null===b?d:b}function g(a){return function(b){return Math.round(b*a)*(1/a)}}function h(a,b){var c=a;return q.isString(a)?r.Easings[a]||(c=!1):c=q.isArray(a)&&1===a.length?g.apply(null,a):q.isArray(a)&&2===a.length?t.apply(null,a.concat([b])):q.isArray(a)&&4===a.length?s.apply(null,a):!1,c===!1&&(c=r.Easings[r.defaults.easing]?r.defaults.easing:m),c}function i(a){if(a)for(var b=(new Date).getTime(),c=0,e=r.State.calls.length;e>c;c++)if(r.State.calls[c]){var g=r.State.calls[c],h=g[0],k=g[2],l=g[3];l||(l=r.State.calls[c][3]=b-16);for(var m=Math.min((b-l)/k.duration,1),n=0,o=h.length;o>n;n++){var s=h[n],t=s.element;if(f(t)){var v=!1;k.display&&"none"!==k.display&&u.setPropertyValue(t,"display",k.display),k.visibility&&"hidden"!==k.visibility&&u.setPropertyValue(t,"visibility",k.visibility);for(var w in s)if("element"!==w){var x,y=s[w],z=q.isString(y.easing)?r.Easings[y.easing]:y.easing;if(x=1===m?y.endValue:y.startValue+(y.endValue-y.startValue)*z(m),y.currentValue=x,u.Hooks.registered[w]){var A=u.Hooks.getRoot(w),B=f(t).rootPropertyValueCache[A];B&&(y.rootPropertyValue=B)}var C=u.setPropertyValue(t,w,y.currentValue+(0===parseFloat(x)?"":y.unitType),y.rootPropertyValue,y.scrollData);u.Hooks.registered[w]&&(f(t).rootPropertyValueCache[A]=u.Normalizations.registered[A]?u.Normalizations.registered[A]("extract",null,C[1]):C[1]),"transform"===C[0]&&(v=!0)}k.mobileHA&&f(t).transformCache.translate3d===d&&(f(t).transformCache.translate3d="(0px, 0px, 0px)",v=!0),v&&u.flushTransformCache(t)}}k.display&&"none"!==k.display&&(r.State.calls[c][2].display=!1),k.visibility&&"hidden"!==k.visibility&&(r.State.calls[c][2].visibility=!1),k.progress&&k.progress.call(g[1],g[1],m,Math.max(0,l+k.duration-b),l),1===m&&j(c)}r.State.isTicking&&(r.mock?i(!0):p(i))}function j(a,b){if(!r.State.calls[a])return!1;for(var c=r.State.calls[a][0],e=r.State.calls[a][1],g=r.State.calls[a][2],h=r.State.calls[a][4],i=!1,j=0,k=c.length;k>j;j++){var l=c[j].element;if(b||g.loop||("none"===g.display&&u.setPropertyValue(l,"display",g.display),"hidden"===g.visibility&&u.setPropertyValue(l,"visibility",g.visibility)),($.queue(l)[1]===d||!/\.velocityQueueEntryFlag/i.test($.queue(l)[1]))&&f(l)){f(l).isAnimating=!1,f(l).rootPropertyValueCache={};var m=!1;$.each(f(l).transformCache,function(a,b){var c=/^scale/.test(a)?1:0;new RegExp("^\\("+c+"[^.]").test(b)&&(m=!0,delete f(l).transformCache[a])}),g.mobileHA&&(m=!0,delete f(l).transformCache.translate3d),m&&u.flushTransformCache(l),u.Values.removeClass(l,"velocity-animating")}if(!b&&g.complete&&!g.loop&&j===k-1)try{g.complete.call(e,e)}catch(n){setTimeout(function(){throw n},1)}h&&g.loop!==!0&&h(e),g.loop!==!0||b||r.animate(l,"reverse",{loop:!0,delay:g.delay}),g.queue!==!1&&$.dequeue(l,g.queue)}r.State.calls[a]=!1;for(var o=0,p=r.State.calls.length;p>o;o++)if(r.State.calls[o]!==!1){i=!0;break}i===!1&&(r.State.isTicking=!1,delete r.State.calls,r.State.calls=[])}var k="velocity",l=400,m="swing",n=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return d}(),o=function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),p=b.requestAnimationFrame||o,q={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof SVGElement},isEmptyObject:function(a){var b;
for(b in a)return!1;return!0}},$=b.jQuery||a.Velocity&&a.Velocity.Utilities;if(!$)throw new Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(a.Velocity!==d&&!a.Velocity.Utilities)throw new Error("Velocity: Namespace is occupied.");if(7>=n){if(b.jQuery)return void(b.jQuery.fn.velocity=b.jQuery.fn.animate);throw new Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.")}if(8===n&&!b.jQuery)throw new Error("Velocity: For IE8, Velocity requires jQuery to be loaded. (Velocity's jQuery shim does not work with IE8.)");var r=a.Velocity=a.velocity=$.extend({State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:b.jQuery,Sequences:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:l,easing:m,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},animate:function(){},mock:!1,version:{major:0,minor:10,patch:1},debug:!1},b.Velocity);b.pageYOffset!==d?(r.State.scrollAnchor=b,r.State.scrollPropertyLeft="pageXOffset",r.State.scrollPropertyTop="pageYOffset"):(r.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,r.State.scrollPropertyLeft="scrollLeft",r.State.scrollPropertyTop="scrollTop"),r.State.isMobile||c.hidden===d||c.addEventListener("visibilitychange",function(){c.hidden?(p=function(a){return setTimeout(function(){a(!0)},16)},i()):p=b.requestAnimationFrame||o});var s=function(){function a(a,b){return 1-3*b+3*a}function b(a,b){return 3*b-6*a}function c(a){return 3*a}function d(d,e,f){return((a(e,f)*d+b(e,f))*d+c(e))*d}function e(d,e,f){return 3*a(e,f)*d*d+2*b(e,f)*d+c(e)}return function(a,b,c,f){function g(b){for(var f=b,g=0;8>g;++g){var h=e(f,a,c);if(0===h)return f;var i=d(f,a,c)-b;f-=i/h}return f}if(4!==arguments.length)return!1;for(var h=0;4>h;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;return a=Math.min(a,1),c=Math.min(c,1),a=Math.max(a,0),c=Math.max(c,0),function(e){return a===b&&c===f?e:d(g(e),b,f)}}}(),t=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;;)if(h=c(h||i,g),j.push(1+h.x),k+=16,!(Math.abs(h.x)>l&&Math.abs(h.v)>l))break;return f?function(a){return j[a*(j.length-1)|0]}:k}}();!function(){r.Easings.linear=function(a){return a},r.Easings.swing=function(a){return.5-Math.cos(a*Math.PI)/2},r.Easings.spring=function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)},r.Easings.ease=s(.25,.1,.25,1),r.Easings["ease-in"]=s(.42,0,1,1),r.Easings["ease-out"]=s(0,0,.58,1),r.Easings["ease-in-out"]=s(.42,0,.58,1);var a={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,c){a[c]=function(a){return Math.pow(a,b+2)}}),$.extend(a,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),$.each(a,function(a,b){r.Easings["easeIn"+a]=b,r.Easings["easeOut"+a]=function(a){return 1-b(1-a)},r.Easings["easeInOut"+a]=function(a){return.5>a?b(2*a)/2:1-b(-2*a+2)/2}})}();var u=r.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<u.Lists.colors.length;a++)u.Hooks.templates[u.Lists.colors[a]]=["Red Green Blue Alpha","255 255 255 1"];var b,c,d;if(n)for(b in u.Hooks.templates){c=u.Hooks.templates[b],d=c[0].split(" ");var e=c[1].match(u.RegEx.valueSplit);"Color"===d[0]&&(d.push(d.shift()),e.push(e.shift()),u.Hooks.templates[b]=[d.join(" "),e.join(" ")])}for(b in u.Hooks.templates){c=u.Hooks.templates[b],d=c[0].split(" ");for(var a in d){var f=b+d[a],g=a;u.Hooks.registered[f]=[b,g]}}},getRoot:function(a){var b=u.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return u.RegEx.valueUnwrap.test(b)&&(b=b.match(u.Hooks.RegEx.valueUnwrap)[1]),u.Values.isCSSNullValue(b)&&(b=u.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=u.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=u.Hooks.cleanRootPropertyValue(d,b),b.toString().match(u.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=u.Hooks.registered[a];if(d){var e,f,g=d[0],h=d[1];return c=u.Hooks.cleanRootPropertyValue(g,c),e=c.toString().match(u.RegEx.valueSplit),e[h]=b,f=e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return u.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(u.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},opacity:function(a,b,c){if(8>=n)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){9>=n||r.State.isGingerbread||(u.Lists.transformsBase=u.Lists.transformsBase.concat(u.Lists.transforms3D));for(var a=0;a<u.Lists.transformsBase.length;a++)!function(){var b=u.Lists.transformsBase[a];u.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return"transform";case"extract":return f(c).transformCache[b]===d?/^scale/i.test(b)?1:0:f(c).transformCache[b].replace(/[()]/g,"");case"inject":var g=!1;switch(b.substr(0,b.length-1)){case"translate":g=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":r.State.isAndroid&&f(c).transformCache[b]===d&&1>e&&(e=1),g=!/(\d)$/i.test(e);break;case"skew":g=!/(deg|\d)$/i.test(e);break;case"rotate":g=!/(deg|\d)$/i.test(e)}return g||(f(c).transformCache[b]="("+e+")"),f(c).transformCache[b]}}}();for(var a=0;a<u.Lists.colors.length;a++)!function(){var b=u.Lists.colors[a];u.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return b;case"extract":var f;if(u.RegEx.wrappedValueAlreadyExtracted.test(e))f=e;else{var g,h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(e)?g=h[e]!==d?h[e]:h.black:u.RegEx.isHex.test(e)?g="rgb("+u.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(g=h.black),f=(g||e).toString().match(u.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=n||3!==f.split(" ").length||(f+=" 1"),f;case"inject":return 8>=n?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(8>=n?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(n||r.State.isAndroid&&!r.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(r.State.prefixMatches[a])return[r.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;d>c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),q.isString(r.State.prefixElement.style[e]))return r.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d}),b=d.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,c,e,g){function h(a,c){function e(){j&&u.setPropertyValue(a,"display","none")}var i=0;if(8>=n)i=$.css(a,c);else{var j=!1;if(/^(width|height)$/.test(c)&&0===u.getPropertyValue(a,"display")&&(j=!0,u.setPropertyValue(a,"display",u.Values.getDisplayType(a))),!g){if("height"===c&&"border-box"!==u.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var k=a.offsetHeight-(parseFloat(u.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(u.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(u.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(u.getPropertyValue(a,"paddingBottom"))||0);return e(),k}if("width"===c&&"border-box"!==u.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var l=a.offsetWidth-(parseFloat(u.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(u.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(u.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(u.getPropertyValue(a,"paddingRight"))||0);return e(),l}}var m;m=f(a)===d?b.getComputedStyle(a,null):f(a).computedStyle?f(a).computedStyle:f(a).computedStyle=b.getComputedStyle(a,null),(n||r.State.isFirefox)&&"borderColor"===c&&(c="borderTopColor"),i=9===n&&"filter"===c?m.getPropertyValue(c):m[c],(""===i||null===i)&&(i=a.style[c]),e()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(c)){var o=h(a,"position");("fixed"===o||"absolute"===o&&/top|left/i.test(c))&&(i=$(a).position()[c]+"px")}return i}var i;if(u.Hooks.registered[c]){var j=c,k=u.Hooks.getRoot(j);e===d&&(e=u.getPropertyValue(a,u.Names.prefixCheck(k)[0])),u.Normalizations.registered[k]&&(e=u.Normalizations.registered[k]("extract",a,e)),i=u.Hooks.extractValue(j,e)}else if(u.Normalizations.registered[c]){var l,m;l=u.Normalizations.registered[c]("name",a),"transform"!==l&&(m=h(a,u.Names.prefixCheck(l)[0]),u.Values.isCSSNullValue(m)&&u.Hooks.templates[c]&&(m=u.Hooks.templates[c][1])),i=u.Normalizations.registered[c]("extract",a,m)}return/^[\d-]/.test(i)||(i=f(a)&&f(a).isSVG&&u.Names.SVGAttribute(c)?/^(height|width)$/i.test(c)?a.getBBox()[c]:a.getAttribute(c):h(a,u.Names.prefixCheck(c)[0])),u.Values.isCSSNullValue(i)&&(i=0),r.debug>=2&&console.log("Get "+c+": "+i),i},setPropertyValue:function(a,c,d,e,g){var h=c;if("scroll"===c)g.container?g.container["scroll"+g.direction]=d:"Left"===g.direction?b.scrollTo(d,g.alternateValue):b.scrollTo(g.alternateValue,d);else if(u.Normalizations.registered[c]&&"transform"===u.Normalizations.registered[c]("name",a))u.Normalizations.registered[c]("inject",a,d),h="transform",d=f(a).transformCache[c];else{if(u.Hooks.registered[c]){var i=c,j=u.Hooks.getRoot(c);e=e||u.getPropertyValue(a,j),d=u.Hooks.injectValue(i,d,e),c=j}if(u.Normalizations.registered[c]&&(d=u.Normalizations.registered[c]("inject",a,d),c=u.Normalizations.registered[c]("name",a)),h=u.Names.prefixCheck(c)[0],8>=n)try{a.style[h]=d}catch(k){r.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else f(a)&&f(a).isSVG&&u.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[h]=d;r.debug>=2&&console.log("Set "+c+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){function b(b){return parseFloat(u.getPropertyValue(a,b))}var c="";if((n||r.State.isAndroid&&!r.State.isChrome)&&f(a).isSVG){var d={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]};$.each(f(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),d[a]&&(c+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e,g;$.each(f(a).transformCache,function(b){return e=f(a).transformCache[b],"transformPerspective"===b?(g=e,!0):(9===n&&"rotateZ"===b&&(b="rotate"),void(c+=b+e+" "))}),g&&(c="perspective"+g+" "+c)}u.setPropertyValue(a,"transform",c)}};u.Hooks.register(),u.Normalizations.register(),r.animate=function(){function a(){return m?B.promise||null:o}function g(){function a(){function a(a,b){var c=d,e=d,f=d;return q.isArray(a)?(c=a[0],!q.isArray(a[1])&&/^[\d-]/.test(a[1])||q.isFunction(a[1])||u.RegEx.isHex.test(a[1])?f=a[1]:(q.isString(a[1])&&!u.RegEx.isHex.test(a[1])||q.isArray(a[1]))&&(e=b?a[1]:h(a[1],j.duration),a[2]!==d&&(f=a[2]))):c=a,b||(e=e||j.easing),q.isFunction(c)&&(c=c.call(g,y,x)),q.isFunction(f)&&(f=f.call(g,y,x)),[c||0,e,f]}function k(a,b){var c,d;return d=(b||0).toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=u.Values.getUnitType(a)),[d,c]}function l(){var a={parent:g.parentNode,position:u.getPropertyValue(g,"position"),fontSize:u.getPropertyValue(g,"fontSize")},d=a.position===H.lastPosition&&a.parent===H.lastParent,e=a.fontSize===H.lastFontSize&&a.parent===H.lastParent;H.lastParent=a.parent,H.lastPosition=a.position,H.lastFontSize=a.fontSize,null===H.remToPx&&(H.remToPx=parseFloat(u.getPropertyValue(c.body,"fontSize"))||16),null===H.vwToPx&&(H.vwToPx=parseFloat(b.innerWidth)/100,H.vhToPx=parseFloat(b.innerHeight)/100);var h={overflowX:null,overflowY:null,boxSizing:null,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,paddingLeft:null},i={},j=10;if(i.remToPx=H.remToPx,i.vwToPx=H.vwToPx,i.vhToPx=H.vhToPx,n&&!f(g).isSVG)var k=/^auto$/i.test(g.currentStyle.width),l=/^auto$/i.test(g.currentStyle.height);d&&e||(f(g).isSVG||(h.overflowX=u.getPropertyValue(g,"overflowX"),h.overflowY=u.getPropertyValue(g,"overflowY"),h.boxSizing=u.getPropertyValue(g,"boxSizing"),h.minWidth=u.getPropertyValue(g,"minWidth"),h.maxWidth=u.getPropertyValue(g,"maxWidth")||"none",h.minHeight=u.getPropertyValue(g,"minHeight"),h.maxHeight=u.getPropertyValue(g,"maxHeight")||"none",h.paddingLeft=u.getPropertyValue(g,"paddingLeft")),h.width=u.getPropertyValue(g,"width",null,!0),h.height=u.getPropertyValue(g,"height",null,!0)),d?(i.percentToPxRatioWidth=H.lastPercentToPxWidth,i.percentToPxRatioHeight=H.lastPercentToPxHeight):(f(g).isSVG||(u.setPropertyValue(g,"overflowX","hidden"),u.setPropertyValue(g,"overflowY","hidden"),u.setPropertyValue(g,"boxSizing","content-box"),u.setPropertyValue(g,"minWidth",j+"%"),u.setPropertyValue(g,"maxWidth",j+"%"),u.setPropertyValue(g,"minHeight",j+"%"),u.setPropertyValue(g,"maxHeight",j+"%")),u.setPropertyValue(g,"width",j+"%"),u.setPropertyValue(g,"height",j+"%")),e?i.emToPx=H.lastEmToPx:f(g).isSVG||u.setPropertyValue(g,"paddingLeft",j+"em"),d||(i.percentToPxRatioWidth=H.lastPercentToPxWidth=(parseFloat(u.getPropertyValue(g,"width",null,!0))||1)/j,i.percentToPxRatioHeight=H.lastPercentToPxHeight=(parseFloat(u.getPropertyValue(g,"height",null,!0))||1)/j),e||(i.emToPx=H.lastEmToPx=(parseFloat(u.getPropertyValue(g,"paddingLeft"))||1)/j);for(var m in h)null!==h[m]&&u.setPropertyValue(g,m,h[m]);return f(g).isSVG||(n?(k&&u.setPropertyValue(g,"width","auto"),l&&u.setPropertyValue(g,"height","auto")):(u.setPropertyValue(g,"height","auto"),h.height!==u.getPropertyValue(g,"height",null,!0)&&u.setPropertyValue(g,"height",h.height),u.setPropertyValue(g,"width","auto"),h.width!==u.getPropertyValue(g,"width",null,!0)&&u.setPropertyValue(g,"width",h.width))),r.debug>=1&&console.log("Unit ratios: "+JSON.stringify(i),g),i}if(j.begin&&0===y)try{j.begin.call(s,s)}catch(o){setTimeout(function(){throw o},1)}if("scroll"===C){var p,w,z,A=/^x$/i.test(j.axis)?"Left":"Top",D=parseFloat(j.offset)||0;j.container?j.container.jquery||q.isNode(j.container)?(j.container=j.container[0]||j.container,p=j.container["scroll"+A],z=p+$(g).position()[A.toLowerCase()]+D):j.container=null:(p=r.State.scrollAnchor[r.State["scrollProperty"+A]],w=r.State.scrollAnchor[r.State["scrollProperty"+("Left"===A?"Top":"Left")]],z=$(g).offset()[A.toLowerCase()]+D),m={scroll:{rootPropertyValue:!1,startValue:p,currentValue:p,endValue:z,unitType:"",easing:j.easing,scrollData:{container:j.container,direction:A,alternateValue:w}},element:g},r.debug&&console.log("tweensContainer (scroll): ",m.scroll,g)}else if("reverse"===C){if(!f(g).tweensContainer)return void $.dequeue(g,j.queue);"none"===f(g).opts.display&&(f(g).opts.display="block"),"hidden"===f(g).opts.visibility&&(f(g).opts.visibility="visible"),f(g).opts.loop=!1,f(g).opts.begin=null,f(g).opts.complete=null,v.easing||delete j.easing,v.duration||delete j.duration,j=$.extend({},f(g).opts,j);var E=$.extend(!0,{},f(g).tweensContainer);for(var F in E)if("element"!==F){var G=E[F].startValue;E[F].startValue=E[F].currentValue=E[F].endValue,E[F].endValue=G,q.isEmptyObject(v)||(E[F].easing=j.easing),r.debug&&console.log("reverse tweensContainer ("+F+"): "+JSON.stringify(E[F]),g)}m=E}else if("start"===C){var E;f(g).tweensContainer&&f(g).isAnimating===!0&&(E=f(g).tweensContainer),$.each(t,function(b,c){if(RegExp("^"+u.Lists.colors.join("$|^")+"$").test(b)){var e=a(c,!0),f=e[0],g=e[1],h=e[2];if(u.RegEx.isHex.test(f)){for(var i=["Red","Green","Blue"],j=u.Values.hexToRgb(f),k=h?u.Values.hexToRgb(h):d,l=0;l<i.length;l++)t[b+i[l]]=[j[l],g,k?k[l]:k];delete t[b]}}});for(var J in t){var K=a(t[J]),L=K[0],M=K[1],N=K[2];J=u.Names.camelCase(J);var O=u.Hooks.getRoot(J),P=!1;if(f(g).isSVG||u.Names.prefixCheck(O)[1]!==!1||u.Normalizations.registered[O]!==d){(j.display&&"none"!==j.display||j.visibility&&"hidden"!==j.visibility)&&/opacity|filter/.test(J)&&!N&&0!==L&&(N=0),j._cacheValues&&E&&E[J]?(N===d&&(N=E[J].endValue+E[J].unitType),P=f(g).rootPropertyValueCache[O]):u.Hooks.registered[J]?N===d?(P=u.getPropertyValue(g,O),N=u.getPropertyValue(g,J,P)):P=u.Hooks.templates[O][1]:N===d&&(N=u.getPropertyValue(g,J));var Q,R,S,T=!1;Q=k(J,N),N=Q[0],S=Q[1],Q=k(J,L),L=Q[0].replace(/^([+-\/*])=/,function(a,b){return T=b,""}),R=Q[1],N=parseFloat(N)||0,L=parseFloat(L)||0;var U;if("%"===R&&(/^(fontSize|lineHeight)$/.test(J)?(L/=100,R="em"):/^scale/.test(J)?(L/=100,R=""):/(Red|Green|Blue)$/i.test(J)&&(L=L/100*255,R="")),/[\/*]/.test(T))R=S;else if(S!==R&&0!==N)if(0===L)R=S;else{U=U||l();var V=/margin|padding|left|right|width|text|word|letter/i.test(J)||/X$/.test(J)?"x":"y";switch(S){case"%":N*="x"===V?U.percentToPxRatioWidth:U.percentToPxRatioHeight;break;case"px":break;default:N*=U[S+"ToPx"]}switch(R){case"%":N*=1/("x"===V?U.percentToPxRatioWidth:U.percentToPxRatioHeight);break;case"px":break;default:N*=1/U[R+"ToPx"]}}switch(T){case"+":L=N+L;break;case"-":L=N-L;break;case"*":L=N*L;break;case"/":L=N/L}m[J]={rootPropertyValue:P,startValue:N,currentValue:N,endValue:L,unitType:R,easing:M},r.debug&&console.log("tweensContainer ("+J+"): "+JSON.stringify(m[J]),g)}else r.debug&&console.log("Skipping ["+O+"] due to a lack of browser support.")}m.element=g}m.element&&(u.Values.addClass(g,"velocity-animating"),I.push(m),f(g).tweensContainer=m,f(g).opts=j,f(g).isAnimating=!0,y===x-1?(r.State.calls.length>1e4&&(r.State.calls=e(r.State.calls)),r.State.calls.push([I,s,j,null,B.resolver]),r.State.isTicking===!1&&(r.State.isTicking=!0,i())):y++)}var g=this,j=$.extend({},r.defaults,v),m={};if(f(g)===d&&$.data(g,k,{isSVG:q.isSVG(g),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}}),parseFloat(j.delay)&&j.queue!==!1&&$.queue(g,j.queue,function(a){r.velocityQueueEntryFlag=!0,f(g).delayTimer={setTimeout:setTimeout(a,parseFloat(j.delay)),next:a}}),r.mock===!0)j.duration=1;else switch(j.duration.toString().toLowerCase()){case"fast":j.duration=200;break;case"normal":j.duration=l;break;case"slow":j.duration=600;break;default:j.duration=parseFloat(j.duration)||1}j.easing=h(j.easing,j.duration),j.begin&&!q.isFunction(j.begin)&&(j.begin=null),j.progress&&!q.isFunction(j.progress)&&(j.progress=null),j.complete&&!q.isFunction(j.complete)&&(j.complete=null),j.display&&(j.display=j.display.toString().toLowerCase(),"auto"===j.display&&(j.display=r.CSS.Values.getDisplayType(g))),j.visibility&&(j.visibility=j.visibility.toString().toLowerCase()),j.mobileHA=j.mobileHA&&r.State.isMobile&&!r.State.isGingerbread,j.queue===!1?j.delay?setTimeout(a,j.delay):a():$.queue(g,j.queue,function(b,c){return c===!0?(B.promise&&B.resolver(s),!0):(r.velocityQueueEntryFlag=!0,void a(b))}),""!==j.queue&&"fx"!==j.queue||"inprogress"===$.queue(g)[0]||$.dequeue(g)}var m,o,p,s,t,v,w=arguments[0]&&($.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||q.isString(arguments[0].properties));if(q.isWrapped(this)?(m=!1,p=0,s=this,o=this):(m=!0,p=1,s=w?arguments[0].elements:arguments[0]),s=q.isWrapped(s)?[].slice.call(s):s){w?(t=arguments[0].properties,v=arguments[0].options):(t=arguments[p],v=arguments[p+1]);var x=q.isArray(s)||q.isNodeList(s)?s.length:1,y=0;if("stop"!==t&&!$.isPlainObject(v)){var z=p+1;v={};for(var A=z;A<arguments.length;A++)!q.isArray(arguments[A])&&/^\d/.test(arguments[A])?v.duration=parseFloat(arguments[A]):q.isString(arguments[A])||q.isArray(arguments[A])?v.easing=arguments[A]:q.isFunction(arguments[A])&&(v.complete=arguments[A])}var B={promise:null,resolver:null,rejecter:null};m&&r.Promise&&(B.promise=new r.Promise(function(a,b){B.resolver=a,B.rejecter=b}));var C;switch(t){case"scroll":C="scroll";break;case"reverse":C="reverse";break;case"stop":$.each(q.isNode(s)?[s]:s,function(a,b){f(b)&&f(b).delayTimer&&(clearTimeout(f(b).delayTimer.setTimeout),f(b).delayTimer.next&&f(b).delayTimer.next(),delete f(b).delayTimer)});var D=[];return $.each(r.State.calls,function(a,b){b&&$.each(q.isNode(b[1])?[b[1]]:b[1],function(b,c){$.each(q.isNode(s)?[s]:s,function(b,d){if(d===c){if(f(d)&&$.each(f(d).tweensContainer,function(a,b){b.endValue=b.currentValue}),v===!0||q.isString(v)){var e=q.isString(v)?v:"";$.each($.queue(d,e),function(a,b){q.isFunction(b)&&b(null,!0)}),$.queue(d,e,[])}D.push(a)}})})}),$.each(D,function(a,b){j(b,!0)}),B.promise&&B.resolver(s),a();default:if(!$.isPlainObject(t)||q.isEmptyObject(t)){if(q.isString(t)&&r.Sequences[t]){var E=v.duration,F=v.delay||0;return v.backwards===!0&&(s=(s.jquery?[].slice.call(s):s).reverse()),$.each(s,function(a,b){parseFloat(v.stagger)?v.delay=F+parseFloat(v.stagger)*a:q.isFunction(v.stagger)&&(v.delay=F+v.stagger.call(b,a,x)),v.drag&&(v.duration=parseFloat(E)||(/^(callout|transition)/.test(t)?1e3:l),v.duration=Math.max(v.duration*(v.backwards?1-a/x:(a+1)/x),.75*v.duration,200)),r.Sequences[t].call(b,b,v||{},a,x,s,B.promise?B:d)}),a()}var G="Velocity: First argument ("+t+") was not a property map, a known action, or a registered sequence. Aborting.";return B.promise?B.rejecter(new Error(G)):console.log(G),a()}C="start"}var H={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},I=[];$.each(q.isNode(s)?[s]:s,function(a,b){q.isNode(b)&&g.call(b)});var J,K=$.extend({},r.defaults,v);if(K.loop=parseInt(K.loop),J=2*K.loop-1,K.loop)for(var L=0;J>L;L++){var M={delay:K.delay};L===J-1&&(M.display=K.display,M.visibility=K.visibility,M.complete=K.complete),r.animate(s,"reverse",M)}return a()}};var v=b.jQuery||b.Zepto;v&&(v.fn.velocity=r.animate,v.fn.velocity.defaults=r.defaults),"undefined"!=typeof define&&define.amd?define("velocity",[],function(){return r}):"undefined"!=typeof module&&module.exports&&(module.exports=r),$.each(["Down","Up"],function(a,b){r.Sequences["slide"+b]=function(a,c,d,e,f,g){var h=$.extend({},c),i={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},j=h.begin,k=h.complete,l=!1;null!==h.display&&(h.display="Down"===b?h.display||"auto":h.display||"none"),h.begin=function(){function c(){i.height=parseFloat(r.CSS.getPropertyValue(a,"height")),a.style.height="auto",parseFloat(r.CSS.getPropertyValue(a,"height"))===i.height&&(l=!0),r.CSS.setPropertyValue(a,"height",i.height+"px")}if("Down"===b){i.overflow=[r.CSS.getPropertyValue(a,"overflow"),0],i.overflowX=[r.CSS.getPropertyValue(a,"overflowX"),0],i.overflowY=[r.CSS.getPropertyValue(a,"overflowY"),0],a.style.overflow="hidden",a.style.overflowX="visible",a.style.overflowY="hidden",c();for(var d in i)if(!/^overflow/.test(d)){var e=r.CSS.getPropertyValue(a,d);"height"===d&&(e=parseFloat(e)),i[d]=[e,0]}}else{c();for(var d in i){var e=r.CSS.getPropertyValue(a,d);"height"===d&&(e=parseFloat(e)),i[d]=[0,e]}a.style.overflow="hidden",a.style.overflowX="visible",a.style.overflowY="hidden"}j&&j.call(a,a)},h.complete=function(a){var c="Down"===b?0:1;l===!0?i.height[c]="auto":i.height[c]+="px";for(var d in i)a.style[d]=i[d][c];k&&k.call(a,a),g&&g.resolver(f||a)},r.animate(a,i,h)}}),$.each(["In","Out"],function(a,b){r.Sequences["fade"+b]=function(a,c,d,e,f,g){var h=$.extend({},c),i={opacity:"In"===b?1:0};if(d!==e-1)h.complete=h.begin=null;else{var j=h.complete;h.complete=function(){j&&j.call(a,a),g&&g.resolver(f||a)}}null!==h.display&&(h.display=h.display||("In"===b?"auto":"none")),r.animate(this,i,h)}})}(window.jQuery||window.Zepto||window,window,document),define("views/bannerCarousel",["jquery","underscore","backbone","views/base","lib/breakpoints","velocity"],function($,_,Backbone,a,b){var c=a.extend({viewport:null,viewportWidth:null,carousel:null,carouselWidth:null,carouselItems:[],carouselItemWidth:null,carouselItemCount:null,carouselControls:null,config:{imageWidth:57,slideSpeed:300,slideEaseing:"easeOutExpo"},events:{"click .js-prev, .js-next":"controlsClick"},initialize:function(){this.viewport=this.$el.find(".js-carousel-viewport"),this.carousel=this.$el.find(".js-carousel-wrap"),this.carouselItems=this.$el.find(".js-carousel-item"),this.carouselItemCount=this.carouselItems.length,this.carouselControls=this.$el.find(".js-controller");var a=_.bind(this.initCarousel,this),b=_.bind(this.updateCarousel,this);a(),$(window).resize(function(){b()})},initCarousel:function(){this.setViewportWidth(),this.setItemWidth(),this.setCarouselWidth(),this.setCarouselOffset(),this.showCarousel()},updateCarousel:function(){this.setViewportWidth(),this.setItemWidth(),this.setCarouselWidth(),this.updateCarouselOffset()},setViewportWidth:function(){this.viewportWidth=this.viewport.outerWidth()},setItemWidth:function(){"lg"===b.breakpoint?(this.carouselItemWidth=Math.round(this.viewportWidth*(this.config.imageWidth/100)),this.carouselControls.css("left",this.carouselItemWidth)):(this.carouselItemWidth=this.viewportWidth,this.carouselControls.css("left","auto")),this.carouselItems.css("width",this.carouselItemWidth)},setCarouselWidth:function(){this.carouselWidth=this.carouselItemCount*this.carouselItemWidth,this.carousel.css("width",this.carouselWidth)},setCarouselOffset:function(){$(".js-carousel-item:first").before($(".js-carousel-item:last")),this.carousel.stop().velocity({translateX:-this.carouselItemWidth},0)},updateCarouselOffset:function(){this.carousel.stop().velocity({translateX:-this.carouselItemWidth},0)},showCarousel:function(){this.$el.addClass("ready")},slideCarousel:function(a){"right"===a?this.carousel.velocity({translateX:-2*this.carouselItemWidth},{duration:0,complete:function(){for(var a=1;2>a;)$(".js-carousel-item:first").before($(".js-carousel-item:last")),a++}}).velocity({translateX:-this.carouselItemWidth},{duration:this.config.slideSpeed,easing:this.config.slideEaseing}):this.carousel.velocity({translateX:-2*this.carouselItemWidth},{duration:this.config.slideSpeed,easing:this.config.slideEaseing}).velocity({translateX:-this.carouselItemWidth},{duration:0,complete:function(){$(".js-carousel-item:last").after($(".js-carousel-item:first"))}})},controlsClick:function(a){a.preventDefault();var b=$(a.currentTarget).hasClass("js-prev")?"right":"left";this.slideCarousel(b)}});return c}),define("views/browserSizeImage",["jquery","underscore","backbone","views/base"],function($,_,Backbone,a){var b=a.extend({events:{"click .js-next-arrow":"nextArrowClick"},initialize:function(){},nextArrowClick:function(a){var b,c=$(".browser-size-image"),d=$(a.currentTarget).parents(".browser-size-image");c.each(function(a,e){return console.log($(e)[0]),console.log(d[0]),$(e)[0]===d[0]?(b=c.eq(a+1),!1):void 0});var e=b.offset();$("html, body").animate({scrollTop:e.top})}});return b}),define("views/bentoGrid",["jquery","underscore","backbone","views/base"],function($,_,Backbone,a){var b=a.extend({events:{"click .js-load-more":"loadMoreClick"},initialize:function(){},loadMoreClick:function(){this.$el.find(".js-load-more").css("display","none"),this.$el.find(".js-blurb-stories").css("display","inline-block")}});return b}),define("views/bookAnimation",["jquery","underscore","backbone","velocity","views/base"],function($,_,Backbone,a,b){var c=b.extend({bookPoints:null,bookLayers:null,initDelay:400,scrollListener:null,events:{},initialize:function(){this.bookPoints=this.$el.find(".js-book-point"),this.bookLayers=this.$el.find(".js-book-layer"),this.scrollListener=_.bind(this.isScrolledIntoView,this),$(window).scroll(this.scrollListener)},triggerBookPoints:function(){var a=0;_.each(this.bookPoints,function(b){_.delay(this.animateBookPoint,a,b),a+=this.initDelay},this)},triggerBookLayers:function(){var a=0;_.each(this.bookLayers,function(b){_.delay(this.animateBookLayer,a,b),a+=this.initDelay},this)},animateBookPoint:function(a){$(a).velocity("fadeIn",{duration:250,queue:!1})},animateBookLayer:function(a){$(a).velocity("fadeIn",{duration:250,queue:!1}).velocity({translateY:"100px"},{duration:1750,queue:!1,easing:"easeOutQuint"})},isScrolledIntoView:function(){var a=$(window).scrollTop(),b=a+$(window).height(),c=this.$el.offset().top,d=c+this.$el.height();(b>=d||a>=c)&&(this.triggerAnimation(),$(window).off("scroll",this.scrollListener))},triggerAnimation:function(){this.triggerBookPoints(),this.triggerBookLayers()}});return c}),define("views/buildkit",["jquery","underscore","backbone","views/base"],function($,_,Backbone,a){var b=a.extend({$tabs:null,events:{"click .js-source-toggle":"sourceClick","click .js-defaults-nav-link":"defaultsNavClick"},initialize:function(){},sourceClick:function(a){a.preventDefault(),$(a.currentTarget).next(".highlight").slideToggle()},defaultsNavClick:function(a){var b=$(a.currentTarget).data("section");$("html, body").animate({scrollTop:$("#"+b).offset().top-parseInt($("main.main").css("padding-top"),10)},1e3),a.preventDefault(),$(".js-defaults-nav-link").removeClass("active"),$(a.currentTarget).addClass("active")
}});return b}),!function(a,b,c){!function(a){"function"==typeof define&&define.amd?define("qtip2",["jquery"],a):jQuery&&!jQuery.fn.qtip&&a(jQuery)}(function(d){function e(a,b,c,e){this.id=c,this.target=a,this.tooltip=F,this.elements={target:a},this._id=S+"-"+c,this.timers={img:{}},this.options=b,this.plugins={},this.cache={event:{},target:d(),disabled:E,attr:e,onTooltip:E,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=E}function f(a){return a===F||"object"!==d.type(a)}function g(a){return!(d.isFunction(a)||a&&a.attr||a.length||"object"===d.type(a)&&(a.jquery||a.then))}function h(a){var b,c,e,h;return f(a)?E:(f(a.metadata)&&(a.metadata={type:a.metadata}),"content"in a&&(b=a.content,f(b)||b.jquery||b.done?b=a.content={text:c=g(b)?E:b}:c=b.text,"ajax"in b&&(e=b.ajax,h=e&&e.once!==E,delete b.ajax,b.text=function(a,b){var f=c||d(this).attr(b.options.content.attr)||"Loading...",g=d.ajax(d.extend({},e,{context:b})).then(e.success,F,e.error).then(function(a){return a&&h&&b.set("content.text",a),a},function(a,c,d){b.destroyed||0===a.status||b.set("content.text",c+": "+d)});return h?f:(b.set("content.text",f),g)}),"title"in b&&(d.isPlainObject(b.title)&&(b.button=b.title.button,b.title=b.title.text),g(b.title||E)&&(b.title=E))),"position"in a&&f(a.position)&&(a.position={my:a.position,at:a.position}),"show"in a&&f(a.show)&&(a.show=a.show.jquery?{target:a.show}:a.show===D?{ready:D}:{event:a.show}),"hide"in a&&f(a.hide)&&(a.hide=a.hide.jquery?{target:a.hide}:{event:a.hide}),"style"in a&&f(a.style)&&(a.style={classes:a.style}),d.each(R,function(){this.sanitize&&this.sanitize(a)}),a)}function i(a,b){for(var c,d=0,e=a,f=b.split(".");e=e[f[d++]];)d<f.length&&(c=e);return[c||a,f.pop()]}function j(a,b){var c,d,e;for(c in this.checks)for(d in this.checks[c])(e=new RegExp(d,"i").exec(a))&&(b.push(e),("builtin"===c||this.plugins[c])&&this.checks[c][d].apply(this.plugins[c]||this,b))}function k(a){return V.concat("").join(a?"-"+a+" ":" ")}function l(a,b){return b>0?setTimeout(d.proxy(a,this),b):void a.call(this)}function m(a){this.tooltip.hasClass(ab)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=l.call(this,function(){this.toggle(D,a)},this.options.show.delay))}function n(a){if(!this.tooltip.hasClass(ab)&&!this.destroyed){var b=d(a.relatedTarget),c=b.closest(W)[0]===this.tooltip[0],e=b[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==b[0]&&"mouse"===this.options.position.target&&c||this.options.hide.fixed&&/mouse(out|leave|move)/.test(a.type)&&(c||e))try{a.preventDefault(),a.stopImmediatePropagation()}catch(f){}else this.timers.hide=l.call(this,function(){this.toggle(E,a)},this.options.hide.delay,this)}}function o(a){!this.tooltip.hasClass(ab)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=l.call(this,function(){this.hide(a)},this.options.hide.inactive))}function p(a){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(a)}function q(a,c,e){d(b.body).delegate(a,(c.split?c:c.join("."+S+" "))+"."+S,function(){var a=y.api[d.attr(this,U)];a&&!a.disabled&&e.apply(a,arguments)})}function r(a,c,f){var g,i,j,k,l,m=d(b.body),n=a[0]===b?m:a,o=a.metadata?a.metadata(f.metadata):F,p="html5"===f.metadata.type&&o?o[f.metadata.name]:F,q=a.data(f.metadata.name||"qtipopts");try{q="string"==typeof q?d.parseJSON(q):q}catch(r){}if(k=d.extend(D,{},y.defaults,f,"object"==typeof q?h(q):F,h(p||o)),i=k.position,k.id=c,"boolean"==typeof k.content.text){if(j=a.attr(k.content.attr),k.content.attr===E||!j)return E;k.content.text=j}if(i.container.length||(i.container=m),i.target===E&&(i.target=n),k.show.target===E&&(k.show.target=n),k.show.solo===D&&(k.show.solo=i.container.closest("body")),k.hide.target===E&&(k.hide.target=n),k.position.viewport===D&&(k.position.viewport=i.container),i.container=i.container.eq(0),i.at=new A(i.at,D),i.my=new A(i.my),a.data(S))if(k.overwrite)a.qtip("destroy",!0);else if(k.overwrite===E)return E;return a.attr(T,c),k.suppress&&(l=a.attr("title"))&&a.removeAttr("title").attr(cb,l).attr("title",""),g=new e(a,k,c,!!j),a.data(S,g),g}function s(a){return a.charAt(0).toUpperCase()+a.slice(1)}function t(a,b){var d,e,f=b.charAt(0).toUpperCase()+b.slice(1),g=(b+" "+rb.join(f+" ")+f).split(" "),h=0;if(qb[b])return a.css(qb[b]);for(;d=g[h++];)if((e=a.css(d))!==c)return qb[b]=d,e}function u(a,b){return Math.ceil(parseFloat(t(a,b)))}function v(a,b){this._ns="tip",this.options=b,this.offset=b.offset,this.size=[b.width,b.height],this.init(this.qtip=a)}function w(a,b){this.options=b,this._ns="-modal",this.init(this.qtip=a)}function x(a){this._ns="ie6",this.init(this.qtip=a)}var y,z,A,B,C,D=!0,E=!1,F=null,G="x",H="y",I="width",J="height",K="top",L="left",M="bottom",N="right",O="center",P="flipinvert",Q="shift",R={},S="qtip",T="data-hasqtip",U="data-qtip-id",V=["ui-widget","ui-tooltip"],W="."+S,X="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),Y=S+"-fixed",Z=S+"-default",$=S+"-focus",_=S+"-hover",ab=S+"-disabled",bb="_replacedByqTip",cb="oldtitle",db={ie:function(){for(var a=4,c=b.createElement("div");(c.innerHTML="<!--[if gt IE "+a+"]><i></i><![endif]-->")&&c.getElementsByTagName("i")[0];a+=1);return a>4?a:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||E};z=e.prototype,z._when=function(a){return d.when.apply(d,a)},z.render=function(a){if(this.rendered||this.destroyed)return this;var b,c=this,e=this.options,f=this.cache,g=this.elements,h=e.content.text,i=e.content.title,j=e.content.button,k=e.position,l=("."+this._id+" ",[]);return d.attr(this.target[0],"aria-describedby",this._id),f.posClass=this._createPosClass((this.position={my:k.my,at:k.at}).my),this.tooltip=g.tooltip=b=d("<div/>",{id:this._id,"class":[S,Z,e.style.classes,f.posClass].join(" "),width:e.style.width||"",height:e.style.height||"",tracking:"mouse"===k.target&&k.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":E,"aria-describedby":this._id+"-content","aria-hidden":D}).toggleClass(ab,this.disabled).attr(U,this.id).data(S,this).appendTo(k.container).append(g.content=d("<div />",{"class":S+"-content",id:this._id+"-content","aria-atomic":D})),this.rendered=-1,this.positioning=D,i&&(this._createTitle(),d.isFunction(i)||l.push(this._updateTitle(i,E))),j&&this._createButton(),d.isFunction(h)||l.push(this._updateContent(h,E)),this.rendered=D,this._setWidget(),d.each(R,function(a){var b;"render"===this.initialize&&(b=this(c))&&(c.plugins[a]=b)}),this._unassignEvents(),this._assignEvents(),this._when(l).then(function(){c._trigger("render"),c.positioning=E,c.hiddenDuringWait||!e.show.ready&&!a||c.toggle(D,f.event,E),c.hiddenDuringWait=E}),y.api[this.id]=this,this},z.destroy=function(a){function b(){if(!this.destroyed){this.destroyed=D;var a,b=this.target,c=b.attr(cb);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),d.each(this.plugins,function(){this.destroy&&this.destroy()});for(a in this.timers)clearTimeout(this.timers[a]);b.removeData(S).removeAttr(U).removeAttr(T).removeAttr("aria-describedby"),this.options.suppress&&c&&b.attr("title",c).removeAttr(cb),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=F,delete y.api[this.id]}}return this.destroyed?this.target:(a===D&&"hide"!==this.triggering||!this.rendered?b.call(this):(this.tooltip.one("tooltiphidden",d.proxy(b,this)),!this.triggering&&this.hide()),this.target)},B=z.checks={builtin:{"^id$":function(a,b,c,e){var f=c===D?y.nextid:c,g=S+"-"+f;f!==E&&f.length>0&&!d("#"+g).length?(this._id=g,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):a[b]=e},"^prerender":function(a,b,c){c&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(a,b,c){this._updateContent(c)},"^content.attr$":function(a,b,c,d){this.options.content.text===this.target.attr(d)&&this._updateContent(this.target.attr(c))},"^content.title$":function(a,b,c){return c?(c&&!this.elements.title&&this._createTitle(),void this._updateTitle(c)):this._removeTitle()},"^content.button$":function(a,b,c){this._updateButton(c)},"^content.title.(text|button)$":function(a,b,c){this.set("content."+b,c)},"^position.(my|at)$":function(a,b,c){"string"==typeof c&&(this.position[b]=a[b]=new A(c,"at"===b))},"^position.container$":function(a,b,c){this.rendered&&this.tooltip.appendTo(c)},"^show.ready$":function(a,b,c){c&&(!this.rendered&&this.render(D)||this.toggle(D))},"^style.classes$":function(a,b,c,d){this.rendered&&this.tooltip.removeClass(d).addClass(c)},"^style.(width|height)":function(a,b,c){this.rendered&&this.tooltip.css(b,c)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(a,b,c){this.rendered&&this.tooltip.toggleClass(Z,!!c)},"^events.(render|show|move|hide|focus|blur)$":function(a,b,c){this.rendered&&this.tooltip[(d.isFunction(c)?"":"un")+"bind"]("tooltip"+b,c)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var a=this.options.position;this.tooltip.attr("tracking","mouse"===a.target&&a.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},z.get=function(a){if(this.destroyed)return this;var b=i(this.options,a.toLowerCase()),c=b[0][b[1]];return c.precedance?c.string():c};var eb=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,fb=/^prerender|show\.ready/i;z.set=function(a,b){if(this.destroyed)return this;var c,e=this.rendered,f=E,g=this.options;return this.checks,"string"==typeof a?(c=a,a={},a[c]=b):a=d.extend({},a),d.each(a,function(b,c){if(e&&fb.test(b))return void delete a[b];var h,j=i(g,b.toLowerCase());h=j[0][j[1]],j[0][j[1]]=c&&c.nodeType?d(c):c,f=eb.test(b)||f,a[b]=[j[0],j[1],c,h]}),h(g),this.positioning=D,d.each(a,d.proxy(j,this)),this.positioning=E,this.rendered&&this.tooltip[0].offsetWidth>0&&f&&this.reposition("mouse"===g.position.target?F:this.cache.event),this},z._update=function(a,b){var c=this,e=this.cache;return this.rendered&&a?(d.isFunction(a)&&(a=a.call(this.elements.target,e.event,this)||""),d.isFunction(a.then)?(e.waiting=D,a.then(function(a){return e.waiting=E,c._update(a,b)},F,function(a){return c._update(a,b)})):a===E||!a&&""!==a?E:(a.jquery&&a.length>0?b.empty().append(a.css({display:"block",visibility:"visible"})):b.html(a),this._waitForContent(b).then(function(a){c.rendered&&c.tooltip[0].offsetWidth>0&&c.reposition(e.event,!a.length)}))):E},z._waitForContent=function(a){var b=this.cache;return b.waiting=D,(d.fn.imagesLoaded?a.imagesLoaded():d.Deferred().resolve([])).done(function(){b.waiting=E}).promise()},z._updateContent=function(a,b){this._update(a,this.elements.content,b)},z._updateTitle=function(a,b){this._update(a,this.elements.title,b)===E&&this._removeTitle(E)},z._createTitle=function(){var a=this.elements,b=this._id+"-title";a.titlebar&&this._removeTitle(),a.titlebar=d("<div />",{"class":S+"-titlebar "+(this.options.style.widget?k("header"):"")}).append(a.title=d("<div />",{id:b,"class":S+"-title","aria-atomic":D})).insertBefore(a.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(a){d(this).toggleClass("ui-state-active ui-state-focus","down"===a.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(a){d(this).toggleClass("ui-state-hover","mouseover"===a.type)}),this.options.content.button&&this._createButton()},z._removeTitle=function(a){var b=this.elements;b.title&&(b.titlebar.remove(),b.titlebar=b.title=b.button=F,a!==E&&this.reposition())},z._createPosClass=function(a){return S+"-pos-"+(a||this.options.position.my).abbrev()},z.reposition=function(c,e){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=D;var f,g,h,i,j=this.cache,k=this.tooltip,l=this.options.position,m=l.target,n=l.my,o=l.at,p=l.viewport,q=l.container,r=l.adjust,s=r.method.split(" "),t=k.outerWidth(E),u=k.outerHeight(E),v=0,w=0,x=k.css("position"),y={left:0,top:0},z=k[0].offsetWidth>0,A=c&&"scroll"===c.type,B=d(a),C=q[0].ownerDocument,F=this.mouse;if(d.isArray(m)&&2===m.length)o={x:L,y:K},y={left:m[0],top:m[1]};else if("mouse"===m)o={x:L,y:K},(!r.mouse||this.options.hide.distance)&&j.origin&&j.origin.pageX?c=j.origin:!c||c&&("resize"===c.type||"scroll"===c.type)?c=j.event:F&&F.pageX&&(c=F),"static"!==x&&(y=q.offset()),C.body.offsetWidth!==(a.innerWidth||C.documentElement.clientWidth)&&(g=d(b.body).offset()),y={left:c.pageX-y.left+(g&&g.left||0),top:c.pageY-y.top+(g&&g.top||0)},r.mouse&&A&&F&&(y.left-=(F.scrollX||0)-B.scrollLeft(),y.top-=(F.scrollY||0)-B.scrollTop());else{if("event"===m?c&&c.target&&"scroll"!==c.type&&"resize"!==c.type?j.target=d(c.target):c.target||(j.target=this.elements.target):"event"!==m&&(j.target=d(m.jquery?m:this.elements.target)),m=j.target,m=d(m).eq(0),0===m.length)return this;m[0]===b||m[0]===a?(v=db.iOS?a.innerWidth:m.width(),w=db.iOS?a.innerHeight:m.height(),m[0]===a&&(y={top:(p||m).scrollTop(),left:(p||m).scrollLeft()})):R.imagemap&&m.is("area")?f=R.imagemap(this,m,o,R.viewport?s:E):R.svg&&m&&m[0].ownerSVGElement?f=R.svg(this,m,o,R.viewport?s:E):(v=m.outerWidth(E),w=m.outerHeight(E),y=m.offset()),f&&(v=f.width,w=f.height,g=f.offset,y=f.position),y=this.reposition.offset(m,y,q),(db.iOS>3.1&&db.iOS<4.1||db.iOS>=4.3&&db.iOS<4.33||!db.iOS&&"fixed"===x)&&(y.left-=B.scrollLeft(),y.top-=B.scrollTop()),(!f||f&&f.adjustable!==E)&&(y.left+=o.x===N?v:o.x===O?v/2:0,y.top+=o.y===M?w:o.y===O?w/2:0)}return y.left+=r.x+(n.x===N?-t:n.x===O?-t/2:0),y.top+=r.y+(n.y===M?-u:n.y===O?-u/2:0),R.viewport?(h=y.adjusted=R.viewport(this,y,l,v,w,t,u),g&&h.left&&(y.left+=g.left),g&&h.top&&(y.top+=g.top),h.my&&(this.position.my=h.my)):y.adjusted={left:0,top:0},j.posClass!==(i=this._createPosClass(this.position.my))&&k.removeClass(j.posClass).addClass(j.posClass=i),this._trigger("move",[y,p.elem||p],c)?(delete y.adjusted,e===E||!z||isNaN(y.left)||isNaN(y.top)||"mouse"===m||!d.isFunction(l.effect)?k.css(y):d.isFunction(l.effect)&&(l.effect.call(k,this,d.extend({},y)),k.queue(function(a){d(this).css({opacity:"",height:""}),db.ie&&this.style.removeAttribute("filter"),a()})),this.positioning=E,this):this},z.reposition.offset=function(a,c,e){function f(a,b){c.left+=b*a.scrollLeft(),c.top+=b*a.scrollTop()}if(!e[0])return c;var g,h,i,j,k=d(a[0].ownerDocument),l=!!db.ie&&"CSS1Compat"!==b.compatMode,m=e[0];do"static"!==(h=d.css(m,"position"))&&("fixed"===h?(i=m.getBoundingClientRect(),f(k,-1)):(i=d(m).position(),i.left+=parseFloat(d.css(m,"borderLeftWidth"))||0,i.top+=parseFloat(d.css(m,"borderTopWidth"))||0),c.left-=i.left+(parseFloat(d.css(m,"marginLeft"))||0),c.top-=i.top+(parseFloat(d.css(m,"marginTop"))||0),g||"hidden"===(j=d.css(m,"overflow"))||"visible"===j||(g=d(m)));while(m=m.offsetParent);return g&&(g[0]!==k[0]||l)&&f(g,1),c};var gb=(A=z.reposition.Corner=function(a,b){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,O).toLowerCase(),this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!b;var c=a.charAt(0);this.precedance="t"===c||"b"===c?H:G}).prototype;gb.invert=function(a,b){this[a]=this[a]===L?N:this[a]===N?L:b||this[a]},gb.string=function(a){var b=this.x,c=this.y,d=b!==c?"center"===b||"center"!==c&&(this.precedance===H||this.forceY)?[c,b]:[b,c]:[b];return a!==!1?d.join(" "):d},gb.abbrev=function(){var a=this.string(!1);return a[0].charAt(0)+(a[1]&&a[1].charAt(0)||"")},gb.clone=function(){return new A(this.string(),this.forceY)},z.toggle=function(a,c){var e=this.cache,f=this.options,g=this.tooltip;if(c){if(/over|enter/.test(c.type)&&e.event&&/out|leave/.test(e.event.type)&&f.show.target.add(c.target).length===f.show.target.length&&g.has(c.relatedTarget).length)return this;e.event=d.event.fix(c)}if(this.waiting&&!a&&(this.hiddenDuringWait=D),!this.rendered)return a?this.render(1):this;if(this.destroyed||this.disabled)return this;var h,i,j,k=a?"show":"hide",l=this.options[k],m=(this.options[a?"hide":"show"],this.options.position),n=this.options.content,o=this.tooltip.css("width"),p=this.tooltip.is(":visible"),q=a||1===l.target.length,r=!c||l.target.length<2||e.target[0]===c.target;return(typeof a).search("boolean|number")&&(a=!p),h=!g.is(":animated")&&p===a&&r,i=h?F:!!this._trigger(k,[90]),this.destroyed?this:(i!==E&&a&&this.focus(c),!i||h?this:(d.attr(g[0],"aria-hidden",!a),a?(this.mouse&&(e.origin=d.event.fix(this.mouse)),d.isFunction(n.text)&&this._updateContent(n.text,E),d.isFunction(n.title)&&this._updateTitle(n.title,E),!C&&"mouse"===m.target&&m.adjust.mouse&&(d(b).bind("mousemove."+S,this._storeMouse),C=D),o||g.css("width",g.outerWidth(E)),this.reposition(c,arguments[2]),o||g.css("width",""),l.solo&&("string"==typeof l.solo?d(l.solo):d(W,l.solo)).not(g).not(l.target).qtip("hide",d.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete e.origin,C&&!d(W+'[tracking="true"]:visible',l.solo).not(g).length&&(d(b).unbind("mousemove."+S),C=E),this.blur(c)),j=d.proxy(function(){a?(db.ie&&g[0].style.removeAttribute("filter"),g.css("overflow",""),"string"==typeof l.autofocus&&d(this.options.show.autofocus,g).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):g.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(a?"visible":"hidden")},this),l.effect===E||q===E?(g[k](),j()):d.isFunction(l.effect)?(g.stop(1,1),l.effect.call(g,this),g.queue("fx",function(a){j(),a()})):g.fadeTo(90,a?1:0,j),a&&l.target.trigger("qtip-"+this.id+"-inactive"),this))},z.show=function(a){return this.toggle(D,a)},z.hide=function(a){return this.toggle(E,a)},z.focus=function(a){if(!this.rendered||this.destroyed)return this;var b=d(W),c=this.tooltip,e=parseInt(c[0].style.zIndex,10),f=y.zindex+b.length;return c.hasClass($)||this._trigger("focus",[f],a)&&(e!==f&&(b.each(function(){this.style.zIndex>e&&(this.style.zIndex=this.style.zIndex-1)}),b.filter("."+$).qtip("blur",a)),c.addClass($)[0].style.zIndex=f),this},z.blur=function(a){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass($),this._trigger("blur",[this.tooltip.css("zIndex")],a),this)},z.disable=function(a){return this.destroyed?this:("toggle"===a?a=!(this.rendered?this.tooltip.hasClass(ab):this.disabled):"boolean"!=typeof a&&(a=D),this.rendered&&this.tooltip.toggleClass(ab,a).attr("aria-disabled",a),this.disabled=!!a,this)},z.enable=function(){return this.disable(E)},z._createButton=function(){var a=this,b=this.elements,c=b.tooltip,e=this.options.content.button,f="string"==typeof e,g=f?e:"Close tooltip";b.button&&b.button.remove(),b.button=e.jquery?e:d("<a />",{"class":"qtip-close "+(this.options.style.widget?"":S+"-icon"),title:g,"aria-label":g}).prepend(d("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),b.button.appendTo(b.titlebar||c).attr("role","button").click(function(b){return c.hasClass(ab)||a.hide(b),E})},z._updateButton=function(a){if(!this.rendered)return E;var b=this.elements.button;a?this._createButton():b.remove()},z._setWidget=function(){var a=this.options.style.widget,b=this.elements,c=b.tooltip,d=c.hasClass(ab);c.removeClass(ab),ab=a?"ui-state-disabled":"qtip-disabled",c.toggleClass(ab,d),c.toggleClass("ui-helper-reset "+k(),a).toggleClass(Z,this.options.style.def&&!a),b.content&&b.content.toggleClass(k("content"),a),b.titlebar&&b.titlebar.toggleClass(k("header"),a),b.button&&b.button.toggleClass(S+"-icon",!a)},z._storeMouse=function(a){return(this.mouse=d.event.fix(a)).type="mousemove",this},z._bind=function(a,b,c,e,f){if(a&&c&&b.length){var g="."+this._id+(e?"-"+e:"");return d(a).bind((b.split?b:b.join(g+" "))+g,d.proxy(c,f||this)),this}},z._unbind=function(a,b){return a&&d(a).unbind("."+this._id+(b?"-"+b:"")),this},z._trigger=function(a,b,c){var e=d.Event("tooltip"+a);return e.originalEvent=c&&d.extend({},c)||this.cache.event||F,this.triggering=a,this.tooltip.trigger(e,[this].concat(b||[])),this.triggering=E,!e.isDefaultPrevented()},z._bindEvents=function(a,b,c,e,f,g){var h=c.filter(e).add(e.filter(c)),i=[];h.length&&(d.each(b,function(b,c){var e=d.inArray(c,a);e>-1&&i.push(a.splice(e,1)[0])}),i.length&&(this._bind(h,i,function(a){var b=this.rendered?this.tooltip[0].offsetWidth>0:!1;(b?g:f).call(this,a)}),c=c.not(h),e=e.not(h))),this._bind(c,a,f),this._bind(e,b,g)},z._assignInitialEvents=function(a){function b(a){return this.disabled||this.destroyed?E:(this.cache.event=a&&d.event.fix(a),this.cache.target=a&&d(a.target),clearTimeout(this.timers.show),void(this.timers.show=l.call(this,function(){this.render("object"==typeof a||c.show.ready)},c.prerender?0:c.show.delay)))}var c=this.options,e=c.show.target,f=c.hide.target,g=c.show.event?d.trim(""+c.show.event).split(" "):[],h=c.hide.event?d.trim(""+c.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(c.show.event)&&!/mouse(out|leave)/i.test(c.hide.event)&&h.push("mouseleave"),this._bind(e,"mousemove",function(a){this._storeMouse(a),this.cache.onTarget=D}),this._bindEvents(g,h,e,f,b,function(){return this.timers?void clearTimeout(this.timers.show):E}),(c.show.ready||c.prerender)&&b.call(this,a)},z._assignEvents=function(){var c=this,e=this.options,f=e.position,g=this.tooltip,h=e.show.target,i=e.hide.target,j=f.container,k=f.viewport,l=d(b),q=(d(b.body),d(a)),r=e.show.event?d.trim(""+e.show.event).split(" "):[],s=e.hide.event?d.trim(""+e.hide.event).split(" "):[];d.each(e.events,function(a,b){c._bind(g,"toggle"===a?["tooltipshow","tooltiphide"]:["tooltip"+a],b,null,g)}),/mouse(out|leave)/i.test(e.hide.event)&&"window"===e.hide.leave&&this._bind(l,["mouseout","blur"],function(a){/select|option/.test(a.target.nodeName)||a.relatedTarget||this.hide(a)}),e.hide.fixed?i=i.add(g.addClass(Y)):/mouse(over|enter)/i.test(e.show.event)&&this._bind(i,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+e.hide.event).indexOf("unfocus")>-1&&this._bind(j.closest("html"),["mousedown","touchstart"],function(a){var b=d(a.target),c=this.rendered&&!this.tooltip.hasClass(ab)&&this.tooltip[0].offsetWidth>0,e=b.parents(W).filter(this.tooltip[0]).length>0;b[0]===this.target[0]||b[0]===this.tooltip[0]||e||this.target.has(b[0]).length||!c||this.hide(a)}),"number"==typeof e.hide.inactive&&(this._bind(h,"qtip-"+this.id+"-inactive",o,"inactive"),this._bind(i.add(g),y.inactiveEvents,o)),this._bindEvents(r,s,h,i,m,n),this._bind(h.add(g),"mousemove",function(a){if("number"==typeof e.hide.distance){var b=this.cache.origin||{},c=this.options.hide.distance,d=Math.abs;(d(a.pageX-b.pageX)>=c||d(a.pageY-b.pageY)>=c)&&this.hide(a)}this._storeMouse(a)}),"mouse"===f.target&&f.adjust.mouse&&(e.hide.event&&this._bind(h,["mouseenter","mouseleave"],function(a){return this.cache?void(this.cache.onTarget="mouseenter"===a.type):E}),this._bind(l,"mousemove",function(a){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(ab)&&this.tooltip[0].offsetWidth>0&&this.reposition(a)})),(f.adjust.resize||k.length)&&this._bind(d.event.special.resize?k:q,"resize",p),f.adjust.scroll&&this._bind(q.add(f.container),"scroll",p)},z._unassignEvents=function(){var c=this.options,e=c.show.target,f=c.hide.target,g=d.grep([this.elements.target[0],this.rendered&&this.tooltip[0],c.position.container[0],c.position.viewport[0],c.position.container.closest("html")[0],a,b],function(a){return"object"==typeof a});e&&e.toArray&&(g=g.concat(e.toArray())),f&&f.toArray&&(g=g.concat(f.toArray())),this._unbind(g)._unbind(g,"destroy")._unbind(g,"inactive")},d(function(){q(W,["mouseenter","mouseleave"],function(a){var b="mouseenter"===a.type,c=d(a.currentTarget),e=d(a.relatedTarget||a.target),f=this.options;b?(this.focus(a),c.hasClass(Y)&&!c.hasClass(ab)&&clearTimeout(this.timers.hide)):"mouse"===f.position.target&&f.position.adjust.mouse&&f.hide.event&&f.show.target&&!e.closest(f.show.target[0]).length&&this.hide(a),c.toggleClass(_,b)}),q("["+U+"]",X,o)}),y=d.fn.qtip=function(a,b,e){var f=(""+a).toLowerCase(),g=F,i=d.makeArray(arguments).slice(1),j=i[i.length-1],k=this[0]?d.data(this[0],S):F;return!arguments.length&&k||"api"===f?k:"string"==typeof a?(this.each(function(){var a=d.data(this,S);if(!a)return D;if(j&&j.timeStamp&&(a.cache.event=j),!b||"option"!==f&&"options"!==f)a[f]&&a[f].apply(a,i);else{if(e===c&&!d.isPlainObject(b))return g=a.get(b),E;a.set(b,e)}}),g!==F?g:this):"object"!=typeof a&&arguments.length?void 0:(k=h(d.extend(D,{},a)),this.each(function(a){var b,c;return c=d.isArray(k.id)?k.id[a]:k.id,c=!c||c===E||c.length<1||y.api[c]?y.nextid++:c,b=r(d(this),c,k),b===E?D:(y.api[c]=b,d.each(R,function(){"initialize"===this.initialize&&this(b)}),void b._assignInitialEvents(j))}))},d.qtip=e,y.api={},d.each({attr:function(a,b){if(this.length){var c=this[0],e="title",f=d.data(c,"qtip");if(a===e&&f&&"object"==typeof f&&f.options.suppress)return arguments.length<2?d.attr(c,cb):(f&&f.options.content.attr===e&&f.cache.attr&&f.set("content.text",b),this.attr(cb,b))}return d.fn["attr"+bb].apply(this,arguments)},clone:function(a){var b=(d([]),d.fn["clone"+bb].apply(this,arguments));return a||b.filter("["+cb+"]").attr("title",function(){return d.attr(this,cb)}).removeAttr(cb),b}},function(a,b){if(!b||d.fn[a+bb])return D;var c=d.fn[a+bb]=d.fn[a];d.fn[a]=function(){return b.apply(this,arguments)||c.apply(this,arguments)}}),d.ui||(d["cleanData"+bb]=d.cleanData,d.cleanData=function(a){for(var b,c=0;(b=d(a[c])).length;c++)if(b.attr(T))try{b.triggerHandler("removeqtip")}catch(e){}d["cleanData"+bb].apply(this,arguments)}),y.version="2.2.1",y.nextid=0,y.inactiveEvents=X,y.zindex=15e3,y.defaults={prerender:E,id:E,overwrite:D,suppress:D,content:{text:D,attr:"title",title:E,button:E},position:{my:"top left",at:"bottom right",target:E,container:E,viewport:E,adjust:{x:0,y:0,mouse:D,scroll:D,resize:D,method:"flipinvert flipinvert"},effect:function(a,b){d(this).animate(b,{duration:200,queue:E})}},show:{target:E,event:"mouseenter",effect:D,delay:90,solo:E,ready:E,autofocus:E},hide:{target:E,event:"mouseleave",effect:D,delay:0,fixed:E,inactive:E,leave:"window",distance:E},style:{classes:"",widget:E,width:E,height:E,def:D},events:{render:F,move:F,show:F,hide:F,toggle:F,visible:F,hidden:F,focus:F,blur:F}};var hb,ib="margin",jb="border",kb="color",lb="background-color",mb="transparent",nb=" !important",ob=!!b.createElement("canvas").getContext,pb=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,qb={},rb=["Webkit","O","Moz","ms"];if(ob)var sb=a.devicePixelRatio||1,tb=function(){var a=b.createElement("canvas").getContext("2d");return a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||1}(),ub=sb/tb;else var vb=function(a,b,c){return"<qtipvml:"+a+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(b||"")+' style="behavior: url(#default#VML); '+(c||"")+'" />'};d.extend(v.prototype,{init:function(a){var b,c;c=this.element=a.elements.tip=d("<div />",{"class":S+"-tip"}).prependTo(a.tooltip),ob?(b=d("<canvas />").appendTo(this.element)[0].getContext("2d"),b.lineJoin="miter",b.miterLimit=1e5,b.save()):(b=vb("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(b+b),a._bind(d("*",c).add(c),["click","mousedown"],function(a){a.stopPropagation()},this._ns)),a._bind(a.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(a){var b=this.qtip.elements.titlebar;return b&&(a.y===K||a.y===O&&this.element.position().top+this.size[1]/2+this.options.offset<b.outerHeight(D))},_parseCorner:function(a){var b=this.qtip.options.position.my;return a===E||b===E?a=E:a===D?a=new A(b.string()):a.string||(a=new A(a),a.fixed=D),a},_parseWidth:function(a,b,c){var d=this.qtip.elements,e=jb+s(b)+"Width";return(c?u(c,e):u(d.content,e)||u(this._useTitle(a)&&d.titlebar||d.content,e)||u(d.tooltip,e))||0},_parseRadius:function(a){var b=this.qtip.elements,c=jb+s(a.y)+s(a.x)+"Radius";return db.ie<9?0:u(this._useTitle(a)&&b.titlebar||b.content,c)||u(b.tooltip,c)||0},_invalidColour:function(a,b,c){var d=a.css(b);return!d||c&&d===a.css(c)||pb.test(d)?E:d},_parseColours:function(a){var b=this.qtip.elements,c=this.element.css("cssText",""),e=jb+s(a[a.precedance])+s(kb),f=this._useTitle(a)&&b.titlebar||b.content,g=this._invalidColour,h=[];return h[0]=g(c,lb)||g(f,lb)||g(b.content,lb)||g(b.tooltip,lb)||c.css(lb),h[1]=g(c,e,kb)||g(f,e,kb)||g(b.content,e,kb)||g(b.tooltip,e,kb)||b.tooltip.css(e),d("*",c).add(c).css("cssText",lb+":"+mb+nb+";"+jb+":0"+nb+";"),h},_calculateSize:function(a){var b,c,d,e=a.precedance===H,f=this.options.width,g=this.options.height,h="c"===a.abbrev(),i=(e?f:g)*(h?.5:1),j=Math.pow,k=Math.round,l=Math.sqrt(j(i,2)+j(g,2)),m=[this.border/i*l,this.border/g*l];return m[2]=Math.sqrt(j(m[0],2)-j(this.border,2)),m[3]=Math.sqrt(j(m[1],2)-j(this.border,2)),b=l+m[2]+m[3]+(h?0:m[0]),c=b/l,d=[k(c*f),k(c*g)],e?d:d.reverse()},_calculateTip:function(a,b,c){c=c||1,b=b||this.size;var d=b[0]*c,e=b[1]*c,f=Math.ceil(d/2),g=Math.ceil(e/2),h={br:[0,0,d,e,d,0],bl:[0,0,d,0,0,e],tr:[0,e,d,0,d,e],tl:[0,0,0,e,d,e],tc:[0,e,f,0,d,e],bc:[0,0,d,0,f,e],rc:[0,0,d,g,0,e],lc:[d,0,d,e,0,g]};return h.lt=h.br,h.rt=h.bl,h.lb=h.tr,h.rb=h.tl,h[a.abbrev()]},_drawCoords:function(a,b){a.beginPath(),a.moveTo(b[0],b[1]),a.lineTo(b[2],b[3]),a.lineTo(b[4],b[5]),a.closePath()},create:function(){var a=this.corner=(ob||db.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=a.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(b,c){if(!this.enabled)return this;var e,f,g,h,i,j,k,l,m=this.qtip.elements,n=this.element,o=n.children(),p=this.options,q=this.size,r=p.mimic,s=Math.round;b||(b=this.qtip.cache.corner||this.corner),r===E?r=b:(r=new A(r),r.precedance=b.precedance,"inherit"===r.x?r.x=b.x:"inherit"===r.y?r.y=b.y:r.x===r.y&&(r[b.precedance]=b[b.precedance])),f=r.precedance,b.precedance===G?this._swapDimensions():this._resetDimensions(),e=this.color=this._parseColours(b),e[1]!==mb?(l=this.border=this._parseWidth(b,b[b.precedance]),p.border&&1>l&&!pb.test(e[1])&&(e[0]=e[1]),this.border=l=p.border!==D?p.border:l):this.border=l=0,k=this.size=this._calculateSize(b),n.css({width:k[0],height:k[1],lineHeight:k[1]+"px"}),j=b.precedance===H?[s(r.x===L?l:r.x===N?k[0]-q[0]-l:(k[0]-q[0])/2),s(r.y===K?k[1]-q[1]:0)]:[s(r.x===L?k[0]-q[0]:0),s(r.y===K?l:r.y===M?k[1]-q[1]-l:(k[1]-q[1])/2)],ob?(g=o[0].getContext("2d"),g.restore(),g.save(),g.clearRect(0,0,6e3,6e3),h=this._calculateTip(r,q,ub),i=this._calculateTip(r,this.size,ub),o.attr(I,k[0]*ub).attr(J,k[1]*ub),o.css(I,k[0]).css(J,k[1]),this._drawCoords(g,i),g.fillStyle=e[1],g.fill(),g.translate(j[0]*ub,j[1]*ub),this._drawCoords(g,h),g.fillStyle=e[0],g.fill()):(h=this._calculateTip(r),h="m"+h[0]+","+h[1]+" l"+h[2]+","+h[3]+" "+h[4]+","+h[5]+" xe",j[2]=l&&/^(r|b)/i.test(b.string())?8===db.ie?2:1:0,o.css({coordsize:k[0]+l+" "+(k[1]+l),antialias:""+(r.string().indexOf(O)>-1),left:j[0]-j[2]*Number(f===G),top:j[1]-j[2]*Number(f===H),width:k[0]+l,height:k[1]+l}).each(function(a){var b=d(this);b[b.prop?"prop":"attr"]({coordsize:k[0]+l+" "+(k[1]+l),path:h,fillcolor:e[0],filled:!!a,stroked:!a}).toggle(!(!l&&!a)),!a&&b.html(vb("stroke",'weight="'+2*l+'px" color="'+e[1]+'" miterlimit="1000" joinstyle="miter"'))})),a.opera&&setTimeout(function(){m.tip.css({display:"inline-block",visibility:"visible"})},1),c!==E&&this.calculate(b,k)},calculate:function(a,b){if(!this.enabled)return E;var c,e,f=this,g=this.qtip.elements,h=this.element,i=this.options.offset,j=(g.tooltip.hasClass("ui-widget"),{});return a=a||this.corner,c=a.precedance,b=b||this._calculateSize(a),e=[a.x,a.y],c===G&&e.reverse(),d.each(e,function(d,e){var h,k,l;
e===O?(h=c===H?L:K,j[h]="50%",j[ib+"-"+h]=-Math.round(b[c===H?0:1]/2)+i):(h=f._parseWidth(a,e,g.tooltip),k=f._parseWidth(a,e,g.content),l=f._parseRadius(a),j[e]=Math.max(-f.border,d?k:i+(l>h?l:-h)))}),j[a[c]]-=b[c===G?0:1],h.css({margin:"",top:"",bottom:"",left:"",right:""}).css(j),j},reposition:function(a,b,d){function e(a,b,c,d,e){a===Q&&j.precedance===b&&k[d]&&j[c]!==O?j.precedance=j.precedance===G?H:G:a!==Q&&k[d]&&(j[b]=j[b]===O?k[d]>0?d:e:j[b]===d?e:d)}function f(a,b,e){j[a]===O?p[ib+"-"+b]=o[a]=g[ib+"-"+b]-k[b]:(h=g[e]!==c?[k[b],-g[b]]:[-k[b],g[b]],(o[a]=Math.max(h[0],h[1]))>h[0]&&(d[b]-=k[b],o[b]=E),p[g[e]!==c?e:b]=o[a])}if(this.enabled){var g,h,i=b.cache,j=this.corner.clone(),k=d.adjusted,l=b.options.position.adjust.method.split(" "),m=l[0],n=l[1]||l[0],o={left:E,top:E,x:0,y:0},p={};this.corner.fixed!==D&&(e(m,G,H,L,N),e(n,H,G,K,M),(j.string()!==i.corner.string()||i.cornerTop!==k.top||i.cornerLeft!==k.left)&&this.update(j,E)),g=this.calculate(j),g.right!==c&&(g.left=-g.right),g.bottom!==c&&(g.top=-g.bottom),g.user=this.offset,(o.left=m===Q&&!!k.left)&&f(G,L,N),(o.top=n===Q&&!!k.top)&&f(H,K,M),this.element.css(p).toggle(!(o.x&&o.y||j.x===O&&o.y||j.y===O&&o.x)),d.left-=g.left.charAt?g.user:m!==Q||o.top||!o.left&&!o.top?g.left+this.border:0,d.top-=g.top.charAt?g.user:n!==Q||o.left||!o.left&&!o.top?g.top+this.border:0,i.cornerLeft=k.left,i.cornerTop=k.top,i.corner=j.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),hb=R.tip=function(a){return new v(a,a.options.style.tip)},hb.initialize="render",hb.sanitize=function(a){if(a.style&&"tip"in a.style){var b=a.style.tip;"object"!=typeof b&&(b=a.style.tip={corner:b}),/string|boolean/i.test(typeof b.corner)||(b.corner=D)}},B.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(a){this.size=[a.width,a.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},d.extend(D,y.defaults,{style:{tip:{corner:D,mimic:E,width:6,height:6,border:D,offset:0}}});var wb,xb,yb="qtip-modal",zb="."+yb;xb=function(){function a(a){if(d.expr[":"].focusable)return d.expr[":"].focusable;var b,c,e,f=!isNaN(d.attr(a,"tabindex")),g=a.nodeName&&a.nodeName.toLowerCase();return"area"===g?(b=a.parentNode,c=b.name,a.href&&c&&"map"===b.nodeName.toLowerCase()?(e=d("img[usemap=#"+c+"]")[0],!!e&&e.is(":visible")):!1):/input|select|textarea|button|object/.test(g)?!a.disabled:"a"===g?a.href||f:f}function c(a){k.length<1&&a.length?a.not("body").blur():k.first().focus()}function e(a){if(i.is(":visible")){var b,e=d(a.target),h=f.tooltip,j=e.closest(W);b=j.length<1?E:parseInt(j[0].style.zIndex,10)>parseInt(h[0].style.zIndex,10),b||e.closest(W)[0]===h[0]||c(e),g=a.target===k[k.length-1]}}var f,g,h,i,j=this,k={};d.extend(j,{init:function(){return i=j.elem=d("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return E}}).hide(),d(b.body).bind("focusin"+zb,e),d(b).bind("keydown"+zb,function(a){f&&f.options.show.modal.escape&&27===a.keyCode&&f.hide(a)}),i.bind("click"+zb,function(a){f&&f.options.show.modal.blur&&f.hide(a)}),j},update:function(b){f=b,k=b.options.show.modal.stealfocus!==E?b.tooltip.find("*").filter(function(){return a(this)}):[]},toggle:function(a,e,g){var k=(d(b.body),a.tooltip),l=a.options.show.modal,m=l.effect,n=e?"show":"hide",o=i.is(":visible"),p=d(zb).filter(":visible:not(:animated)").not(k);return j.update(a),e&&l.stealfocus!==E&&c(d(":focus")),i.toggleClass("blurs",l.blur),e&&i.appendTo(b.body),i.is(":animated")&&o===e&&h!==E||!e&&p.length?j:(i.stop(D,E),d.isFunction(m)?m.call(i,e):m===E?i[n]():i.fadeTo(parseInt(g,10)||90,e?1:0,function(){e||i.hide()}),e||i.queue(function(a){i.css({left:"",top:""}),d(zb).length||i.detach(),a()}),h=e,f.destroyed&&(f=F),j)}}),j.init()},xb=new xb,d.extend(w.prototype,{init:function(a){var b=a.tooltip;return this.options.on?(a.elements.overlay=xb.elem,b.addClass(yb).css("z-index",y.modal_zindex+d(zb).length),a._bind(b,["tooltipshow","tooltiphide"],function(a,c,e){var f=a.originalEvent;if(a.target===b[0])if(f&&"tooltiphide"===a.type&&/mouse(leave|enter)/.test(f.type)&&d(f.relatedTarget).closest(xb.elem[0]).length)try{a.preventDefault()}catch(g){}else(!f||f&&"tooltipsolo"!==f.type)&&this.toggle(a,"tooltipshow"===a.type,e)},this._ns,this),a._bind(b,"tooltipfocus",function(a,c){if(!a.isDefaultPrevented()&&a.target===b[0]){var e=d(zb),f=y.modal_zindex+e.length,g=parseInt(b[0].style.zIndex,10);xb.elem[0].style.zIndex=f-1,e.each(function(){this.style.zIndex>g&&(this.style.zIndex-=1)}),e.filter("."+$).qtip("blur",a.originalEvent),b.addClass($)[0].style.zIndex=f,xb.update(c);try{a.preventDefault()}catch(h){}}},this._ns,this),void a._bind(b,"tooltiphide",function(a){a.target===b[0]&&d(zb).filter(":visible").not(b).last().qtip("focus",a)},this._ns,this)):this},toggle:function(a,b,c){return a&&a.isDefaultPrevented()?this:void xb.toggle(this.qtip,!!b,c)},destroy:function(){this.qtip.tooltip.removeClass(yb),this.qtip._unbind(this.qtip.tooltip,this._ns),xb.toggle(this.qtip,E),delete this.qtip.elements.overlay}}),wb=R.modal=function(a){return new w(a,a.options.show.modal)},wb.sanitize=function(a){a.show&&("object"!=typeof a.show.modal?a.show.modal={on:!!a.show.modal}:"undefined"==typeof a.show.modal.on&&(a.show.modal.on=D))},y.modal_zindex=y.zindex-200,wb.initialize="render",B.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},d.extend(D,y.defaults,{show:{modal:{on:E,effect:D,blur:D,stealfocus:D,escape:D}}}),R.viewport=function(c,d,e,f,g,h,i){function j(a,b,c,e,f,g,h,i,j){var k=d[f],s=u[a],t=v[a],w=c===Q,x=s===f?j:s===g?-j:-j/2,y=t===f?i:t===g?-i:-i/2,z=q[f]+r[f]-(n?0:m[f]),A=z-k,B=k+j-(h===I?o:p)-z,C=x-(u.precedance===a||s===u[b]?y:0)-(t===O?i/2:0);return w?(C=(s===f?1:-1)*x,d[f]+=A>0?A:B>0?-B:0,d[f]=Math.max(-m[f]+r[f],k-C,Math.min(Math.max(-m[f]+r[f]+(h===I?o:p),k+C),d[f],"center"===s?k-x:1e9))):(e*=c===P?2:0,A>0&&(s!==f||B>0)?(d[f]-=C+e,l.invert(a,f)):B>0&&(s!==g||A>0)&&(d[f]-=(s===O?-C:C)+e,l.invert(a,g)),d[f]<q&&-d[f]>B&&(d[f]=k,l=u.clone())),d[f]-k}var k,l,m,n,o,p,q,r,s=e.target,t=c.elements.tooltip,u=e.my,v=e.at,w=e.adjust,x=w.method.split(" "),y=x[0],z=x[1]||x[0],A=e.viewport,B=e.container,C=(c.cache,{left:0,top:0});return A.jquery&&s[0]!==a&&s[0]!==b.body&&"none"!==w.method?(m=B.offset()||C,n="static"===B.css("position"),k="fixed"===t.css("position"),o=A[0]===a?A.width():A.outerWidth(E),p=A[0]===a?A.height():A.outerHeight(E),q={left:k?0:A.scrollLeft(),top:k?0:A.scrollTop()},r=A.offset()||C,("shift"!==y||"shift"!==z)&&(l=u.clone()),C={left:"none"!==y?j(G,H,y,w.x,L,N,I,f,h):0,top:"none"!==z?j(H,G,z,w.y,K,M,J,g,i):0,my:l}):C},R.polys={polygon:function(a,b){var c,d,e,f={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:E},g=0,h=[],i=1,j=1,k=0,l=0;for(g=a.length;g--;)c=[parseInt(a[--g],10),parseInt(a[g+1],10)],c[0]>f.position.right&&(f.position.right=c[0]),c[0]<f.position.left&&(f.position.left=c[0]),c[1]>f.position.bottom&&(f.position.bottom=c[1]),c[1]<f.position.top&&(f.position.top=c[1]),h.push(c);if(d=f.width=Math.abs(f.position.right-f.position.left),e=f.height=Math.abs(f.position.bottom-f.position.top),"c"===b.abbrev())f.position={left:f.position.left+f.width/2,top:f.position.top+f.height/2};else{for(;d>0&&e>0&&i>0&&j>0;)for(d=Math.floor(d/2),e=Math.floor(e/2),b.x===L?i=d:b.x===N?i=f.width-d:i+=Math.floor(d/2),b.y===K?j=e:b.y===M?j=f.height-e:j+=Math.floor(e/2),g=h.length;g--&&!(h.length<2);)k=h[g][0]-f.position.left,l=h[g][1]-f.position.top,(b.x===L&&k>=i||b.x===N&&i>=k||b.x===O&&(i>k||k>f.width-i)||b.y===K&&l>=j||b.y===M&&j>=l||b.y===O&&(j>l||l>f.height-j))&&h.splice(g,1);f.position={left:h[0][0],top:h[0][1]}}return f},rect:function(a,b,c,d){return{width:Math.abs(c-a),height:Math.abs(d-b),position:{left:Math.min(a,c),top:Math.min(b,d)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(a,b,c,d,e){var f=R.polys._angles[e.abbrev()],g=0===f?0:c*Math.cos(f*Math.PI),h=d*Math.sin(f*Math.PI);return{width:2*c-Math.abs(g),height:2*d-Math.abs(h),position:{left:a+g,top:b+h},adjustable:E}},circle:function(a,b,c,d){return R.polys.ellipse(a,b,c,c,d)}},R.svg=function(a,c,e){for(var f,g,h,i,j,k,l,m,n,o=(d(b),c[0]),p=d(o.ownerSVGElement),q=o.ownerDocument,r=(parseInt(c.css("stroke-width"),10)||0)/2;!o.getBBox;)o=o.parentNode;if(!o.getBBox||!o.parentNode)return E;switch(o.nodeName){case"ellipse":case"circle":m=R.polys.ellipse(o.cx.baseVal.value,o.cy.baseVal.value,(o.rx||o.r).baseVal.value+r,(o.ry||o.r).baseVal.value+r,e);break;case"line":case"polygon":case"polyline":for(l=o.points||[{x:o.x1.baseVal.value,y:o.y1.baseVal.value},{x:o.x2.baseVal.value,y:o.y2.baseVal.value}],m=[],k=-1,i=l.numberOfItems||l.length;++k<i;)j=l.getItem?l.getItem(k):l[k],m.push.apply(m,[j.x,j.y]);m=R.polys.polygon(m,e);break;default:m=o.getBBox(),m={width:m.width,height:m.height,position:{left:m.x,top:m.y}}}return n=m.position,p=p[0],p.createSVGPoint&&(g=o.getScreenCTM(),l=p.createSVGPoint(),l.x=n.left,l.y=n.top,h=l.matrixTransform(g),n.left=h.x,n.top=h.y),q!==b&&"mouse"!==a.position.target&&(f=d((q.defaultView||q.parentWindow).frameElement).offset(),f&&(n.left+=f.left,n.top+=f.top)),q=d(q),n.left+=q.scrollLeft(),n.top+=q.scrollTop(),m},R.imagemap=function(a,b,c){b.jquery||(b=d(b));var e,f,g,h,i,j=(b.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),k=d('img[usemap="#'+b.parent("map").attr("name")+'"]'),l=d.trim(b.attr("coords")),m=l.replace(/,$/,"").split(",");if(!k.length)return E;if("polygon"===j)h=R.polys.polygon(m,c);else{if(!R.polys[j])return E;for(g=-1,i=m.length,f=[];++g<i;)f.push(parseInt(m[g],10));h=R.polys[j].apply(this,f.concat(c))}return e=k.offset(),e.left+=Math.ceil((k.outerWidth(E)-k.width())/2),e.top+=Math.ceil((k.outerHeight(E)-k.height())/2),h.position.left+=e.left,h.position.top+=e.top,h};var Ab,Bb='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';d.extend(x.prototype,{_scroll:function(){var b=this.qtip.elements.overlay;b&&(b[0].style.top=d(a).scrollTop()+"px")},init:function(c){var e=c.tooltip;d("select, object").length<1&&(this.bgiframe=c.elements.bgiframe=d(Bb).appendTo(e),c._bind(e,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=d("<div/>",{id:S+"-rcontainer"}).appendTo(b.body),c.elements.overlay&&c.elements.overlay.addClass("qtipmodal-ie6fix")&&(c._bind(a,["scroll","resize"],this._scroll,this._ns,this),c._bind(e,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var a,b,c=this.qtip.tooltip,d={height:c.outerHeight(E),width:c.outerWidth(E)},e=this.qtip.plugins.tip,f=this.qtip.elements.tip;b=parseInt(c.css("borderLeftWidth"),10)||0,b={left:-b,top:-b},e&&f&&(a="x"===e.corner.precedance?[I,L]:[J,K],b[a[1]]-=f[a[0]]()),this.bgiframe.css(b).css(d)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var a,b,c,d,e=this.qtip.tooltip,f=this.qtip.options.style,g=this.qtip.options.position.container;return this.qtip.drawing=1,f.height&&e.css(J,f.height),f.width?e.css(I,f.width):(e.css(I,"").appendTo(this.redrawContainer),b=e.width(),1>b%2&&(b+=1),c=e.css("maxWidth")||"",d=e.css("minWidth")||"",a=(c+d).indexOf("%")>-1?g.width()/100:0,c=(c.indexOf("%")>-1?a:1)*parseInt(c,10)||b,d=(d.indexOf("%")>-1?a:1)*parseInt(d,10)||0,b=c+d?Math.min(Math.max(b,d),c):b,e.css(I,Math.round(b)).appendTo(g)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([a,this.qtip.tooltip],this._ns)}}),Ab=R.ie6=function(a){return 6===db.ie?new x(a):E},Ab.initialize="render",B.ie6={"^content|style$":function(){this.redraw()}}})}(window,document),define("views/coloredHeaderColumn",["jquery","underscore","backbone","views/base","qtip2","lib/breakpoints"],function($,_,Backbone,a,b,c){var d=a.extend({events:{"click .js-expand-trigger":"triggerClick"},initialize:function(){},triggerClick:function(a){if("lg"!=c.breakpoint){console.log(c.breakpoint);{var b=$(a.currentTarget).parent(".js-expand-wrap");$(a.currentTarget).next(".js-expand-content")}b.toggleClass("open")}}});return d}),define("views/controlsNav",["jquery","underscore","backbone","views/base","lib/breakpoints"],function($,_,Backbone,a,b){var c=a.extend({events:{"click .js-parent-nav-link":"clickParentNavLink","click .controls__nav__list":"expandNav"},expandNav:function(a){var b=$(a.currentTarget);b.addClass("subnav-active")},clickParentNavLink:function(a){if("lg"!=b.breakpoint){a.preventDefault();var c=$(a.currentTarget).next(".js-subnav"),d=$(a.currentTarget).parent("li"),e=c.children("li"),f=0;e.each(function(){f+=$(this).outerHeight()}),0==c.height()?(c.css("height",f),d.addClass("open")):(c.css("height","0px"),d.removeClass("open"))}}});return c}),define("views/formats",["jquery","underscore","backbone","views/base","lib/breakpoints"],function($,_,Backbone,a,b){var c=a.extend({events:{"click .js-formats-toggle":"formatsToggleClick","click .js-tooltip-target":"targetClick"},initialize:function(){},formatsToggleClick:function(){var a=$(".js-formats-inner");a.slideToggle({duration:300}),this.$el.toggleClass("active")},targetClick:function(a){if("sm"==b.breakpoint){var c=$(a.currentTarget).offset().top;$("html, body").animate({scrollTop:c},300)}}});return c}),define("views/heroBento",["jquery","underscore","backbone","views/base","velocity","lib/breakpoints"],function($,_,Backbone,a,b,c){var d=a.extend({events:{"mouseenter .js-hero-bento-wrap":"wrapHover","mouseleave .js-hero-bento-wrap":"wrapOut","click .js-hero-bento-item":"clickBentoItem"},animationTime:16,bentoWrap:$(".js-hero-bento-stage"),bento:$(".js-hero-bento-images"),bentoWidth:0,screenWidth:null,hoverPosX:null,scrollSpeed:null,isHovered:!1,scrollLoop:[],offsetX:0,activeBreakpoint:c.breakpoint,initialize:function(){var a=_.bind(this.setSliderWidth,this),b=_.bind(this.getScreenWidth,this),c=_.bind(this.setActiveBreakpoint,this),d=_.bind(this.rightHover,this),e=_.bind(this.leftHover,this),f=_.bind(this.scrollStop,this),g=this.animationTime,h=this.scrollLoop;this.setBrokerNamespace("herobento"),this.getSliderWidth(),a(),b(),$(".js-arrow-right").hover(function(){h.push(setInterval(d,g))},function(){f()}),$(".js-arrow-left").hover(function(){h.push(setInterval(e,g))},function(){f()}),$(window).resize(function(){b(),c()})},setActiveBreakpoint:function(){this.activeBreakpoint!=c.breakpoint&&(this.activeBreakpoint=c.breakpoint,this.bentoWidth=0,this.getSliderWidth(),this.setSliderWidth())},setSliderWidth:function(){this.bento.css("width",this.bentoWidth)},getScreenWidth:function(){this.screenWidth=$(window).width()},getSliderWidth:function(){var a=this.bento.children(".js-hero-bento-column"),b=this.bentoWidth;_.each(a,function(a){b+=$(a).width()}),this.bentoWidth=b},leftHover:function(){var a=this.bento.offset().left;-10>=a?(this.offsetX-=10,this.bento.velocity("scroll",{duration:this.animationTime,offset:this.offsetX,container:this.bentoWrap,axis:"x"},"linear")):this.scrollStop()},rightHover:function(){var a=this.bento.offset().left+this.bentoWidth-this.screenWidth;a>=10?(this.offsetX+=10,this.bento.velocity("scroll",{duration:this.animationTime,offset:this.offsetX,container:this.bentoWrap,axis:"x"},"linear")):this.scrollStop()},scrollStop:function(){for(this.bento.velocity("stop");this.scrollLoop.length;)clearInterval(this.scrollLoop.pop())},wrapHover:function(){$(".js-arrow-left").velocity({opacity:.3},{duration:300}),$(".js-arrow-right").velocity({opacity:.3},{duration:300})},wrapOut:function(){$(".js-arrow-left").velocity({opacity:0},{duration:300,delay:600}),$(".js-arrow-right").velocity({opacity:0},{duration:300,delay:600})},clickBentoItem:function(a){var b=this.bento.find(".active"),c=$(a.currentTarget).data("id");b&&b.removeClass("active"),$(a.currentTarget).addClass("active"),this.broker.trigger("item:change",c)}});return d}),define("views/heroSlides/slideSet",["jquery","underscore","backbone","views/base"],function($,_,Backbone,a){var b=a.extend({id:null,$items:null,intervals:[],rotateSpeed:5e3,imagesLoaded:!1,events:{"click .js-hero-slide-sub-link":"subItemClick","click .js-hero-slide-sub-item":"slideClick"},initialize:function(){this.setupBrokerEvents(),this.id=this.$el.data("id"),this.$items=this.$(".js-hero-slide-sub-item")},loadImages:function(){this.imagesLoaded||(this.$("img[data-src]").each(function(){var a=$(this);a.attr("src",a.data("src"))}),this.imagesLoaded=!0)},setupBrokerEvents:function(){this.setBrokerNamespace("herobento"),this.broker.register({"item:change":"changeItem"},this)},changeItem:function(a){a===this.id?(this.show(),this.startAutoRotate()):(this.hide(),this.stopAutoRotate())},hide:function(){this.$el.removeClass("active")},show:function(){this.loadImages(),this.$el.addClass("active")},subItemClick:function(a){var b=$(a.currentTarget).data("id");this.changeSubItem(b)},slideClick:function(a){var b=$(a.currentTarget).parents(".js-hero-slide-item").find(".js-hero-slide-sub-item"),c=b.index(),d=b.index($(a.currentTarget));this.stopAutoRotate(),this.changeSubItem(d>=c?b.first().data("id"):$(a.currentTarget).data("id")+1)},changeSubItem:function(a){this.deactivateSubItem(),this.activateSubItem(a)},deactivateSubItem:function(){var a=this.$(".js-hero-slide-sub-link.active"),b=this.$(".js-hero-slide-sub-item.active");a.removeClass("active"),b.removeClass("active")},activateSubItem:function(a){var b=this.$('.js-hero-slide-sub-item[data-id="'+a+'"]'),c=this.$('.js-hero-slide-sub-link[data-id="'+a+'"]');c.addClass("active"),b.addClass("active")},startAutoRotate:function(){this.stopAutoRotate(),this.intervals.push(setInterval(_.bind(this.autoChangeSubItem,this),this.rotateSpeed))},stopAutoRotate:function(){for(;this.intervals.length;)clearInterval(this.intervals.pop())},autoChangeSubItem:function(){var a=this.$(".js-hero-slide-item.active .js-hero-slide-sub-item"),b=a.filter(".active").index()==a.length-1?this.$(a[0]):a.filter(".active").next();this.changeSubItem(b.data("id"))},serialize:function(){return this.item}});return b}),define("views/heroSlides",["jquery","underscore","backbone","velocity","views/base","views/heroSlides/slideSet"],function($,_,Backbone,a,b){var c=b.extend({$intro:null,$carousel:null,events:{},initialize:function(){this.setupBrokerEvents(),this.$intro=this.$el.find(".js-slides-intro"),this.$carousel=this.$el.find(".js-hero-slides-carousel")},setupBrokerEvents:function(){this.setBrokerNamespace("herobento"),this.broker.register({"item:change":"changeItem"},this)},changeItem:function(){this.$intro.addClass("hidden"),this.$el.velocity("scroll",{duration:1e3,easing:"easeOutQuint"})}});return c}),define("views/horizontalTabs",["jquery","underscore","backbone","views/base"],function($,_,Backbone,a){var b=a.extend({$tabs:null,events:{"click .js-tab-item":"tabClick"},initialize:function(){this.setupBrokerEvents(),this.$tabs=this.$el.find(".js-tab-item")},setupBrokerEvents:function(){this.setBrokerNamespace(),this.broker.register({"item:change":"changeItem"},this)},changeItem:function(a){this.$tabs.filter(".active").removeClass("active"),this.$tabs.filter('[data-id="'+a+'"]').addClass("active")},tabClick:function(a){a.preventDefault();var b=$(a.currentTarget).data("id");this.broker.trigger("item:change",b)}});return b}),define("views/imageCarouselFull",["jquery","underscore","backbone","views/base"],function($,_,Backbone,a){var b=a.extend({$items:null,itemCount:0,events:{"click .js-carousel-control":"navigate","mouseenter .js-info-trigger":"triggerInfo","mouseleave .js-info-trigger":"deactiveateInfo","click .js-info-trigger":"triggerInfo"},initialize:function(){this.setupBrokerEvents(),this.$items=this.$el.find(".js-carousel-slide"),this.itemCount=this.$items.length},setupBrokerEvents:function(){this.setBrokerNamespace(),this.broker.register({"item:change":"changeItem"},this)},changeItem:function(a){this.$items.filter(".active").removeClass("active"),this.$items.filter('[data-id="'+a+'"]').addClass("active")},getCurrentSlideIndex:function(){return this.$items.index(this.$items.filter(".active"))},getSlideIDByIndex:function(a){return this.$items.filter(":eq("+a+")").data("id")},navigate:function(a){a.preventDefault();var b,c=$(a.currentTarget).data("direction"),d=this.getCurrentSlideIndex();b="next"==c?d<this.itemCount-1?d+1:0:0==d?this.itemCount-1:d-1,this.broker.trigger("item:change",this.getSlideIDByIndex(b))},triggerInfo:function(a){var b=$(a.currentTarget),c=b.parents(".js-carousel-slide");$(document.documentElement).hasClass("touch")?c.toggleClass("info-active"):c.hasClass("info-active")||c.addClass("info-active")},deactiveateInfo:function(a){var b=$(a.currentTarget),c=b.parents(".js-carousel-slide");c.removeClass("info-active")}});return b}),define("views/languageSelect",["jquery","underscore","backbone","views/base","qtip2","lib/breakpoints"],function($,_,Backbone,a){var b=a.extend({events:{"click .js-lang-select-btn":"toggleLanguageSelect"},initialize:function(){},toggleLanguageSelect:function(){$(".js-lang-select-wrap").toggle()}});return b}),define("text!templates/pricing/bookOptionsGroup.html",[],function(){return'<div class="pricing__options-group">\n  <a class="accordion--bar">\n    <span class="fl  accordion--bar__title">0<%= index %></span>\n    <span class="fl  accordion--bar__slash">/</span>\n    <span class="accordion--bar__title  fl"><%= header %></span>\n    <button class="btn--accordion js-choose fr"><%= I18n.t(\'pricing.choose\') %></button>\n  </a>\n  <div class="accordion__options-container  js-options-container" <% if(!visible) { %> style="display: none;" <% } %>>\n  \n  </div>\n</div>\n'}),define("views/pricing/bookOptionsGroup",["jquery","underscore","backbone","views/base","text!templates/pricing/bookOptionsGroup.html"],function($,_,Backbone,a,b){var c=a.extend({template:b,$optionsContainer:null,header:"",optionViews:[],visible:!1,index:0,events:{"click .js-choose":"choose"},initialize:function(a){this.setBrokerNamespace("pricing"),this.header=a.header,this.optionViews=a.optionViews,this.visible=a.visible||this.visible},toggle:function(){this.visible?this.hide():this.show()},hide:function(){this.visible=!1,this.$optionsContainer.slideUp(250)},show:function(){this.visible=!0,this.$optionsContainer.slideDown(250)},choose:function(a){this.broker.trigger("pricing:optiongroup:choose",this),a.preventDefault()},afterRender:function(){this.$optionsContainer=this.$el.find(".js-options-container"),this.renderBookOptions()},renderBookOptions:function(){_.each(this.optionViews,function(a){this.$optionsContainer.append(a.render().el)},this)},serialize:function(){return{index:this.index,header:this.header,visible:this.visible}}});return c}),define("views/pricing/bookOptions",["jquery","underscore","backbone","views/base"],function($,_,Backbone,a){var b=a.extend({template:"<!-- define a template! -->",optionValue:null,optionAttribute:null,header:"",collection:new Backbone.Collection,events:{"click .js-option-item":"itemClick"},initialize:function(a){this.setBrokerNamespace("pricing"),this.header=a.header,this.template=a.template||this.template,this.collection=a.collection||this.collection,this.optionAttribute=a.optionAttribute,this.optionValue=a.optionValue},itemClick:function(a){a.preventDefault(),this.optionValue=$(a.currentTarget).data("id"),this.broker.trigger("pricing:option:change",this.optionAttribute,this.optionValue),this.render()},serialize:function(){return{header:this.header,collection:this.collection,optionValue:this.optionValue}}});return b}),define("text!templates/pricing/summary.html",[],function(){return'\n  <div class="accordion--bar has-border-bottom pricing clearfix" data-step="1">\n    <span class="accordion--bar__title fl"><%= I18n.t(\'pricing.quantity\') %></span>\n  </div>\n\n  <div class="summary--options clearfix">\n\n    <div class="summary--options__pages">\n      <% if(error) { %> \n      <div class="summary--options__page-error  pricing__error-text">\n        <%= I18n.t(\'pricing.errors.\' + error) %>\n      </div>\n      <% } %>\n      <input class="pages__input-count  js-option-item<% if(error) { %>  has-error<% } %>" id="page-count" name="page-count" type="text" value="<%= pages %>">\n      <label class="circular--bold counter" for="page-count"><%= I18n.t(\'pricing.estimated_pages\') %></label>\n    </div>\n\n    <div class="summary--options__border">\n      <span class="has-vert-border"></span>\n    </div>\n\n    <div class="summary--options__thumb">\n      <img  class="book--img" src="<%= _.getAssetPath(imageURL) %>" alt="">\n      <span class="book--type circular--bold"><%= bookType %></span>\n      <span class="book--size__name circular--bold"><%= format %></span>\n      <span class="book--size__dimensions"><%= size %></span>\n    </div>\n  </div>\n'}),define("views/pricing/summary",["jquery","underscore","backbone","views/base","text!templates/pricing/summary.html"],function($,_,Backbone,a,b){var c=a.extend({template:b,pages:20,error:null,icon:"",bookType:"",format:"",size:"",events:{"change .js-option-item":"pageCountUpdate","keyup .js-option-item":"keyCheck"},initialize:function(a){this.setupBrokerEvents(),this.pages=a.pages,this.errors=a.errors},setupBrokerEvents:function(){this.setBrokerNamespace("pricing"),this.broker.register({"pricing:options:changed":"optionsChanged","pricing:option:pages:error":"pagesError"},this)},pagesError:function(a){this.error=a,this.render()},pageCountUpdate:function(a){this.pages=$(a.currentTarget).val(),this.broker.trigger("pricing:option:change","pages",this.pages)},optionsChanged:function(a){this.error=null,this.bookType=a.bookTypeSelection.getHeading(),this.format=a.bookType.getHeading(),this.size=a.bookType.getSubHeading(),this.imageURL=a.bookType.getImageURL(),this.render()},keyCheck:function(a){13==a.keyCode&&this.pageCountUpdate(a)},serialize:function(){return{pages:this.pages,error:this.error,bookType:this.bookType,format:this.format,size:this.size,imageURL:this.imageURL}}});return c}),define("config",[],function(){return Blurb.config=Blurb.config||{},_.extend({pricingAPIEndpoint:"/api/book_prices.xml",assetBasePath:"/assets/",quantityDiscounts:{1:1,10:.9,51:.85,101:.8,301:-1},discountRanges:function(){var a=_.pairs(this.quantityDiscounts);return _.map(a,function(b,c){var d=b[0],e=b[1];if(0>e)return{min:d,max:-1,discount:0};var f=Math.round(100*(1-e));return{min:d,max:a[c+1][0]-1,discount:f}})}},Blurb.config)}),define("models/bookPrice",["underscore","backbone","config"],function(_,Backbone,a){var b=Backbone.Model.extend({quantityDiscounts:a.quantityDiscounts,consumeXML:function(a){var b=[];$xml=$(a),$xml.find("prices price").each(function(){b.push({symbol:$(this).attr("symbol"),value:$(this).attr("value"),taxIncluded:$(this).attr("tax_included"),currency:$(this).attr("currency")})}),this.set({coverType:$xml.find("cover-type").text(),bookType:$xml.find("book-type").text(),paperType:$xml.find("paper-type").text(),linenType:$xml.find("linen-type").text(),endsheetType:$xml.find("endsheet-type").text(),customLogoUpgrade:$xml.find("custom-logo-upgrade").text(),pageBlock:{start:$xml.find("page-block start").text(),end:$xml.find("page-block end").text()},prices:b})},roundMoney:function(a){return Math.round(100*a)/100},getPriceWithDiscount:function(a,b){var c=_.find(_.pairs(this.quantityDiscounts).reverse(),function(a){return a[0]<=b},this)[1];return/^[0-9\s.]+,[0-9]{1,2}$/.test(a+"")&&(a=a.replace(/ /,"").replace(/\./,"").replace(/,/,".")),this.roundMoney(a*c)},getPriceByCurrency:function(a){return _.find(this.get("prices"),function(b){return b.currency===a})},getFormattedPriceByCurrency:function(a,b){var c=this.getPriceByCurrency(a);return c.symbol+this.getPriceWithDiscount(c.value,b).toFixed(2)},getPriceByQty:function(a){return this.getFormattedPriceByCurrency(Blurb.currency,a)}});return b}),define("text!templates/pricing/priceList.html",[],function(){return'<div class="summary--table clearfix">\n\n  <table class="summary-table__table">\n      <tr class="summary-table__tr  summary-table__head-row">\n        <th class="summary-table__th"><%= I18n.t(\'pricing.quantity\') %></th>\n        <th class="summary-table__th"><%= I18n.t(\'pricing.price_per_copy\') %></th>\n      </tr>\n\n      <% if(errors) { %> \n\n        <tr class="summary-table__tr">\n          <td class="summary-table__td  pricing__error-text" colspan="2">\n            <%= I18n.t(\'pricing.errors.selection\') %>\n          </td>\n        </tr>\n\n      <% } else if(blacklisted) { %> \n\n        <tr class="summary-table__tr">\n          <td class="summary-table__td  pricing__error-text" colspan="2">\n            <%= I18n.t(\'pricing.errors.blacklist\') %>\n          </td>\n        </tr>\n\n      <% } else { %>\n\n         <% _.each(discountRanges, function(discountRange) { %>\n          \n          <tr class="summary-table__tr">\n            <td class="summary-table__td">\n              <span class="summary-table__row-title">\n                <% if(discountRange.max > 0) { %>\n                  <%= discountRange.min %>-<%= discountRange.max %>\n                <% } else { %>\n                  <%= discountRange.min %>+\n                <% } %>\n              </span>\n            </td>\n            <td class="summary-table__td">\n              <% if(discountRange.max > 0) { %>\n                \n               \n                  <% if(bookPrice) { %> \n                    <span class="fl">\n                    <%= bookPrice.getPriceByQty(discountRange.max) %>\n                    </span>\n\n                    <% if(discountRange.discount > 0) { %>\n                      <span class="table--save  circular--bold fl"><%= I18n.t(\'pricing.save_percent\', {percentage: discountRange.discount }) %></span>\n                    <% } %>\n\n                  <% } else { %>\n                    <%= I18n.t(\'pricing.loading\') %>\n                  <% } %>\n\n              <% } else { %>\n\n                <a class="circular--bold" href="/volume-pricing"><%= I18n.t(\'pricing.contact_us\') %></a>\n\n              <% } %>\n\n            </td>\n          </tr>\n          \n        <% }) %>\n\n      <% } %>\n\n    </table>\n\n</div>\n\n'}),define("views/pricing/priceList",["jquery","underscore","backbone","views/base","models/bookPrice","text!templates/pricing/priceList.html","config"],function($,_,Backbone,a,b,c,d){var e=a.extend({template:c,errors:null,blacklisted:null,bookPrice:null,events:{},initialize:function(){this.setupBrokerEvents()},setupBrokerEvents:function(){this.setBrokerNamespace("pricing"),this.broker.register({"pricing:change":"pricingChange","pricing:changing":"pricingChanging","pricing:options:errors":"hasErrors","pricing:options:invalid":"isBlacklisted"},this)},pricingChanging:function(){this.bookPrice=null,this.errors=null,this.blacklisted=null,this.render()},pricingChange:function(a){this.bookPrice=a,this.render()},hasErrors:function(){this.errors=!0,this.render()},isBlacklisted:function(){this.blacklisted=!0,this.render()},serialize:function(){return{bookPrice:this.bookPrice,errors:this.errors,blacklisted:this.blacklisted,discountRanges:d.discountRanges()}}});return e}),define("text!templates/pricing/bookOptions/2Column.html",[],function(){return'<% if(collection.length) { %> \n\n    <% if(header) { %> \n    <span class="accordion--bar__title  fl"><%= header %></span>\n    <% } %>\n    <div class="accordion__content">\n\n    <% _.each(collection, function(model, i) { %>\n\n      <a href="#" class="two-col__item  pricing__option-item  js-option-item<% if(optionValue == model.id ) { %>  active<% } %>" data-id="<%= model.id %>">\n\n\n        <% if(typeof model.getImageURL !== "undefined") { %>\n        <div class="two-col__icon-wrap">\n        <% } %>\n\n          <% if(typeof model.getImageURL !== "undefined") { %>\n            <img class="two-col__image" src="<%= _.getAssetPath(model.getImageURL()) %>" alt="<% if(model.getHeading() !== undefined) { %><%= model.getHeading()%><% } %>">\n          <% } %>\n\n          <div class="two-col__desc">\n            <% if(model.getHeading() !== undefined) { %>\n              <div class="two-col__desc__heading"><%= model.getHeading() %></div>\n            <% } %>\n\n            <% if(model.getSubHeading() !== undefined) { %>\n              <div class="two-col__desc__subheading"><%= model.getSubHeading() %></div>\n            <% } %>\n          </div>\n\n        <% if(typeof model.getImageURL !== "undefined") { %>\n        </div>\n        <% } %>\n\n        <div class="two-col__sample-wrap">\n          <% if(typeof model.getTextureImgURL !== "undefined") { %>\n            <img class="two-col__sample-image" src="<%= _.getAssetPath(model.getTextureImgURL()) %>" alt="<% if(model.getHeading() !== undefined) { %><%= model.getHeading()%><% } %>">\n          <% } %>\n        </div>\n\n      </a>\n\n    <% }) %>\n    </div>\n\n<% } %>\n'
}),define("text!templates/pricing/bookOptions/3Column.html",[],function(){return'<!-- \nTemplate: Three Column Template\n@NOTE: Rename classes to match template like "threecolumn__..." \n-->\n<% if(collection.length) { %> \n\n<div class="three-col--content  accordion__content">\n  <% _.each(collection, function(model, i) { %>\n      <a href="#" class="pricing__option-item  three-col__item  js-option-item<% if(optionValue && optionValue == model.id ) { %>  active<% } %>" data-id="<%= model.id %>">\n        <% if(model.getImageURL() !== undefined) { %>\n        <img class="three-col__image" src="<%= _.getAssetPath(model.getImageURL()) %>" alt="<% if(model.getHeading() !== undefined) { %><%= model.getHeading()%><% } %>">\n        <% } %>\n        <% if(model.getHeading() !== undefined) { %>\n        <div class="three-col__desc">\n          <%= model.getHeading() %>\n        </div>\n        <% } %>\n      </a>\n  <% }) %>\n</div>\n\n<% } %>\n'}),define("text!templates/pricing/bookOptions/4Column.html",[],function(){return'\n<% if(collection.length) { %> \n\n<div class="four-col--content  accordion__content">\n  <!-- BOOK SIZE RADIO BUTTONS -->\n\n  <% _.each(collection, function(model, i) { %>\n    <a href="#" class="pricing__option-item  four-col__item  js-option-item<% if(optionValue && optionValue == model.id ) { %>  active<% } %>" data-id="<%= model.id %>">\n      <% if(model.getImageURL() !== undefined) { %>\n      <img class="four-col__image" src="<%= _.getAssetPath(model.getImageURL()) %>" alt="<% if(model.getHeading() !== undefined) { %><%= model.getHeading()%><% } %>">\n      <% } %>\n      <div class="four-col__desc">\n      <% if(model.getHeading() !== undefined) { %>\n        <div class="four-col__desc__heading"><%= model.getHeading() %></div>\n      <% } %>\n      <% if(model.getSubHeading() !== undefined) { %>\n        <div class="four-col__desc__sub-heading"><%= model.getSubHeading() %></div>\n      <% } %>\n      </div>\n    </a>\n  <% }) %>\n\n</div>\n\n\n<% } %>\n'}),define("models/bookTypeSelection",["underscore","backbone"],function(_,Backbone){var a=Backbone.Model.extend({idAttribute:"type",getHeading:function(){return this.get("name")},getImageURL:function(){return this.get("imgURL")}});return a}),define("seeds/bookTypeSelections",[],function(){return[{type:"photo_book",name:"Photo Book",bookTypes:["standard_landscape","standard_portrait_true8x10","square","large_square","large_landscape"],coverTypes:["softcover","dustjacket","imagewrap"],paperTypes:["premium_matte_paper","standard_paper","premium_lustre_paper","pro_medium_gloss_paper","pro_uncoated_paper"],endsheetTypes:["standard_mid_grey_endsheet","pro_white_endsheet","pro_charcoal_endsheet","pro_light_grey_endsheet","pro_black_endsheet"],linenTypes:["pro_charcoal_linen_covering","pro_oatmeal_linen_covering","standard_grey_linen_covering","standard_black_linen_covering"],logoTypes:["true","false"],imgURL:"img/pricing/book_type_selections/photo_book.png"},{type:"trade_book",name:"Trade Book",bookTypes:["pocket","trade","standard_portrait_true8x10"],coverTypes:["softcover","dustjacket","imagewrap"],paperTypes:["economy_trade_bw_matte_paper","economy_trade_bw_cream_matte_paper","economy_trade_matte_paper","standard_trade_matte_paper","standard_trade_bw_matte_paper"],endsheetTypes:["standard_white_endsheet"],linenTypes:["standard_grey_linen_covering"],logoTypes:["true","false"],imgURL:"img/pricing/book_type_selections/trade_book.png"},{type:"magazine",name:"Magazine",bookTypes:["magazine"],coverTypes:["softcover"],paperTypes:["magazine_paper","velvet_paper"],endsheetTypes:[],linenTypes:[],logoTypes:["true","false"],imgURL:"img/pricing/book_type_selections/magazine.png"}]}),define("collections/bookTypeSelections",["underscore","backbone","models/bookTypeSelection","seeds/bookTypeSelections"],function(_,Backbone,a,b){var c=Backbone.Collection.extend({model:a});return new c(b)}),define("models/bookType",["underscore","backbone"],function(_,Backbone){var a=Backbone.Model.extend({idAttribute:"type",getHeading:function(){return this.get("format")},getSubHeading:function(){return this.get("trimSize")},getImageURL:function(){return this.get("iconUrl")}});return a}),define("seeds/bookTypes",[],function(){return[{type:"pocket",minPages:24,maxPages:480,format:"Pocket",trimSize:"5x8",bleedSizePoints:"AAxBB",bleedSizePixels:"AAxBB",iconUrl:"img/pricing/size/23_size_5x8-0.png"},{type:"trade",minPages:24,maxPages:480,format:"Trade",trimSize:"6x9",bleedSizePoints:"AAxBB",bleedSizePixels:"AAxBB",iconUrl:"img/pricing/size/23_size_6x9-0.png"},{type:"standard_landscape",minPages:20,maxPages:440,format:"Standard landscape",trimSize:"10x8",bleedSizePoints:"AAxBB",bleedSizePixels:"AAxBB",iconUrl:"img/pricing/size/23_size_standard-landscape-0.png"},{type:"standard_portrait_true8x10",minPages:20,maxPages:440,format:"Standard Portrait",trimSize:"8x10",bleedSizePoints:"AAxBB",bleedSizePixels:"AAxBB",iconUrl:"img/pricing/size/23_size_8x10-0.png"},{type:"square",minPages:20,maxPages:440,format:"Small Square",trimSize:"7x7",bleedSizePoints:"AAxBB",bleedSizePixels:"AAxBB",iconUrl:"img/pricing/size/23_size_small-square-0.png"},{type:"large_square",minPages:20,maxPages:440,format:"Large Square",trimSize:"12x12",bleedSizePoints:"AAxBB",bleedSizePixels:"AAxBB",iconUrl:"img/pricing/size/23_size_large-square-0.png"},{type:"large_landscape",minPages:20,maxPages:440,format:"Large Landscape",trimSize:"13x11",bleedSizePoints:"AAxBB",bleedSizePixels:"AAxBB",iconUrl:"img/pricing/size/23_size_large-landscape-0.png"},{type:"magazine",minPages:20,maxPages:240,format:"Magazine",trimSize:"8.5x11",bleedSizePoints:"AAxBB",bleedSizePixels:"AAxBB",iconUrl:"img/pricing/size/23_size_8.5x11-0.png"}]}),define("collections/bookTypes",["underscore","backbone","models/bookType","seeds/bookTypes"],function(_,Backbone,a,b){var c=Backbone.Collection.extend({model:a,filterByIDs:function(a){return _.filter(this.models,function(b){return _.contains(a,b.id)})}});return new c(b)}),define("models/coverType",["underscore","backbone"],function(_,Backbone){var a=Backbone.Model.extend({idAttribute:"type",getHeading:function(){return this.get("name")},getImageURL:function(){return this.get("imgURL")}});return a}),define("seeds/coverTypes",[],function(){return[{type:"softcover",name:"Softcover",endSheets:!1,coverLinens:!1,description:"lorem ipsum...",imgURL:"img/pricing/covers/23_cover_softcover.png"},{type:"dustjacket",name:"Dust Jacket",endSheets:!0,coverLinens:!0,description:"lorem ipsum...",imgURL:"img/pricing/covers/23_cover_hardcover-dust-jacket.png"},{type:"imagewrap",name:"ImageWrap",endSheets:!0,coverLinens:!1,description:"lorem ipsum...",imgURL:"img/pricing/covers/23_cover_hardcover-imageWrap.png"}]}),define("collections/coverTypes",["underscore","backbone","models/coverType","seeds/coverTypes"],function(_,Backbone,a,b){var c=Backbone.Collection.extend({model:a,filterByIDs:function(a){return _.filter(this.models,function(b){return _.contains(a,b.id)})}});return new c(b)}),define("models/paperType",["underscore","backbone"],function(_,Backbone){var a=Backbone.Model.extend({idAttribute:"type",getHeading:function(){return this.get("format")},getSubHeading:function(){return this.get("description")},getImageURL:function(){return this.get("iconUrl")},getTextureImgURL:function(){return this.get("textureUrl")}});return a}),define("seeds/paperTypes",[],function(){return[{type:"standard_paper",format:"Standard",description:"",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_standard.jpg"},{type:"premium_matte_paper",format:"Premium Matte",description:"",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_Premium-Matte.jpg"},{type:"premium_lustre_paper",format:"Premium Lustre",description:"",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_Premium-Lustre.jpg"},{type:"pro_medium_gloss_paper",format:"Proline Pearl Photo",description:"",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_ProLine-Pearl-Photo.jpg"},{type:"pro_uncoated_paper",format:"Proline Uncoated",description:"",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_ProLine-Uncoated.jpg"},{type:"standard_trade_matte_paper",format:"Standard Trade Matte",description:"White Uncoated 70#",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_standard-trade-matte.jpg"},{type:"standard_trade_bw_matte_paper",format:"Standard Trade Bw Matte",description:"White Uncoated 50#",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_standard-trade-bw-matte.jpg"},{type:"economy_trade_matte_paper",format:"Economy Trade Matte",description:"White Uncoated 70#",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_econ-trade-matte.jpg"},{type:"economy_trade_bw_matte_paper",format:"Economy Trade BW Matte",description:"White Uncoated 50#",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_econ-trade-bw-matte.jpg"},{type:"economy_trade_bw_cream_matte_paper",format:"Economy Trade BW Cream",description:"Cream Uncoated 50#",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_econ-trade-bw-cream.jpg"},{type:"bw_text_paper",format:"Bw Text",description:"80#",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/texture-type1.png"},{type:"color_text_paper",format:"Color Text",description:"80#",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/texture-type1.png"},{type:"magazine_paper",format:"Magazine Economy",description:"60# Gloss (89 GSM)",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_magazine-economy.jpg"},{type:"velvet_paper",format:"Velvet Premium",description:"80# Matte (118 GSM)",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/23_paper_magazine-premium.jpg"},{type:"premium_magazine_paper",format:"Premium Magazine",description:"80#",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/paper-types/texture-type1.png"}]}),define("collections/paperTypes",["underscore","backbone","models/paperType","seeds/paperTypes"],function(_,Backbone,a,b){var c=Backbone.Collection.extend({model:a,filterByIDs:function(a){return _.filter(this.models,function(b){return _.contains(a,b.id)})}});return new c(b)}),define("models/linenType",["underscore","backbone"],function(_,Backbone){var a=Backbone.Model.extend({idAttribute:"type",getHeading:function(){return this.get("format")},getSubHeading:function(){return this.get("description")},getImageURL:function(){return this.get("iconUrl")},getTextureImgURL:function(){return this.get("textureUrl")}});return a}),define("seeds/linenTypes",[],function(){return[{type:"pro_charcoal_linen_covering",format:"Pro Charcoal Linen Covering",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/linens/23_linen_Pro-Charcoal.jpg"},{type:"pro_oatmeal_linen_covering",format:"Pro Oatmeal Linen Covering",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/linens/23_linen_Pro-Oatmeal.jpg"},{type:"standard_grey_linen_covering",format:"Standard Grey Linen Covering",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/linens/23_linen_Standard-grey.jpg"},{type:"standard_black_linen_covering",format:"Standard Black Linen Covering",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/linens/23_linen_Standard-Black.jpg"}]}),define("collections/linenTypes",["underscore","backbone","models/linenType","seeds/linenTypes"],function(_,Backbone,a,b){var c=Backbone.Collection.extend({model:a,filterByIDs:function(a){return _.filter(this.models,function(b){return _.contains(a,b.id)})}});return new c(b)}),define("models/endsheetType",["underscore","backbone"],function(_,Backbone){var a=Backbone.Model.extend({idAttribute:"type",getHeading:function(){return this.get("format")},getSubHeading:function(){return this.get("description")},getImageURL:function(){return this.get("iconUrl")},getTextureImgURL:function(){return this.get("textureUrl")}});return a}),define("seeds/endsheetTypes",[],function(){return[{type:"standard_mid_grey_endsheet",format:"Standard Mid Grey End Sheet",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/end_sheets/23_endsheet_Standard-MidGrey.jpg"},{type:"standard_white_endsheet",format:"Standard White End Sheet",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/end_sheets/23_endsheet_Standard-White.jpg"},{type:"pro_white_endsheet",format:"Pro White End Sheet",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/end_sheets/23_endsheet_ProLine-White.jpg"},{type:"pro_charcoal_endsheet",format:"Pro Charcoal End Sheet",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/end_sheets/23_endsheet_ProLine-Charcoal.jpg"},{type:"pro_light_grey_endsheet",format:"Pro Light Grey End Sheet",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/end_sheets/23_endsheet_ProLine-LightGrey.jpg"},{type:"pro_black_endsheet",format:"Pro Black End Sheet",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/end_sheets/23_endsheet_ProLine-Black.jpg"}]}),define("collections/endsheetTypes",["underscore","backbone","models/endsheetType","seeds/endsheetTypes"],function(_,Backbone,a,b){var c=Backbone.Collection.extend({model:a,filterByIDs:function(a){return _.filter(this.models,function(b){return _.contains(a,b.id)})}});return new c(b)}),define("collections/bookPrices",["underscore","backbone","models/bookPrice","config"],function(_,Backbone,a,b){var c=Backbone.Collection.extend({errors:[],model:a,hasErrors:function(){return this.errors.length>0},getBookPrices:function(a,c,d,e){this.errors=[],this.url=b.pricingAPIEndpoint,this.fetch({data:$.param(_.compactObject(a)),success:function(){c.apply(e,arguments)},error:function(){d.apply(e,arguments)},dataType:"xml"})},parse:function(b){var c=[];return $(b).find("error").length?$(b).find("error").each(_.bind(function(a,b){this.errors.push({parameter:$(b).find("parameter").text(),message:$(b).find("message").text()})},this)):$(b).find("book-price").each(_.bind(function(a,b,c,d){var e=new a;e.consumeXML(d),b.push(e)},this,a,c)),c}});return c}),define("models/logoType",["underscore","backbone"],function(_,Backbone){var a=Backbone.Model.extend({idAttribute:"type",getHeading:function(){return this.get("name")},getSubHeading:function(){},getTextureImgURL:function(){return this.get("textureUrl")},getImageURL:function(){return this.get("iconUrl")}});return a}),define("seeds/logoTypes",[],function(){return[{type:!1,name:"Blurb Logo",key:"blurb_logo",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/logos/23_Custom-Logo_Blurb.png"},{type:!0,name:"No Logo",key:"no_logo",iconUrl:"img/pricing/paper-types/paper-type1.png",textureUrl:"img/pricing/logos/23_ICON_no-logo_TEMP.png"}]}),define("collections/logoTypes",["underscore","backbone","models/logoType","seeds/logoTypes"],function(_,Backbone,a,b){var c=Backbone.Collection.extend({model:a,filterByIDs:function(a){return _.filter(this.models,function(b){return _.contains(a,b.id)})}});return new c(b)}),define("seeds/blacklist",[],function(){return[{book_type:"large_landscape",cover_type:"softcover"}]}),define("models/bookQuote",["underscore","backbone","collections/bookTypeSelections","collections/bookTypes","collections/coverTypes","seeds/blacklist"],function(_,Backbone,a,b,c,d){var e=Backbone.Model.extend({defaults:{pages:20,book_type_selection:"photo_book",book_type:"standard_landscape",cover_type:"dustjacket",paper_type:"standard_paper",linen_type:"pro_charcoal_linen_covering",clu:!1,endsheet_type:"standard_mid_grey_endsheet"},initialize:function(){this.once("change",this.validateSelectionChange,this)},validateSelectionChange:function(){_.contains(this.availableBookTypes(),this.get("book_type"))||this.set("book_type",this.availableBookTypes()[0]),_.contains(this.availablePaperTypes(),this.get("paper_type"))||this.set("paper_type",this.availablePaperTypes()[0]),_.contains(this.availableCoverTypes(),this.get("cover_type"))||this.set("cover_type",this.availableCoverTypes()[0]),this.currentCoverType().get("endSheets")?_.contains(this.availableEndsheetTypes(),this.get("endsheet_type"))||this.set("endsheet_type",this.availableEndsheetTypes()[0]):this.set("endsheet_type",null),this.currentCoverType().get("coverLinens")?_.contains(this.availableLinenTypes(),this.get("linen_type"))||this.set("linen_type",this.availableLinenTypes()[0]):(console.log("nulling out coverLinens"),this.set("linen_type",null)),this.get("pages")<this.currentBookType().get("minPages")&&this.set("pages",this.currentBookType().get("minPages")),this.get("pages")>this.currentBookType().get("maxPages")&&this.set("pages",this.currentBookType().get("maxPages")),this.once("change",this.validateSelectionChange,this)},valid:function(){return!_.findWhere(d,{book_type:this.get("book_type"),cover_type:this.get("cover_type"),paper_type:this.get("paper_type")})},currentBookType:function(){return b.get(this.get("book_type"))},currentCoverType:function(){return c.get(this.get("cover_type"))},currentBookTypeSelection:function(){return a.get(this.get("book_type_selection"))},availableBookTypes:function(){return this.currentBookTypeSelection().get("bookTypes")},availablePaperTypes:function(){return this.currentBookTypeSelection().get("paperTypes")},availableCoverTypes:function(){return this.currentBookTypeSelection().get("coverTypes")},availableEndsheetTypes:function(){return this.currentCoverType().get("endSheets")?this.currentBookTypeSelection().get("endsheetTypes"):[]},availableLinenTypes:function(){return this.currentCoverType().get("coverLinens")?this.currentBookTypeSelection().get("linenTypes"):[]}});return e}),define("views/pricing",["jquery","underscore","backbone","lib/breakpoints","views/base","views/pricing/bookOptionsGroup","views/pricing/bookOptions","views/pricing/summary","views/pricing/priceList","text!templates/pricing/bookOptions/2Column.html","text!templates/pricing/bookOptions/3Column.html","text!templates/pricing/bookOptions/4Column.html","collections/bookTypeSelections","collections/bookTypes","collections/coverTypes","collections/paperTypes","collections/linenTypes","collections/endsheetTypes","collections/bookPrices","collections/logoTypes","models/bookQuote"],function($,_,Backbone,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=b.extend({$optionsContainer:null,$summaryContainer:null,bookOptionGroups:[],summaryView:null,priceListView:null,autoCollapse:!0,bookQuote:new r,scrollTop:null,summaryWrap:null,summaryOuterWrap:null,summaryPosition:null,summaryDistance:null,summaryHeight:null,summaryBottom:null,optionsPosition:null,optionsDistance:null,optionsHeight:null,optionsBottom:null,bottomOffset:null,events:{},initialize:function(){"undefined"!=typeof Blurb.bookQuote&&this.bookQuote.set(Blurb.bookQuote),this.$optionsContainer=this.$el.find(".js-options-groups-container"),this.$summaryContainer=this.$el.find(".js-summary-container"),this.summaryWrap=this.$summaryContainer,this.summaryOuterWrap=this.$el.find(".js-summary"),this.setupBrokerEvents(),this.renderBookOptionGroups(),this.renderSummary(),this.renderPriceList(),this.dispatchOptionsChanged(),this.getBookPrices(),this.setupSummaryParams(),this.setFixedSummary(),$(window).scroll(_.bind(this.refreshSummary,this))},setupBrokerEvents:function(){this.setBrokerNamespace("pricing"),this.broker.register({"pricing:option:change":"optionChange","pricing:optiongroup:choose":"onPricingGroupChoose"},this)},onPricingGroupChoose:function(a){this.autoCollapse=!1,this.revealPricingGroup(a)},revealPricingGroup:function(a){_.each(this.bookOptionGroups,function(b){b===a?b.toggle():this.autoCollapse&&b.hide()})},displayNextOptionGroup:function(a){this.autoCollapse&&this.revealPricingGroup(this.nextOptionGroup(a))},nextOptionGroup:function(a){for(var b=0;b<this.bookOptionGroups.length-1;b++)for(var c=this.bookOptionGroups[b].optionViews,d=0;d<c.length;d++)if(c[d].optionAttribute==a)return this.bookOptionGroups[b+1];return this.bookOptionGroups[this.bookOptionGroups.length-1]},optionChange:function(a,b){this.bookQuote.set(a,b),this.updateOptionViews(),this.getBookPrices(),this.dispatchOptionsChanged(),this.displayNextOptionGroup(a)},dispatchOptionsChanged:function(){this.broker.trigger("pricing:options:changed",{pages:this.bookQuote.get("pages"),bookTypeSelection:j.get(this.bookQuote.get("book_type_selection")),bookType:k.get(this.bookQuote.get("book_type")),coverType:l.get(this.bookQuote.get("cover_type")),paperType:m.get(this.bookQuote.get("paper_type")),endsheetType:o.get(this.bookQuote.get("endsheet_type")),linenType:n.get(this.bookQuote.get("linen_type")),logoType:q.get(this.bookQuote.get("clu"))})},getBookPrices:function(){this.bookQuote.valid()?(this.broker.trigger("pricing:changing"),this.bookPrices=new p,this.bookPrices.getBookPrices(this.bookQuote.toJSON(),this.bookPricesSuccess,this.bookPricesError,this)):this.broker.trigger("pricing:options:invalid")},bookPricesSuccess:function(a,b,c){this.bookPrices.hasErrors()?this.bookPricesError(a,b,c):1===a.length?(this.broker.trigger("pricing:change",a.models[0]),"undefined"!=typeof $drupaljq&&$drupaljq(document).trigger("pricing:change",a.models[0])):(0===a.length&&console.error("No pricing records returned!"),this.broker.trigger("pricing:options:invalid"))},bookPricesError:function(a){console.log("Not so happy in blurb land... ",a.errors),_.each(a.errors,function(a){a.message=a.message.trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}),this.broker.trigger("pricing:options:errors",a.errors),_.each(a.errors,function(a){this.broker.trigger("pricing:option:"+a.parameter+":error",a.message)},this)},updateOptionViews:function(){_.each(_.flatten(_.pluck(this.bookOptionGroups,"optionViews")),function(a){switch(a.optionValue=this.bookQuote.get(a.optionAttribute),a.optionAttribute){case"book_type_selection":break;case"book_type":a.collection=k.filterByIDs(this.bookQuote.availableBookTypes()),a.render();break;case"cover_type":a.collection=l.filterByIDs(this.bookQuote.availableCoverTypes()),a.render();break;case"paper_type":a.collection=m.filterByIDs(this.bookQuote.availablePaperTypes()),a.render();break;case"endsheet_type":a.collection=o.filterByIDs(this.bookQuote.availableEndsheetTypes()),a.render();break;case"linen_type":a.collection=n.filterByIDs(this.bookQuote.availableLinenTypes()),a.render();break;case"clu":a.render()}},this),this.summaryView.pages!==this.bookQuote.get("pages")&&(this.summaryView.pages=this.bookQuote.get("pages"),this.summaryView.render())},renderBookOptionGroups:function(){this.renderBookTypes(),this.renderBookSizes(),this.renderBookCovers(),this.renderBookPapers(),this.renderBookCustomOptions()},renderBookTypes:function(){this.appendOptionGroup(new c({header:I18n.t("pricing.book_types"),visible:!0,optionViews:[new d({template:h,collection:j.models,optionAttribute:"book_type_selection",optionValue:this.bookQuote.get("book_type_selection")})]}))},renderBookSizes:function(){this.appendOptionGroup(new c({header:I18n.t("pricing.size"),visible:!0,optionViews:[new d({template:i,collection:k.filterByIDs(this.bookQuote.availableBookTypes()),optionAttribute:"book_type",optionValue:this.bookQuote.get("book_type")})]}))},renderBookCovers:function(){this.appendOptionGroup(new c({header:I18n.t("pricing.covers"),optionViews:[new d({template:h,collection:l.filterByIDs(this.bookQuote.availableCoverTypes()),optionAttribute:"cover_type",optionValue:this.bookQuote.get("cover_type")})]}))},renderBookPapers:function(){this.appendOptionGroup(new c({header:I18n.t("pricing.papers"),optionViews:[new d({template:g,collection:m.filterByIDs(this.bookQuote.availablePaperTypes()),optionAttribute:"paper_type",optionValue:this.bookQuote.get("paper_type")})]}))},renderBookCustomOptions:function(){this.appendOptionGroup(new c({header:I18n.t("pricing.custom_options"),optionViews:[new d({header:I18n.t("pricing.logo"),template:g,collection:q.models,optionAttribute:"clu",optionValue:this.bookQuote.get("clu")}),new d({header:I18n.t("pricing.end_sheets"),template:g,collection:o.filterByIDs(this.bookQuote.availableEndsheetTypes()),optionAttribute:"endsheet_type",optionValue:this.bookQuote.get("endsheet_type")}),new d({header:I18n.t("pricing.cover_linens"),template:g,collection:n.filterByIDs(this.bookQuote.availableLinenTypes()),optionAttribute:"linen_type",optionValue:this.bookQuote.get("linen_type")})]}))},appendOptionGroup:function(a){this.bookOptionGroups.push(a),a.index=this.bookOptionGroups.length,this.$optionsContainer.append(a.render().el)},renderSummary:function(){this.summaryView=new e({pages:this.bookQuote.get("pages")}),this.$summaryContainer.append(this.summaryView.render().el)},renderPriceList:function(){this.priceListView=new f,this.$summaryContainer.append(this.priceListView.render().el)},setupSummaryParams:function(){this.scrollTop=$(window).scrollTop(),this.summaryPosition=this.summaryWrap.offset().top,this.summaryDistance=this.summaryPosition-this.scrollTop,this.summaryHeight=this.summaryWrap.height(),this.summaryBottom=this.summaryPosition+this.summaryHeight,this.optionsPosition=this.$optionsContainer.offset().top,this.optionsDistance=this.optionsPosition-this.scrollTop,this.optionsHeight=this.$optionsContainer.height(),this.optionsBottom=this.optionsPosition+this.optionsHeight,this.bottomOffset=$(document).height()-this.optionsBottom},refreshSummary:function(){this.setupSummaryParams(),this.setFixedSummary()},setFixedSummary:function(){"lg"===a.breakpoint?(this.summaryOuterWrap.css("height",this.optionsHeight),this.optionsDistance>=0?(this.summaryWrap.removeClass("fixed"),this.summaryWrap.removeClass("scroll-bottom"),this.summaryWrap.removeAttr("style"),this.summaryWrap.css("width","auto")):(($(window).height()+$(document).scrollTop()<this.optionsBottom&&$(window).height()>this.optionsHeight||this.optionsBottom-this.summaryHeight>=$(document).scrollTop())&&(this.summaryWrap.addClass("fixed"),this.summaryWrap.removeClass("fixed-bottom"),this.summaryWrap.removeAttr("style"),this.summaryWrap.css("width",this.summaryOuterWrap.outerWidth())),$(window).height()+$(document).scrollTop()>=this.optionsBottom&&this.optionsBottom<=this.summaryBottom&&this.optionsBottom-this.summaryHeight<$(document).scrollTop()&&(this.summaryWrap.addClass("fixed-bottom"),this.summaryWrap.removeAttr("style"),this.summaryWrap.css("bottom",0),this.summaryWrap.css("width",this.summaryOuterWrap.outerWidth())))):(this.summaryOuterWrap.css("height","auto"),this.summaryWrap.removeClass("fixed"),this.summaryWrap.removeClass("scroll-bottom"),this.summaryWrap.removeAttr("style"),this.summaryWrap.css("width","auto"))}});return s}),define("text!templates/pricingDev.html",[],function(){return'<form id="pricing-form">\n\npages: \n<input type="text" value="<%= queryAttributes.pages %>" name="pages" size="3" placeholder="pages" /><br />\n\nbook type:<br />\n<select name="book_type">\n    <option value="">-- book type --</option>\n    <% bookTypesCollection.each(function(bookType) { %>\n    <option  value="<%= bookType.id %>" <% if(queryAttributes.book_type === bookType.id) { %> selected="selected"<% } %>>\n        <%= bookType.id %>\n    </option>    \n    <% }) %>\n</select>\n<br /><br />\n\ncover type:<br />\n<select name="cover_type">\n    <option value="">-- cover type --</option>\n    <% coverTypesCollection.each(function(coverType) { %>\n    <option  value="<%= coverType.id %>" <% if(queryAttributes.cover_type === coverType.id) { %> selected="selected"<% } %>>\n        <%= coverType.id %>\n    </option>    \n    <% }) %>\n</select>\n<br /><br />\n\npaper type:<br />\n<select name="paper_type">\n    <option value="">-- paper type --</option>\n    <% paperTypesCollection.each(function(paperType) { %>\n    <option  value="<%= paperType.id %>" <% if(queryAttributes.paper_type === paperType.id) { %> selected="selected"<% } %>>\n        <%= paperType.id %>\n    </option>    \n    <% }) %>\n</select>\n<br /><br />\n\nlinen type:<br />\n<select name="linen_type">\n    <option value="">-- linen type --</option>\n    <% linenTypesCollection.each(function(linenType) { %>\n    <option  value="<%= linenType.id %>" <% if(queryAttributes.linen_type === linenType.id) { %> selected="selected"<% } %>>\n        <%= linenType.id %>\n    </option>    \n    <% }) %>\n</select>\n<br /><br />\n\nendsheet type:<br />\n<select name="endsheet_type">\n    <option value="">-- endsheet type --</option>\n    <% endsheetTypesCollection.each(function(endsheetType) { %>\n    <option  value="<%= endsheetType.id %>" <% if(queryAttributes.endsheet_type === endsheetType.id) { %> selected="selected"<% } %>>\n        <%= endsheetType.id %>\n    </option>    \n    <% }) %>\n</select>\n<br /><br />\n\ncustom logo:<br />\n<select name="clu">\n    <option <%= queryAttributes.clu === "true" ? "selected=\'selected\'" : "" %>>true</option>\n    <option <%= queryAttributes.clu === "false" ? "selected=\'selected\'" : "" %>>false</option>\n</select>\n<br /><br />\n\n<input type="submit" />\n\n</form>\n\n<br /><br /><br />\n\n\n<div id="results">\n\n<% if(!errors.length) { %>\n\n<h2>Results!!1! (<%= bookPrices.length %>)</h2>\n<% bookPrices.each(function(bookPrice) { %>\n\n\n\n<div style="background-color: #efefef; padding: 10px;">\n\n<table width="100%">\n    <% _.each([\'bookType\', \'coverType\', \'linenType\', \'endsheetType\', \'customLogoUpgrade\'], function(attribute) { %>\n    <tr>\n        <td width="20%"><strong><%= attribute %></strong></td>\n        <td><%= bookPrice.get(attribute) %></td>\n    </tr>\n    <% }) %>\n    <tr>\n        <td valign="top"><strong>pageBlock</strong></td>\n        <td>\n            <table width="100%">\n            <% _.each([\'start\', \'end\'], function(attribute) { %>\n            <tr>\n                <td width="20%" valign="top"><strong><%= attribute %></strong></td>\n                <td><%= bookPrice.get(\'pageBlock\')[attribute] %></td>\n            </tr>\n            <% }) %>\n            </table>\n        </td>\n    </tr>\n    <tr>\n        <td valign="top"><strong>prices</strong></td>\n        <td>    \n            <table width="100%">\n                <tr>    \n                <% _.each([\'currency\', \'symbol\', \'taxIncluded\', \'value\'], function(attribute) { %>\n                    <td><strong><%= attribute %></strong></td>\n                <% }) %>\n                </tr>\n                <% _.each(bookPrice.get(\'prices\'), function(price) { %>\n                <tr>\n                    <% _.each([\'currency\', \'symbol\', \'taxIncluded\', \'value\'], function(attribute) { %>\n                        <td><%= price[attribute] %></td>\n                    <% }) %>\n                </tr>\n                <% }) %>\n            </table>\n        </td>\n    </tr>\n</table>\n</div>\n<br /><br />\n\n<% }) %>\n\n<% } else { %> \n    \n    <h2>Errors!! :{ </h2>\n    <pre>\n    <% _.each(errors, function(error) { %>\n    parameter: <%= error.parameter %>\n    message: <%= error.message %>\n    <% }) %>\n    </pre>\n\n\n\n<% } %>\n\n</div>\n'}),define("views/pricingDev",["jquery","underscore","backbone","views/base","collections/bookTypes","collections/coverTypes","collections/paperTypes","collections/linenTypes","collections/endsheetTypes","collections/bookPrices","text!templates/pricingDev.html"],function($,_,Backbone,a,b,c,d,e,f,g,h){$.fn.serializeObject=function(){var a={},b=function(b,c){var d=a[c.name];"undefined"!=typeof d&&null!==d?$.isArray(d)?d.push(c.value):a[c.name]=[d,c.value]:c.value.length>0&&(a[c.name]=c.value)};return $.each(this.serializeArray(),b),a
};var i=a.extend({errors:[],template:h,events:{"submit #pricing-form":"submitQuery"},initialize:function(){this.queryAttributes={pages:20,book_type:"standard_landscape",cover_type:"dustjacket",paper_type:"standard_paper",clu:"true"},this.getBookPrices()},getBookPrices:function(){this.errors=[],this.bookPrices=new g,console.log(this.queryAttributes),this.bookPrices.getBookPrices(this.queryAttributes,function(a,b){$(b).find("error").length&&$(b).find("error").each(_.bind(function(a,b){this.errors.push({parameter:$(b).find("parameter").text(),message:$(b).find("message").text()})},this)),this.render()},function(a,b){console.log("boo",b)},this)},submitQuery:function(a){a.preventDefault(),this.$el.find("#results").text("loading..."),this.queryAttributes=$("#pricing-form").serializeObject(),this.getBookPrices()},serialize:function(){return{bookTypesCollection:b,coverTypesCollection:c,paperTypesCollection:d,linenTypesCollection:e,endsheetTypesCollection:f,bookPrices:this.bookPrices,queryAttributes:this.queryAttributes,errors:this.errors}}});return i}),function(a){"function"==typeof define&&define.amd?define("jquery_ui",["jquery"],a):a(jQuery)}(function($){function a(a,c){var d,e,f,g=a.nodeName.toLowerCase();return"area"===g?(d=a.parentNode,e=d.name,a.href&&e&&"map"===d.nodeName.toLowerCase()?(f=$("img[usemap='#"+e+"']")[0],!!f&&b(f)):!1):(/input|select|textarea|button|object/.test(g)?!a.disabled:"a"===g?a.href||c:c)&&b(a)}function b(a){return $.expr.filters.visible(a)&&!$(a).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}function c(a){for(var b,c;a.length&&a[0]!==document;){if(b=a.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(c=parseInt(a.css("zIndex"),10),!isNaN(c)&&0!==c))return c;a=a.parent()}return 0}function d(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.regional.en=$.extend(!0,{},this.regional[""]),this.regional["en-US"]=$.extend(!0,{},this.regional.en),this.dpDiv=e($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function e(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.delegate(b,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(b,"mouseover",f)}function f(){$.datepicker._isDisabledDatepicker(q.inline?q.dpDiv.parent()[0]:q.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))}function g(a,b){$.extend(a,b);for(var c in b)null==b[c]&&(a[c]=b[c]);return a}function h(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}$.ui=$.ui||{},$.extend($.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),$.fn.extend({scrollParent:function(a){var b=this.css("position"),c="absolute"===b,d=a?/(auto|scroll|hidden)/:/(auto|scroll)/,e=this.parents().filter(function(){var a=$(this);return c&&"static"===a.css("position")?!1:d.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==b&&e.length?e:$(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&$(this).removeAttr("id")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(a){return function(b){return!!$.data(b,a)}}):function(a,b,c){return!!$.data(a,c[3])},focusable:function(b){return a(b,!isNaN($.attr(b,"tabindex")))},tabbable:function(b){var c=$.attr(b,"tabindex"),d=isNaN(c);return(d||c>=0)&&a(b,!d)}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(a,b){function c(a,b,c,e){return $.each(d,function(){b-=parseFloat($.css(a,"padding"+this))||0,c&&(b-=parseFloat($.css(a,"border"+this+"Width"))||0),e&&(b-=parseFloat($.css(a,"margin"+this))||0)}),b}var d="Width"===b?["Left","Right"]:["Top","Bottom"],e=b.toLowerCase(),f={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+b]=function(a){return void 0===a?f["inner"+b].call(this):this.each(function(){$(this).css(e,c(this,a)+"px")})},$.fn["outer"+b]=function(a,d){return"number"!=typeof a?f["outer"+b].call(this,a):this.each(function(){$(this).css(e,c(this,a,!0,d)+"px")})}}),$.fn.addBack||($.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),$("<a>").data("a-b","a").removeData("a-b").data("a-b")&&($.fn.removeData=function(a){return function(b){return arguments.length?a.call(this,$.camelCase(b)):a.call(this)}}($.fn.removeData)),$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),$.fn.extend({focus:function(a){return function(b,c){return"number"==typeof b?this.each(function(){var a=this;setTimeout(function(){$(a).focus(),c&&c.call(a)},b)}):a.apply(this,arguments)}}($.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(a){if(void 0!==a)return this.css("zIndex",a);if(this.length)for(var b,c,d=$(this[0]);d.length&&d[0]!==document;){if(b=d.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(c=parseInt(d.css("zIndex"),10),!isNaN(c)&&0!==c))return c;d=d.parent()}return 0}}),$.ui.plugin={add:function(a,b,c){var d,e=$.ui[a].prototype;for(d in c)e.plugins[d]=e.plugins[d]||[],e.plugins[d].push([b,c[d]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}};var i=0,j=Array.prototype.slice;$.cleanData=function(a){return function(b){var c,d,e;for(e=0;null!=(d=b[e]);e++)try{c=$._data(d,"events"),c&&c.remove&&$(d).triggerHandler("remove")}catch(f){}a(b)}}($.cleanData),$.widget=function(a,b,c){var d,e,f,g,h={},i=a.split(".")[0];return a=a.split(".")[1],d=i+"-"+a,c||(c=b,b=$.Widget),$.expr[":"][d.toLowerCase()]=function(a){return!!$.data(a,d)},$[i]=$[i]||{},e=$[i][a],f=$[i][a]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new f(a,b)},$.extend(f,e,{version:c.version,_proto:$.extend({},c),_childConstructors:[]}),g=new b,g.options=$.widget.extend({},g.options),$.each(c,function(a,c){return $.isFunction(c)?void(h[a]=function(){var d=function(){return b.prototype[a].apply(this,arguments)},e=function(c){return b.prototype[a].apply(this,c)};return function(){var a,b=this._super,f=this._superApply;return this._super=d,this._superApply=e,a=c.apply(this,arguments),this._super=b,this._superApply=f,a}}()):void(h[a]=c)}),f.prototype=$.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix||a:a},h,{constructor:f,namespace:i,widgetName:a,widgetFullName:d}),e?($.each(e._childConstructors,function(a,b){var c=b.prototype;$.widget(c.namespace+"."+c.widgetName,f,b._proto)}),delete e._childConstructors):b._childConstructors.push(f),$.widget.bridge(a,f),f},$.widget.extend=function(a){for(var b,c,d=j.call(arguments,1),e=0,f=d.length;f>e;e++)for(b in d[e])c=d[e][b],d[e].hasOwnProperty(b)&&void 0!==c&&(a[b]=$.isPlainObject(c)?$.isPlainObject(a[b])?$.widget.extend({},a[b],c):$.widget.extend({},c):c);return a},$.widget.bridge=function(a,b){var c=b.prototype.widgetFullName||a;$.fn[a]=function(d){var e="string"==typeof d,f=j.call(arguments,1),g=this;return d=!e&&f.length?$.widget.extend.apply(null,[d].concat(f)):d,this.each(e?function(){var b,e=$.data(this,c);return"instance"===d?(g=e,!1):e?$.isFunction(e[d])&&"_"!==d.charAt(0)?(b=e[d].apply(e,f),b!==e&&void 0!==b?(g=b&&b.jquery?g.pushStack(b.get()):b,!1):void 0):$.error("no such method '"+d+"' for "+a+" widget instance"):$.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+d+"'")}:function(){var a=$.data(this,c);a?(a.option(d||{}),a._init&&a._init()):$.data(this,c,new b(d,this))}),g}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,b){b=$(b||this.defaultElement||this)[0],this.element=$(b),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),b!==this&&($.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=$(b.style?b.ownerDocument:b.document||b),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),a),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(a,b){var c,d,e,f=a;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof a)if(f={},c=a.split("."),a=c.shift(),c.length){for(d=f[a]=$.widget.extend({},this.options[a]),e=0;e<c.length-1;e++)d[c[e]]=d[c[e]]||{},d=d[c[e]];if(a=c.pop(),1===arguments.length)return void 0===d[a]?null:d[a];d[a]=b}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];f[a]=b}return this._setOptions(f),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,b,c){var d,e=this;"boolean"!=typeof a&&(c=b,b=a,a=!1),c?(b=d=$(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element,d=this.widget()),$.each(c,function(c,f){function g(){return a||e.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled")?("string"==typeof f?e[f]:f).apply(e,arguments):void 0}"string"!=typeof f&&(g.guid=f.guid=f.guid||g.guid||$.guid++);var h=c.match(/^([\w:-]*)\s*(.*)$/),i=h[1]+e.eventNamespace,j=h[2];j?d.delegate(j,i,g):b.bind(i,g)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b),this.bindings=$(this.bindings.not(a).get()),this.focusable=$(this.focusable.not(a).get()),this.hoverable=$(this.hoverable.not(a).get())},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(a){$(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){$(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(a){$(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){$(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,b,c){var d,e,f=this.options[a];if(c=c||{},b=$.Event(b),b.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),b.target=this.element[0],e=b.originalEvent)for(d in e)d in b||(b[d]=e[d]);return this.element.trigger(b,c),!($.isFunction(f)&&f.apply(this.element[0],[b].concat(c))===!1||b.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(a,b){$.Widget.prototype["_"+a]=function(c,d,e){"string"==typeof d&&(d={effect:d});var f,g=d?d===!0||"number"==typeof d?b:d.effect||b:a;d=d||{},"number"==typeof d&&(d={duration:d}),f=!$.isEmptyObject(d),d.complete=e,d.delay&&c.delay(d.delay),f&&$.effects&&$.effects.effect[g]?c[a](d):g!==a&&c[g]?c[g](d.duration,d.easing,e):c.queue(function(b){$(this)[a](),e&&e.call(c[0]),b()})}});var k=($.widget,!1);$(document).mouseup(function(){k=!1});$.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){return!0===$.data(b.target,a.widgetName+".preventClickEvent")?($.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!k){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var b=this,c=1===a.which,d="string"==typeof this.options.cancel&&a.target.nodeName?$(a.target).closest(this.options.cancel).length:!1;return c&&!d&&this._mouseCapture(a)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(a)!==!1,!this._mouseStarted)?(a.preventDefault(),!0):(!0===$.data(a.target,this.widgetName+".preventClickEvent")&&$.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return b._mouseMove(a)},this._mouseUpDelegate=function(a){return b._mouseUp(a)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),k=!0,!0)):!0}},_mouseMove:function(a){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!a.button)return this._mouseUp(a);if(!a.which)return this._mouseUp(a)}return(a.which||a.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&$.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),k=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function a(a,b,c){return[parseFloat(a[0])*(m.test(a[0])?b/100:1),parseFloat(a[1])*(m.test(a[1])?c/100:1)]}function b(a,b){return parseInt($.css(a,b),10)||0}function c(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:$.isWindow(b)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}$.ui=$.ui||{};var d,e,f=Math.max,g=Math.abs,h=Math.round,i=/left|center|right/,j=/top|center|bottom/,k=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,m=/%$/,n=$.fn.position;$.position={scrollbarWidth:function(){if(void 0!==d)return d;var a,b,c=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),e=c.children()[0];return $("body").append(c),a=e.offsetWidth,c.css("overflow","scroll"),b=e.offsetWidth,a===b&&(b=c[0].clientWidth),c.remove(),d=a-b},getScrollInfo:function(a){var b=a.isWindow||a.isDocument?"":a.element.css("overflow-x"),c=a.isWindow||a.isDocument?"":a.element.css("overflow-y"),d="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth,e="scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight;return{width:e?$.position.scrollbarWidth():0,height:d?$.position.scrollbarWidth():0}},getWithinInfo:function(a){var b=$(a||window),c=$.isWindow(b[0]),d=!!b[0]&&9===b[0].nodeType;return{element:b,isWindow:c,isDocument:d,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c||d?b.width():b.outerWidth(),height:c||d?b.height():b.outerHeight()}}},$.fn.position=function(d){if(!d||!d.of)return n.apply(this,arguments);d=$.extend({},d);var m,o,p,q,r,s,t=$(d.of),u=$.position.getWithinInfo(d.within),v=$.position.getScrollInfo(u),w=(d.collision||"flip").split(" "),x={};return s=c(t),t[0].preventDefault&&(d.at="left top"),o=s.width,p=s.height,q=s.offset,r=$.extend({},q),$.each(["my","at"],function(){var a,b,c=(d[this]||"").split(" ");1===c.length&&(c=i.test(c[0])?c.concat(["center"]):j.test(c[0])?["center"].concat(c):["center","center"]),c[0]=i.test(c[0])?c[0]:"center",c[1]=j.test(c[1])?c[1]:"center",a=k.exec(c[0]),b=k.exec(c[1]),x[this]=[a?a[0]:0,b?b[0]:0],d[this]=[l.exec(c[0])[0],l.exec(c[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===d.at[0]?r.left+=o:"center"===d.at[0]&&(r.left+=o/2),"bottom"===d.at[1]?r.top+=p:"center"===d.at[1]&&(r.top+=p/2),m=a(x.at,o,p),r.left+=m[0],r.top+=m[1],this.each(function(){var c,i,j=$(this),k=j.outerWidth(),l=j.outerHeight(),n=b(this,"marginLeft"),s=b(this,"marginTop"),y=k+n+b(this,"marginRight")+v.width,z=l+s+b(this,"marginBottom")+v.height,A=$.extend({},r),B=a(x.my,j.outerWidth(),j.outerHeight());"right"===d.my[0]?A.left-=k:"center"===d.my[0]&&(A.left-=k/2),"bottom"===d.my[1]?A.top-=l:"center"===d.my[1]&&(A.top-=l/2),A.left+=B[0],A.top+=B[1],e||(A.left=h(A.left),A.top=h(A.top)),c={marginLeft:n,marginTop:s},$.each(["left","top"],function(a,b){$.ui.position[w[a]]&&$.ui.position[w[a]][b](A,{targetWidth:o,targetHeight:p,elemWidth:k,elemHeight:l,collisionPosition:c,collisionWidth:y,collisionHeight:z,offset:[m[0]+B[0],m[1]+B[1]],my:d.my,at:d.at,within:u,elem:j})}),d.using&&(i=function(a){var b=q.left-A.left,c=b+o-k,e=q.top-A.top,h=e+p-l,i={target:{element:t,left:q.left,top:q.top,width:o,height:p},element:{element:j,left:A.left,top:A.top,width:k,height:l},horizontal:0>c?"left":b>0?"right":"center",vertical:0>h?"top":e>0?"bottom":"middle"};k>o&&g(b+c)<o&&(i.horizontal="center"),l>p&&g(e+h)<p&&(i.vertical="middle"),i.important=f(g(b),g(c))>f(g(e),g(h))?"horizontal":"vertical",d.using.call(this,a,i)}),j.offset($.extend(A,{using:i}))})},$.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,g=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-g-e;b.collisionWidth>g?i>0&&0>=j?(c=a.left+i+b.collisionWidth-g-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+g-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=f(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,g=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-g-e;b.collisionHeight>g?i>0&&0>=j?(c=a.top+i+b.collisionHeight-g-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+g-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=f(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,h=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-h-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-h-f,(0>c||c<g(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||g(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,h=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-h-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-h-f,a.top+n+o+p>k&&(0>d||d<g(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||g(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}},function(){var a,b,c,d,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");a=document.createElement(g?"div":"body"),c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&$.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in c)a.style[f]=c[f];a.appendChild(h),b=g||document.documentElement,b.insertBefore(a,b.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",d=$(h).offset().left,e=d>10&&11>d,a.innerHTML="",b.removeChild(a)}()}();$.ui.position,$.widget("ui.accordion",{version:"1.11.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=$(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),a.collapsible||a.active!==!1&&null!=a.active||(a.active=0),this._processPanels(),a.active<0&&(a.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():$()}},_createIcons:function(){var a=this.options.icons;a&&($("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),void("disabled"===a&&(this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b))))},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var b=$.ui.keyCode,c=this.headers.length,d=this.headers.index(a.target),e=!1;switch(a.keyCode){case b.RIGHT:case b.DOWN:e=this.headers[(d+1)%c];break;case b.LEFT:case b.UP:e=this.headers[(d-1+c)%c];break;case b.SPACE:case b.ENTER:this._eventHandler(a);break;case b.HOME:e=this.headers[0];break;case b.END:e=this.headers[c-1]}e&&($(a.target).attr("tabIndex",-1),$(e).attr("tabIndex",0),e.focus(),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===$.ui.keyCode.UP&&a.ctrlKey&&$(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels(),a.active===!1&&a.collapsible===!0||!this.headers.length?(a.active=!1,this.active=$()):a.active===!1?this._activate(0):this.active.length&&!$.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=$()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var a,b=this.options,c=b.heightStyle,d=this.element.parent();this.active=this._findActive(b.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var a=$(this),b=a.uniqueId().attr("id"),c=a.next(),d=c.uniqueId().attr("id");a.attr("aria-controls",d),c.attr("aria-labelledby",b)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(b.event),"fill"===c?(a=d.height(),this.element.siblings(":visible").each(function(){var b=$(this),c=b.css("position");"absolute"!==c&&"fixed"!==c&&(a-=b.outerHeight(!0))}),this.headers.each(function(){a-=$(this).outerHeight(!0)}),this.headers.next().each(function(){$(this).height(Math.max(0,a-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===c&&(a=0,this.headers.next().each(function(){a=Math.max(a,$(this).css("height","").height())}).height(a))},_activate:function(a){var b=this._findActive(a)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,currentTarget:b,preventDefault:$.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):$()},_setupEvents:function(a){var b={keydown:"_keydown"};a&&$.each(a.split(" "),function(a,c){b[c]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,b),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(a){var b=this.options,c=this.active,d=$(a.currentTarget),e=d[0]===c[0],f=e&&b.collapsible,g=f?$():d.next(),h=c.next(),i={oldHeader:c,oldPanel:h,newHeader:f?$():d,newPanel:g};a.preventDefault(),e&&!b.collapsible||this._trigger("beforeActivate",a,i)===!1||(b.active=f?!1:this.headers.index(d),this.active=e?$():d,this._toggle(i),c.removeClass("ui-accordion-header-active ui-state-active"),b.icons&&c.children(".ui-accordion-header-icon").removeClass(b.icons.activeHeader).addClass(b.icons.header),e||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),b.icons&&d.children(".ui-accordion-header-icon").removeClass(b.icons.header).addClass(b.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(a){var b=a.newPanel,c=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=b,this.prevHide=c,this.options.animate?this._animate(b,c,a):(c.hide(),b.show(),this._toggleComplete(a)),c.attr({"aria-hidden":"true"}),c.prev().attr("aria-selected","false"),b.length&&c.length?c.prev().attr({tabIndex:-1,"aria-expanded":"false"}):b.length&&this.headers.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),b.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,b,c){var d,e,f,g=this,h=0,i=a.length&&(!b.length||a.index()<b.index()),j=this.options.animate||{},k=i&&j.down||j,l=function(){g._toggleComplete(c)};return"number"==typeof k&&(f=k),"string"==typeof k&&(e=k),e=e||k.easing||j.easing,f=f||k.duration||j.duration,b.length?a.length?(d=a.show().outerHeight(),b.animate(this.hideProps,{duration:f,easing:e,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(this.showProps,{duration:f,easing:e,complete:l,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?h+=c.now:"content"!==g.options.heightStyle&&(c.now=Math.round(d-b.outerHeight()-h),h=0)}})):b.animate(this.hideProps,f,e,l):a.animate(this.showProps,f,e,l)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),$.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()
},"click .ui-menu-item":function(a){var b=$(a.target);!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),b.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&$(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){if(!this.previousFilter){var b=$(a.currentTarget);b.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(a,b)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,c)},blur:function(a){this._delay(function(){$.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=$(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(a){var b,c,d,e,f=!0;switch(a.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(a);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case $.ui.keyCode.HOME:this._move("first","first",a);break;case $.ui.keyCode.END:this._move("last","last",a);break;case $.ui.keyCode.UP:this.previous(a);break;case $.ui.keyCode.DOWN:this.next(a);break;case $.ui.keyCode.LEFT:this.collapse(a);break;case $.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(a);break;case $.ui.keyCode.ESCAPE:this.collapse(a);break;default:f=!1,c=this.previousFilter||"",d=String.fromCharCode(a.keyCode),e=!1,clearTimeout(this.filterTimer),d===c?e=!0:d=c+d,b=this._filterMenuItems(d),b=e&&-1!==b.index(this.active.next())?this.active.nextAll(".ui-menu-item"):b,b.length||(d=String.fromCharCode(a.keyCode),b=this._filterMenuItems(d)),b.length?(this.focus(a,b),this.previousFilter=d,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}f&&a.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var a,b,c=this,d=this.options.icons.submenu,e=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),e.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var a=$(this),b=a.parent(),c=$("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);b.attr("aria-haspopup","true").prepend(c),a.attr("aria-labelledby",b.attr("id"))}),a=e.add(this.element),b=a.find(this.options.items),b.not(".ui-menu-item").each(function(){var a=$(this);c._isDivider(a)&&a.addClass("ui-widget-content ui-menu-divider")}),b.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),b.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(a){var b,c,d,e,f,g;this._hasScroll()&&(b=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,c=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,d=a.offset().top-this.activeMenu.offset().top-b-c,e=this.activeMenu.scrollTop(),f=this.activeMenu.height(),g=a.outerHeight(),0>d?this.activeMenu.scrollTop(e+d):d+g>f&&this.activeMenu.scrollTop(e+d-f+g))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(a){var b=$.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true"),a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(a,b){clearTimeout(this.timer),this.timer=this._delay(function(){var c=b?this.element:$(a&&a.target).closest(this.element.find(".ui-menu"));c.length||(c=this.element),this._close(c),this.blur(a),this.activeMenu=c},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(a){return!$(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[b]()),this.focus(c,d)},nextPage:function(a){var b,c,d;return this.active?void(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=$(this),b.offset().top-c-d<0}),this.focus(a,b)):this.focus(a,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(a)},previousPage:function(a){var b,c,d;return this.active?void(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=$(this),b.offset().top-c+d>0}),this.focus(a,b)):this.focus(a,this.activeMenu.find(this.options.items).first()))):void this.next(a)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||$(a.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0),this._trigger("select",a,b)},_filterMenuItems:function(a){var b=a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),c=new RegExp("^"+b,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return c.test($.trim($(this).text()))})}});$.widget("ui.autocomplete",{version:"1.11.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,b,c,d=this.element[0].nodeName.toLowerCase(),e="textarea"===d,f="input"===d;this.isMultiLine=e?!0:f?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[e||f?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(d){if(this.element.prop("readOnly"))return a=!0,c=!0,void(b=!0);a=!1,c=!1,b=!1;var e=$.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:a=!0,this._move("previousPage",d);break;case e.PAGE_DOWN:a=!0,this._move("nextPage",d);break;case e.UP:a=!0,this._keyEvent("previous",d);break;case e.DOWN:a=!0,this._keyEvent("next",d);break;case e.ENTER:this.menu.active&&(a=!0,d.preventDefault(),this.menu.select(d));break;case e.TAB:this.menu.active&&this.menu.select(d);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(d),d.preventDefault());break;default:b=!0,this._searchTimeout(d)}},keypress:function(c){if(a)return a=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&c.preventDefault());if(!b){var d=$.ui.keyCode;switch(c.keyCode){case d.PAGE_UP:this._move("previousPage",c);break;case d.PAGE_DOWN:this._move("nextPage",c);break;case d.UP:this._keyEvent("previous",c);break;case d.DOWN:this._keyEvent("next",c)}}},input:function(a){return c?(c=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(a){a.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var b=this.menu.element[0];$(a.target).closest(".ui-menu-item").length||this._delay(function(){var a=this;this.document.one("mousedown",function(c){c.target===a.element[0]||c.target===b||$.contains(b,c.target)||a.close()})})},menufocus:function(a,b){var c,d;return this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){$(a.target).trigger(a.originalEvent)})):(d=b.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",a,{item:d})&&a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(d.value),c=b.item.attr("aria-label")||d.value,void(c&&$.trim(c).length&&(this.liveRegion.children().hide(),$("<div>").text(c).appendTo(this.liveRegion))))},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=$("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?$(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_initSource:function(){var a,b,c=this;$.isArray(this.options.source)?(a=this.options.source,this.source=function(b,c){c($.ui.autocomplete.filter(a,b.term))}):"string"==typeof this.options.source?(b=this.options.source,this.source=function(a,d){c.xhr&&c.xhr.abort(),c.xhr=$.ajax({url:b,data:a,dataType:"json",success:function(a){d(a)},error:function(){d([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!b||b&&!c&&!d)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return $.proxy(function(b){a===this.requestIndex&&this.__response(b),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:$.map(a,function(a){return"string"==typeof a?{label:a,value:a}:$.extend({},a,{label:a.label||a.value,value:a.value||a.label})})},_suggest:function(a){var b=this.menu.element.empty();this._renderMenu(b,a),this.isNewMenu=!0,this.menu.refresh(),b.show(),this._resizeMenu(),b.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,b){var c=this;$.each(b,function(b,d){c._renderItemData(a,d)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(a,b){return $("<li>").text(b.label).appendTo(a)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),$.extend($.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,b){var c=new RegExp($.ui.autocomplete.escapeRegex(b),"i");return $.grep(a,function(a){return c.test(a.label||a.value||a)})}}),$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.children().hide(),$("<div>").text(b).appendTo(this.liveRegion))}});var l,m=($.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",o=function(){var a=$(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},p=function(a){var b=a.name,c=a.form,d=$([]);return b&&(b=b.replace(/'/g,"\\'"),d=c?$(c).find("[name='"+b+"'][type=radio]"):$("[name='"+b+"'][type=radio]",a.ownerDocument).filter(function(){return!this.form})),d};$.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,o),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,b=this.options,c="checkbox"===this.type||"radio"===this.type,d=c?"":"ui-state-active";null===b.label&&(b.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(m).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){b.disabled||this===l&&$(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){b.disabled||$(this).removeClass(d)}).bind("click"+this.eventNamespace,function(a){b.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),c&&this.element.bind("change"+this.eventNamespace,function(){a.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return b.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(b.disabled)return!1;$(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var c=a.element[0];p(c).not(c).map(function(){return $(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return b.disabled?!1:($(this).addClass("ui-state-active"),l=this,void a.document.one("mouseup",function(){l=null}))}).bind("mouseup"+this.eventNamespace,function(){return b.disabled?!1:void $(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(a){return b.disabled?!1:void((a.keyCode===$.ui.keyCode.SPACE||a.keyCode===$.ui.keyCode.ENTER)&&$(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){$(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===$.ui.keyCode.SPACE&&$(this).click()})),this._setOption("disabled",b.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(m+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),void(b&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"))):void this._resetButton()},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?p(this.element[0]).each(function(){$(this).is(":checked")?$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var a=this.buttonElement.removeClass(n),b=$("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),c=this.options.icons,d=c.primary&&c.secondary,e=[];c.primary||c.secondary?(this.options.text&&e.push("ui-button-text-icon"+(d?"s":c.primary?"-primary":"-secondary")),c.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+c.primary+"'></span>"),c.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+c.secondary+"'></span>"),this.options.text||(e.push(d?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||a.attr("title",$.trim(b)))):e.push("ui-button-text-only"),a.addClass(e.join(" "))}}),$.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var a="rtl"===this.element.css("direction"),b=this.element.find(this.options.items),c=b.filter(":ui-button");b.not(":ui-button").button(),c.button("refresh"),this.buttons=b.map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});$.ui.button;$.extend($.ui,{datepicker:{version:"1.11.2"}});var q;$.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return g(this._defaults,a||{}),this},_attachDatepicker:function(a,b){var c,d,e;c=a.nodeName.toLowerCase(),d="div"===c||"span"===c,a.id||(this.uuid+=1,a.id="dp"+this.uuid),e=this._newInst($(a),d),e.settings=$.extend({},b||{}),"input"===c?this._connectDatepicker(a,e):d&&this._inlineDatepicker(a,e)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?e($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]),c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(b),$.data(a,"datepicker",b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c,d,e,f=this._get(b,"appendText"),g=this._get(b,"isRTL");b.append&&b.append.remove(),f&&(b.append=$("<span class='"+this._appendClass+"'>"+f+"</span>"),a[g?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove(),c=this._get(b,"showOn"),("focus"===c||"both"===c)&&a.focus(this._showDatepicker),("button"===c||"both"===c)&&(d=this._get(b,"buttonText"),e=this._get(b,"buttonImage"),b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:e,alt:d,title:d}):$("<button type='button'></button>").addClass(this._triggerClass).html(e?$("<img/>").attr({src:e,alt:d,title:d}):d)),a[g?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput===a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!==a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv),$.data(a,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,d,e){var f,h,i,j,k,l=this._dialogInst;return l||(this.uuid+=1,f="dp"+this.uuid,this._dialogInput=$("<input type='text' id='"+f+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),l=this._dialogInst=this._newInst(this._dialogInput,!1),l.settings={},$.data(this._dialogInput[0],"datepicker",l)),g(l.settings,d||{}),b=b&&b.constructor===Date?this._formatDate(l,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+j,i/2-150+k]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),l.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],"datepicker",l),this},_destroyDatepicker:function(a){var b,c=$(a),d=$.data(a,"datepicker");c.hasClass(this.markerClassName)&&(b=a.nodeName.toLowerCase(),$.removeData(a,"datepicker"),"input"===b?(d.append.remove(),d.trigger.remove(),c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===b||"span"===b)&&c.removeClass(this.markerClassName).empty())},_enableDatepicker:function(a){var b,c,d=$(a),e=$.data(a,"datepicker");d.hasClass(this.markerClassName)&&(b=a.nodeName.toLowerCase(),"input"===b?(a.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===b||"span"===b)&&(c=d.children("."+this._inlineClass),c.children().removeClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=$.map(this._disabledInputs,function(b){return b===a?null:b}))},_disableDatepicker:function(a){var b,c,d=$(a),e=$.data(a,"datepicker");d.hasClass(this.markerClassName)&&(b=a.nodeName.toLowerCase(),"input"===b?(a.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===b||"span"===b)&&(c=d.children("."+this._inlineClass),c.children().addClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=$.map(this._disabledInputs,function(b){return b===a?null:b}),this._disabledInputs[this._disabledInputs.length]=a)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return $.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d,e,f,h,i=this._getInst(a);return 2===arguments.length&&"string"==typeof b?"defaults"===b?$.extend({},$.datepicker._defaults):i?"all"===b?$.extend({},i.settings):this._get(i,b):null:(d=b||{},"string"==typeof b&&(d={},d[b]=c),void(i&&(this._curInst===i&&this._hideDatepicker(),e=this._getDateDatepicker(a,!0),f=this._getMinMaxDate(i,"min"),h=this._getMinMaxDate(i,"max"),g(i.settings,d),null!==f&&void 0!==d.dateFormat&&void 0===d.minDate&&(i.settings.minDate=this._formatDate(i,f)),null!==h&&void 0!==d.dateFormat&&void 0===d.maxDate&&(i.settings.maxDate=this._formatDate(i,h)),"disabled"in d&&(d.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments($(a),i),this._autoSize(i),this._setDate(i,e),this._updateAlternate(i),this._updateDatepicker(i))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b,c,d,e=$.datepicker._getInst(a.target),f=!0,g=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),f=!1;break;case 13:return d=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv),d[0]&&$.datepicker._selectDay(a.target,e.selectedMonth,e.selectedYear,d[0]),b=$.datepicker._get(e,"onSelect"),b?(c=$.datepicker._formatDate(e),b.apply(e.input?e.input[0]:null,[c,e])):$.datepicker._hideDatepicker(),!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),f=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),f=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,g?1:-1,"D"),f=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),f=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,g?-1:1,"D"),f=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");
break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),f=a.ctrlKey||a.metaKey;break;default:f=!1}else 36===a.keyCode&&a.ctrlKey?$.datepicker._showDatepicker(this):f=!1;f&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b,c,d=$.datepicker._getInst(a.target);return $.datepicker._get(d,"constrainInput")?(b=$.datepicker._possibleChars($.datepicker._get(d,"dateFormat")),c=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">c||!b||b.indexOf(c)>-1):void 0},_doKeyUp:function(a){var b,c=$.datepicker._getInst(a.target);if(c.input.val()!==c.lastVal)try{b=$.datepicker.parseDate($.datepicker._get(c,"dateFormat"),c.input?c.input.val():null,$.datepicker._getFormatConfig(c)),b&&($.datepicker._setDateFromField(c),$.datepicker._updateAlternate(c),$.datepicker._updateDatepicker(c))}catch(d){}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!==a.nodeName.toLowerCase()&&(a=$("input",a.parentNode)[0]),!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!==a){var b,d,e,f,h,i,j;b=$.datepicker._getInst(a),$.datepicker._curInst&&$.datepicker._curInst!==b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0])),d=$.datepicker._get(b,"beforeShow"),e=d?d.apply(a,[a,b]):{},e!==!1&&(g(b.settings,e),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight),f=!1,$(a).parents().each(function(){return f|="fixed"===$(this).css("position"),!f}),h={left:$.datepicker._pos[0],top:$.datepicker._pos[1]},$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),h=$.datepicker._checkOffset(b,h,f),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":f?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),b.inline||(i=$.datepicker._get(b,"showAnim"),j=$.datepicker._get(b,"duration"),b.dpDiv.css("z-index",c($(a))+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects.effect[i]?b.dpDiv.show(i,$.datepicker._get(b,"showOptions"),j):b.dpDiv[i||"show"](i?j:null),$.datepicker._shouldFocusInput(b)&&b.input.focus(),$.datepicker._curInst=b))}},_updateDatepicker:function(a){this.maxRows=4,q=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a);var b,c=this._getNumberOfMonths(a),d=c[1],e=17,g=a.dpDiv.find("."+this._dayOverClass+" a");g.length>0&&f.apply(g.get(0)),a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),d>1&&a.dpDiv.addClass("ui-datepicker-multi-"+d).css("width",e*d+"em"),a.dpDiv[(1!==c[0]||1!==c[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(a)&&a.input.focus(),a.yearshtml&&(b=a.yearshtml,setTimeout(function(){b===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),b=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+(c?0:$(document).scrollLeft()),i=document.documentElement.clientHeight+(c?0:$(document).scrollTop());return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left===a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top===a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){for(var b,c=this._getInst(a),d=this._get(c,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||$.expr.filters.hidden(a));)a=a[d?"previousSibling":"nextSibling"];return b=$(a).offset(),[b.left,b.top]},_hideDatepicker:function(a){var b,c,d,e,f=this._curInst;!f||a&&f!==$.data(a,"datepicker")||this._datepickerShowing&&(b=this._get(f,"showAnim"),c=this._get(f,"duration"),d=function(){$.datepicker._tidyDialog(f)},$.effects&&($.effects.effect[b]||$.effects[b])?f.dpDiv.hide(b,$.datepicker._get(f,"showOptions"),c,d):f.dpDiv["slideDown"===b?"slideUp":"fadeIn"===b?"fadeOut":"hide"](b?c:null,d),b||d(),this._datepickerShowing=!1,e=this._get(f,"onClose"),e&&e.apply(f.input?f.input[0]:null,[f.input?f.input.val():"",f]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if($.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!==$.datepicker._mainDivId&&0===b.parents("#"+$.datepicker._mainDivId).length&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+("M"===c?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b,c=$(a),d=this._getInst(c[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(b=new Date,d.selectedDay=b.getDate(),d.drawMonth=d.selectedMonth=b.getMonth(),d.drawYear=d.selectedYear=b.getFullYear()),this._notifyChange(d),this._adjustDate(c)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+("M"===c?"Month":"Year")]=e["draw"+("M"===c?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e,f=$(a);$(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0])||(e=this._getInst(f[0]),e.selectedDay=e.currentDay=$("a",d).html(),e.selectedMonth=e.currentMonth=b,e.selectedYear=e.currentYear=c,this._selectDate(a,this._formatDate(e,e.currentDay,e.currentMonth,e.currentYear)))},_clearDate:function(a){var b=$(a);this._selectDate(b,"")},_selectDate:function(a,b){var c,d=$(a),e=this._getInst(d[0]);b=null!=b?b:this._formatDate(e),e.input&&e.input.val(b),this._updateAlternate(e),c=this._get(e,"onSelect"),c?c.apply(e.input?e.input[0]:null,[b,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b,c,d,e=this._get(a,"altField");e&&(b=this._get(a,"altFormat")||this._get(a,"dateFormat"),c=this._getDate(a),d=this.formatDate(b,c,this._getFormatConfig(a)),$(e).each(function(){$(this).val(d)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(a,b,c){if(null==a||null==b)throw"Invalid arguments";if(b="object"==typeof b?b.toString():b+"",""===b)return null;var d,e,f,g,h=0,i=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff,j="string"!=typeof i?i:(new Date).getFullYear()%100+parseInt(i,10),k=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,l=(c?c.dayNames:null)||this._defaults.dayNames,m=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,n=(c?c.monthNames:null)||this._defaults.monthNames,o=-1,p=-1,q=-1,r=-1,s=!1,t=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},u=function(a){var c=t(a),d="@"===a?14:"!"===a?20:"y"===a&&c?4:"o"===a?3:2,e="y"===a?d:1,f=new RegExp("^\\d{"+e+","+d+"}"),g=b.substring(h).match(f);if(!g)throw"Missing number at position "+h;return h+=g[0].length,parseInt(g[0],10)},v=function(a,c,d){var e=-1,f=$.map(t(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if($.each(f,function(a,c){var d=c[1];return b.substr(h,d.length).toLowerCase()===d.toLowerCase()?(e=c[0],h+=d.length,!1):void 0}),-1!==e)return e+1;throw"Unknown name at position "+h},w=function(){if(b.charAt(h)!==a.charAt(d))throw"Unexpected literal at position "+h;h++};for(d=0;d<a.length;d++)if(s)"'"!==a.charAt(d)||t("'")?w():s=!1;else switch(a.charAt(d)){case"d":q=u("d");break;case"D":v("D",k,l);break;case"o":r=u("o");break;case"m":p=u("m");break;case"M":p=v("M",m,n);break;case"y":o=u("y");break;case"@":g=new Date(u("@")),o=g.getFullYear(),p=g.getMonth()+1,q=g.getDate();break;case"!":g=new Date((u("!")-this._ticksTo1970)/1e4),o=g.getFullYear(),p=g.getMonth()+1,q=g.getDate();break;case"'":t("'")?w():s=!0;break;default:w()}if(h<b.length&&(f=b.substr(h),!/^\s+/.test(f)))throw"Extra/unparsed characters found in date: "+f;if(-1===o?o=(new Date).getFullYear():100>o&&(o+=(new Date).getFullYear()-(new Date).getFullYear()%100+(j>=o?0:-100)),r>-1)for(p=1,q=r;;){if(e=this._getDaysInMonth(o,p-1),e>=q)break;p++,q-=e}if(g=this._daylightSavingAdjust(new Date(o,p-1,q)),g.getFullYear()!==o||g.getMonth()+1!==p||g.getDate()!==q)throw"Invalid date";return g},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;d.length<c;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;d<a.length;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}for(var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);i;){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=7*parseInt(i[1],10);break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=null==b||""===b?c:"string"==typeof b?e(b):"number"==typeof b?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&"Invalid Date"===f.toString()?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var a={prev:function(){$.datepicker._adjustDate(c,-b,"M")},next:function(){$.datepicker._adjustDate(c,+b,"M")},hide:function(){$.datepicker._hideDatepicker()},today:function(){$.datepicker._gotoToday(c)},selectDay:function(){return $.datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return $.datepicker._selectMonthYear(c,this,"M"),!1},selectYear:function(){return $.datepicker._selectMonthYear(c,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),a[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),ab=this._getMinMaxDate(a,"max"),bb=a.drawMonth-V,cb=a.drawYear;if(0>bb&&(bb+=12,cb--),ab)for(b=this._daylightSavingAdjust(new Date(ab.getFullYear(),ab.getMonth()-U[0]*U[1]+1,ab.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(cb,bb,1))>b;)bb--,0>bb&&(bb=11,cb--);for(a.drawMonth=bb,a.drawYear=cb,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(cb,bb-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,cb,bb)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(cb,bb+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,cb,bb)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;w<U[0];w++){for(x="",this.maxRows=4,y=0;y<U[1];y++){if(z=this._daylightSavingAdjust(new Date(cb,bb,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,bb,cb,Z,ab,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th scope='col'"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(cb,bb),cb===a.selectedYear&&bb===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(cb,bb)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(cb,bb,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==bb,N=M&&!s||!L[0]||Z&&Z>I||ab&&I>ab,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&bb===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}bb++,bb>11&&(bb=0,cb++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||k<=e.getMonth())&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick),$.datepicker.initialized=!0),0===$("#"+$.datepicker._mainDivId).length&&$("body").append($.datepicker.dpDiv);var b=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!==a&&"getDate"!==a&&"widget"!==a?"option"===a&&2===arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){"string"==typeof a?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new d,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.11.2";$.datepicker;$.widget("ui.draggable",$.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,b){this._super(a,b),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(a){var b=this.options;return this._blurActiveElement(a),this.helper||b.disabled||$(a.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(a),this.handle?(this._blockFrames(b.iframeFix===!0?"iframe":b.iframeFix),!0):!1)},_blockFrames:function(a){this.iframeBlocks=this.document.find(a).map(function(){var a=$(this);return $("<div>").css("position","absolute").appendTo(a.parent()).outerWidth(a.outerWidth()).outerHeight(a.outerHeight()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(a){var b=this.document[0];if(this.handleElement.is(a.target))try{b.activeElement&&"body"!==b.activeElement.nodeName.toLowerCase()&&$(b.activeElement).blur()}catch(c){}},_mouseStart:function(a){var b=this.options;return this.helper=this._createHelper(a),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===$(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(a),this.originalPosition=this.position=this._generatePosition(a,!1),this.originalPageX=a.pageX,this.originalPageY=a.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this._setContainment(),this._trigger("start",a)===!1?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!b.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a),this._normalizeRightBottom(),this._mouseDrag(a,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,a),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(a,b){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(a,!0),this.positionAbs=this._convertPositionTo("absolute"),!b){var c=this._uiHash();if(this._trigger("drag",a,c)===!1)return this._mouseUp({}),!1;this.position=c.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",$.ui.ddmanager&&$.ui.ddmanager.drag(this,a),!1},_mouseStop:function(a){var b=this,c=!1;return $.ui.ddmanager&&!this.options.dropBehaviour&&(c=$.ui.ddmanager.drop(this,a)),this.dropped&&(c=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!c||"valid"===this.options.revert&&c||this.options.revert===!0||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)?$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){b._trigger("stop",a)!==!1&&b._clear()}):this._trigger("stop",a)!==!1&&this._clear(),!1},_mouseUp:function(a){return this._unblockFrames(),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,a),this.handleElement.is(a.target)&&this.element.focus(),$.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){return this.options.handle?!!$(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(a){var b=this.options,c=$.isFunction(b.helper),d=c?$(b.helper.apply(this.element[0],[a])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),c&&d[0]===this.element[0]&&this._setPositionRelative(),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),$.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var a=this.offsetParent.offset(),b=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==b&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,b,c,d=this.options,e=this.document[0];return this.relativeContainer=null,d.containment?"window"===d.containment?void(this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===d.containment?void(this.containment=[0,0,$(e).width()-this.helperProportions.width-this.margins.left,($(e).height()||e.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):d.containment.constructor===Array?void(this.containment=d.containment):("parent"===d.containment&&(d.containment=this.helper[0].parentNode),b=$(d.containment),c=b[0],void(c&&(a=/(scroll|auto)/.test(b.css("overflow")),this.containment=[(parseInt(b.css("borderLeftWidth"),10)||0)+(parseInt(b.css("paddingLeft"),10)||0),(parseInt(b.css("borderTopWidth"),10)||0)+(parseInt(b.css("paddingTop"),10)||0),(a?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b.css("borderRightWidth"),10)||0)-(parseInt(b.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(b.css("borderBottomWidth"),10)||0)-(parseInt(b.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=b))):void(this.containment=null)
},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"===a?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*c}},_generatePosition:function(a,b){var c,d,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),i=a.pageX,j=a.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),b&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,a.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),a.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),a.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),a.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f),"y"===g.axis&&(i=this.originalPageX),"x"===g.axis&&(j=this.originalPageY)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(a,b,c){return c=c||this._uiHash(),$.ui.plugin.call(this,a,[b,c,this],!0),/^(drag|start|stop)/.test(a)&&(this.positionAbs=this._convertPositionTo("absolute"),c.offset=this.positionAbs),$.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(a,b,c){var d=$.extend({},b,{item:c.element});c.sortables=[],$(c.options.connectToSortable).each(function(){var b=$(this).sortable("instance");b&&!b.options.disabled&&(c.sortables.push(b),b.refreshPositions(),b._trigger("activate",a,d))})},stop:function(a,b,c){var d=$.extend({},b,{item:c.element});c.cancelHelperRemoval=!1,$.each(c.sortables,function(){var b=this;b.isOver?(b.isOver=0,c.cancelHelperRemoval=!0,b.cancelHelperRemoval=!1,b._storedCSS={position:b.placeholder.css("position"),top:b.placeholder.css("top"),left:b.placeholder.css("left")},b._mouseStop(a),b.options.helper=b.options._helper):(b.cancelHelperRemoval=!0,b._trigger("deactivate",a,d))})},drag:function(a,b,c){$.each(c.sortables,function(){var d=!1,e=this;e.positionAbs=c.positionAbs,e.helperProportions=c.helperProportions,e.offset.click=c.offset.click,e._intersectsWith(e.containerCache)&&(d=!0,$.each(c.sortables,function(){return this.positionAbs=c.positionAbs,this.helperProportions=c.helperProportions,this.offset.click=c.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&$.contains(e.element[0],this.element[0])&&(d=!1),d})),d?(e.isOver||(e.isOver=1,e.currentItem=b.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return b.helper[0]},a.target=e.currentItem[0],e._mouseCapture(a,!0),e._mouseStart(a,!0,!0),e.offset.click.top=c.offset.click.top,e.offset.click.left=c.offset.click.left,e.offset.parent.left-=c.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=c.offset.parent.top-e.offset.parent.top,c._trigger("toSortable",a),c.dropped=e.element,$.each(c.sortables,function(){this.refreshPositions()}),c.currentItem=c.element,e.fromOutside=c),e.currentItem&&(e._mouseDrag(a),b.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",a,e._uiHash(e)),e._mouseStop(a,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),c._refreshOffsets(a),b.position=c._generatePosition(a,!0),c._trigger("fromSortable",a),c.dropped=!1,$.each(c.sortables,function(){this.refreshPositions()}))})}}),$.ui.plugin.add("draggable","cursor",{start:function(a,b,c){var d=$("body"),e=c.options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(a,b,c){var d=c.options;d._cursor&&$("body").css("cursor",d._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(a,b,c){var d=$(b.helper),e=c.options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(a,b,c){var d=c.options;d._opacity&&$(b.helper).css("opacity",d._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1)),c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(a,b,c){var d=c.options,e=!1,f=c.scrollParentNotHidden[0],g=c.document[0];f!==g&&"HTML"!==f.tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+f.offsetHeight-a.pageY<d.scrollSensitivity?f.scrollTop=e=f.scrollTop+d.scrollSpeed:a.pageY-c.overflowOffset.top<d.scrollSensitivity&&(f.scrollTop=e=f.scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+f.offsetWidth-a.pageX<d.scrollSensitivity?f.scrollLeft=e=f.scrollLeft+d.scrollSpeed:a.pageX-c.overflowOffset.left<d.scrollSensitivity&&(f.scrollLeft=e=f.scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(a.pageY-$(g).scrollTop()<d.scrollSensitivity?e=$(g).scrollTop($(g).scrollTop()-d.scrollSpeed):$(window).height()-(a.pageY-$(g).scrollTop())<d.scrollSensitivity&&(e=$(g).scrollTop($(g).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(a.pageX-$(g).scrollLeft()<d.scrollSensitivity?e=$(g).scrollLeft($(g).scrollLeft()-d.scrollSpeed):$(window).width()-(a.pageX-$(g).scrollLeft())<d.scrollSensitivity&&(e=$(g).scrollLeft($(g).scrollLeft()+d.scrollSpeed)))),e!==!1&&$.ui.ddmanager&&!d.dropBehaviour&&$.ui.ddmanager.prepareOffsets(c,a)}}),$.ui.plugin.add("draggable","snap",{start:function(a,b,c){var d=c.options;c.snapElements=[],$(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var a=$(this),b=a.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:a.outerWidth(),height:a.outerHeight(),top:b.top,left:b.left})})},drag:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=c.options,o=n.snapTolerance,p=b.offset.left,q=p+c.helperProportions.width,r=b.offset.top,s=r+c.helperProportions.height;for(l=c.snapElements.length-1;l>=0;l--)h=c.snapElements[l].left-c.margins.left,i=h+c.snapElements[l].width,j=c.snapElements[l].top-c.margins.top,k=j+c.snapElements[l].height,h-o>q||p>i+o||j-o>s||r>k+o||!$.contains(c.snapElements[l].item.ownerDocument,c.snapElements[l].item)?(c.snapElements[l].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,$.extend(c._uiHash(),{snapItem:c.snapElements[l].item})),c.snapElements[l].snapping=!1):("inner"!==n.snapMode&&(d=Math.abs(j-s)<=o,e=Math.abs(k-r)<=o,f=Math.abs(h-q)<=o,g=Math.abs(i-p)<=o,d&&(b.position.top=c._convertPositionTo("relative",{top:j-c.helperProportions.height,left:0}).top),e&&(b.position.top=c._convertPositionTo("relative",{top:k,left:0}).top),f&&(b.position.left=c._convertPositionTo("relative",{top:0,left:h-c.helperProportions.width}).left),g&&(b.position.left=c._convertPositionTo("relative",{top:0,left:i}).left)),m=d||e||f||g,"outer"!==n.snapMode&&(d=Math.abs(j-r)<=o,e=Math.abs(k-s)<=o,f=Math.abs(h-p)<=o,g=Math.abs(i-q)<=o,d&&(b.position.top=c._convertPositionTo("relative",{top:j,left:0}).top),e&&(b.position.top=c._convertPositionTo("relative",{top:k-c.helperProportions.height,left:0}).top),f&&(b.position.left=c._convertPositionTo("relative",{top:0,left:h}).left),g&&(b.position.left=c._convertPositionTo("relative",{top:0,left:i-c.helperProportions.width}).left)),!c.snapElements[l].snapping&&(d||e||f||g||m)&&c.options.snap.snap&&c.options.snap.snap.call(c.element,a,$.extend(c._uiHash(),{snapItem:c.snapElements[l].item})),c.snapElements[l].snapping=d||e||f||g||m)}}),$.ui.plugin.add("draggable","stack",{start:function(a,b,c){var d,e=c.options,f=$.makeArray($(e.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});f.length&&(d=parseInt($(f[0]).css("zIndex"),10)||0,$(f).each(function(a){$(this).css("zIndex",d+a)}),this.css("zIndex",d+f.length))}}),$.ui.plugin.add("draggable","zIndex",{start:function(a,b,c){var d=$(b.helper),e=c.options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(a,b,c){var d=c.options;d._zIndex&&$(b.helper).css("zIndex",d._zIndex)}});$.ui.draggable;$.widget("ui.resizable",$.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,10))},_hasScroll:function(a,b){if("hidden"===$(a).css("overflow"))return!1;var c=b&&"left"===b?"scrollLeft":"scrollTop",d=!1;return a[c]>0?!0:(a[c]=1,d=a[c]>0,a[c]=0,d)},_create:function(){var a,b,c,d,e,f=this,g=this.options;if(this.element.addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!g.aspectRatio,aspectRatio:g.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:g.helper||g.ghost||g.animate?g.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=g.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),a=this.handles.split(","),this.handles={},b=0;b<a.length;b++)c=$.trim(a[b]),e="ui-resizable-"+c,d=$("<div class='ui-resizable-handle "+e+"'></div>"),d.css({zIndex:g.zIndex}),"se"===c&&d.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[c]=".ui-resizable-"+c,this.element.append(d);this._renderAxis=function(a){var b,c,d,e;a=a||this.element;for(b in this.handles)this.handles[b].constructor===String&&(this.handles[b]=this.element.children(this.handles[b]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(c=$(this.handles[b],this.element),e=/sw|ne|nw|se|n|s/.test(b)?c.outerHeight():c.outerWidth(),d=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),a.css(d,e),this._proportionallyResize()),$(this.handles[b]).length},this._renderAxis(this.element),this._handles=$(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){f.resizing||(this.className&&(d=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),f.axis=d&&d[1]?d[1]:"se")}),g.autoHide&&(this._handles.hide(),$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){g.disabled||($(this).removeClass("ui-resizable-autohide"),f._handles.show())}).mouseleave(function(){g.disabled||f.resizing||($(this).addClass("ui-resizable-autohide"),f._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var a,b=function(a){$(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(b(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove()),this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(a){var b,c,d=!1;for(b in this.handles)c=$(this.handles[b])[0],(c===a.target||$.contains(c,a.target))&&(d=!0);return!this.options.disabled&&d},_mouseStart:function(a){var b,c,d,e=this.options,f=this.element;return this.resizing=!0,this._renderProxy(),b=this._num(this.helper.css("left")),c=this._num(this.helper.css("top")),e.containment&&(b+=$(e.containment).scrollLeft()||0,c+=$(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:b,top:c},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalPosition={left:b,top:c},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=$(".ui-resizable-"+this.axis).css("cursor"),$("body").css("cursor","auto"===d?this.axis+"-resize":d),f.addClass("ui-resizable-resizing"),this._propagate("start",a),!0},_mouseDrag:function(a){var b,c,d=this.originalMousePosition,e=this.axis,f=a.pageX-d.left||0,g=a.pageY-d.top||0,h=this._change[e];return this._updatePrevProperties(),h?(b=h.apply(this,[a,f,g]),this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(b=this._updateRatio(b,a)),b=this._respectSize(b,a),this._updateCache(b),this._propagate("resize",a),c=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),$.isEmptyObject(c)||(this._updatePrevProperties(),this._trigger("resize",a,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(a){this.resizing=!1;var b,c,d,e,f,g,h,i=this.options,j=this;return this._helper&&(b=this._proportionallyResizeElements,c=b.length&&/textarea/i.test(b[0].nodeName),d=c&&this._hasScroll(b[0],"left")?0:j.sizeDiff.height,e=c?0:j.sizeDiff.width,f={width:j.helper.width()-e,height:j.helper.height()-d},g=parseInt(j.element.css("left"),10)+(j.position.left-j.originalPosition.left)||null,h=parseInt(j.element.css("top"),10)+(j.position.top-j.originalPosition.top)||null,i.animate||this.element.css($.extend(f,{top:h,left:g})),j.helper.height(j.size.height),j.helper.width(j.size.width),this._helper&&!i.animate&&this._proportionallyResize()),$("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var b,c,d,e,f,g=this.options;f={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:1/0,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:1/0},(this._aspectRatio||a)&&(b=f.minHeight*this.aspectRatio,d=f.minWidth/this.aspectRatio,c=f.maxHeight*this.aspectRatio,e=f.maxWidth/this.aspectRatio,b>f.minWidth&&(f.minWidth=b),d>f.minHeight&&(f.minHeight=d),c<f.maxWidth&&(f.maxWidth=c),e<f.maxHeight&&(f.maxHeight=e)),this._vBoundaries=f},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,c=this.size,d=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===d&&(a.left=b.left+(c.width-a.width),a.top=null),"nw"===d&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,d=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,e=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,f=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,g=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,h=this.originalPosition.left+this.originalSize.width,i=this.position.top+this.size.height,j=/sw|nw|w/.test(c),k=/nw|ne|n/.test(c);return f&&(a.width=b.minWidth),g&&(a.height=b.minHeight),d&&(a.width=b.maxWidth),e&&(a.height=b.maxHeight),f&&j&&(a.left=h-b.minWidth),d&&j&&(a.left=h-b.maxWidth),g&&k&&(a.top=i-b.minHeight),e&&k&&(a.top=i-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){for(var b=0,c=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],e=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>b;b++)c[b]=parseInt(d[b],10)||0,c[b]+=parseInt(e[b],10)||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,b=0,c=this.helper||this.element;b<this._proportionallyResizeElements.length;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var a=this.element,b=this.options;this.elementOffset=a.offset(),this._helper?(this.helper=this.helper||$("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(a,b,c){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},sw:function(a,b,c){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,b,c]))},ne:function(a,b,c){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,b,c]))},nw:function(a,b,c){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,c]))}},_propagate:function(a,b){$.ui.plugin.call(this,a,[b,this.ui()]),"resize"!==a&&this._trigger(a,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.ui.plugin.add("resizable","animate",{stop:function(a){var b=$(this).resizable("instance"),c=b.options,d=b._proportionallyResizeElements,e=d.length&&/textarea/i.test(d[0].nodeName),f=e&&b._hasScroll(d[0],"left")?0:b.sizeDiff.height,g=e?0:b.sizeDiff.width,h={width:b.size.width-g,height:b.size.height-f},i=parseInt(b.element.css("left"),10)+(b.position.left-b.originalPosition.left)||null,j=parseInt(b.element.css("top"),10)+(b.position.top-b.originalPosition.top)||null;b.element.animate($.extend(h,j&&i?{top:j,left:i}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var c={width:parseInt(b.element.css("width"),10),height:parseInt(b.element.css("height"),10),top:parseInt(b.element.css("top"),10),left:parseInt(b.element.css("left"),10)};d&&d.length&&$(d[0]).css({width:c.width,height:c.height}),b._updateCache(c),b._propagate("resize",a)}})}}),$.ui.plugin.add("resizable","containment",{start:function(){var a,b,c,d,e,f,g,h=$(this).resizable("instance"),i=h.options,j=h.element,k=i.containment,l=k instanceof $?k.get(0):/parent/.test(k)?j.parent().get(0):k;l&&(h.containerElement=$(l),/document/.test(k)||k===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}):(a=$(l),b=[],$(["Top","Right","Left","Bottom"]).each(function(c,d){b[c]=h._num(a.css("padding"+d))}),h.containerOffset=a.offset(),h.containerPosition=a.position(),h.containerSize={height:a.innerHeight()-b[3],width:a.innerWidth()-b[1]},c=h.containerOffset,d=h.containerSize.height,e=h.containerSize.width,f=h._hasScroll(l,"left")?l.scrollWidth:e,g=h._hasScroll(l)?l.scrollHeight:d,h.parentData={element:l,left:c.left,top:c.top,width:f,height:g}))},resize:function(a){var b,c,d,e,f=$(this).resizable("instance"),g=f.options,h=f.containerOffset,i=f.position,j=f._aspectRatio||a.shiftKey,k={top:0,left:0},l=f.containerElement,m=!0;l[0]!==document&&/static/.test(l.css("position"))&&(k=h),i.left<(f._helper?h.left:0)&&(f.size.width=f.size.width+(f._helper?f.position.left-h.left:f.position.left-k.left),j&&(f.size.height=f.size.width/f.aspectRatio,m=!1),f.position.left=g.helper?h.left:0),i.top<(f._helper?h.top:0)&&(f.size.height=f.size.height+(f._helper?f.position.top-h.top:f.position.top),j&&(f.size.width=f.size.height*f.aspectRatio,m=!1),f.position.top=f._helper?h.top:0),d=f.containerElement.get(0)===f.element.parent().get(0),e=/relative|absolute/.test(f.containerElement.css("position")),d&&e?(f.offset.left=f.parentData.left+f.position.left,f.offset.top=f.parentData.top+f.position.top):(f.offset.left=f.element.offset().left,f.offset.top=f.element.offset().top),b=Math.abs(f.sizeDiff.width+(f._helper?f.offset.left-k.left:f.offset.left-h.left)),c=Math.abs(f.sizeDiff.height+(f._helper?f.offset.top-k.top:f.offset.top-h.top)),b+f.size.width>=f.parentData.width&&(f.size.width=f.parentData.width-b,j&&(f.size.height=f.size.width/f.aspectRatio,m=!1)),c+f.size.height>=f.parentData.height&&(f.size.height=f.parentData.height-c,j&&(f.size.width=f.size.height*f.aspectRatio,m=!1)),m||(f.position.left=f.prevPosition.left,f.position.top=f.prevPosition.top,f.size.width=f.prevSize.width,f.size.height=f.prevSize.height)},stop:function(){var a=$(this).resizable("instance"),b=a.options,c=a.containerOffset,d=a.containerPosition,e=a.containerElement,f=$(a.helper),g=f.offset(),h=f.outerWidth()-a.sizeDiff.width,i=f.outerHeight()-a.sizeDiff.height;a._helper&&!b.animate&&/relative/.test(e.css("position"))&&$(this).css({left:g.left-d.left-c.left,width:h,height:i}),a._helper&&!b.animate&&/static/.test(e.css("position"))&&$(this).css({left:g.left-d.left-c.left,width:h,height:i})}}),$.ui.plugin.add("resizable","alsoResize",{start:function(){var a=$(this).resizable("instance"),b=a.options,c=function(a){$(a).each(function(){var a=$(this);a.data("ui-resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?c(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):$.each(b.alsoResize,function(a){c(a)})},resize:function(a,b){var c=$(this).resizable("instance"),d=c.options,e=c.originalSize,f=c.originalPosition,g={height:c.size.height-e.height||0,width:c.size.width-e.width||0,top:c.position.top-f.top||0,left:c.position.left-f.left||0},h=function(a,c){$(a).each(function(){var a=$(this),d=$(this).data("ui-resizable-alsoresize"),e={},f=c&&c.length?c:a.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(f,function(a,b){var c=(d[b]||0)+(g[b]||0);c&&c>=0&&(e[b]=c||null)}),a.css(e)})};"object"!=typeof d.alsoResize||d.alsoResize.nodeType?h(d.alsoResize):$.each(d.alsoResize,function(a,b){h(a,b)})},stop:function(){$(this).removeData("resizable-alsoresize")}}),$.ui.plugin.add("resizable","ghost",{start:function(){var a=$(this).resizable("instance"),b=a.options,c=a.size;a.ghost=a.originalElement.clone(),a.ghost.css({opacity:.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof b.ghost?b.ghost:""),a.ghost.appendTo(a.helper)},resize:function(){var a=$(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=$(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(){var a,b=$(this).resizable("instance"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis,h="number"==typeof c.grid?[c.grid,c.grid]:c.grid,i=h[0]||1,j=h[1]||1,k=Math.round((d.width-e.width)/i)*i,l=Math.round((d.height-e.height)/j)*j,m=e.width+k,n=e.height+l,o=c.maxWidth&&c.maxWidth<m,p=c.maxHeight&&c.maxHeight<n,q=c.minWidth&&c.minWidth>m,r=c.minHeight&&c.minHeight>n;c.grid=h,q&&(m+=i),r&&(n+=j),o&&(m-=i),p&&(n-=j),/^(se|s|e)$/.test(g)?(b.size.width=m,b.size.height=n):/^(ne)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.top=f.top-l):/^(sw)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.left=f.left-k):((0>=n-j||0>=m-i)&&(a=b._getPaddingPlusBorderDimensions(this)),n-j>0?(b.size.height=n,b.position.top=f.top-l):(n=j-a.height,b.size.height=n,b.position.top=f.top+e.height-n),m-i>0?(b.size.width=m,b.position.left=f.left-k):(m=j-a.height,b.size.width=m,b.position.left=f.left+e.width-m))}});$.ui.resizable,$.widget("ui.dialog",{version:"1.11.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var b=$(this).css(a).offset().top;0>b&&$(this).css("top",a.top-b)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&$.fn.draggable&&this._makeDraggable(),this.options.resizable&&$.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?$(a):this.document.find(a||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:$.noop,enable:$.noop,close:function(a){var b,c=this;if(this._isOpen&&this._trigger("beforeClose",a)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{b=this.document[0].activeElement,b&&"body"!==b.nodeName.toLowerCase()&&$(b).blur()}catch(d){}this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",a)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var c=!1,d=this.uiDialog.siblings(".ui-front:visible").map(function(){return+$(this).css("z-index")}).get(),e=Math.max.apply(null,d);return e>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",e+1),c=!0),c&&!b&&this._trigger("focus",a),c},open:function(){var a=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=$(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable(),a._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(a){function b(){var a=this.document[0].activeElement,b=this.uiDialog[0]===a||$.contains(this.uiDialog[0],a);b||this._focusTabbable()}a.preventDefault(),b.call(this),this._delay(b)},_createWrapper:function(){this.uiDialog=$("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(a){if(this.options.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===$.ui.keyCode.ESCAPE)return a.preventDefault(),void this.close(a);
if(a.keyCode===$.ui.keyCode.TAB&&!a.isDefaultPrevented()){var b=this.uiDialog.find(":tabbable"),c=b.filter(":first"),d=b.filter(":last");a.target!==d[0]&&a.target!==this.uiDialog[0]||a.shiftKey?a.target!==c[0]&&a.target!==this.uiDialog[0]||!a.shiftKey||(this._delay(function(){d.focus()}),a.preventDefault()):(this._delay(function(){c.focus()}),a.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=$("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(a){$(a.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=$("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),a=$("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(a),this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=$("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var a=this,b=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),$.isEmptyObject(b)||$.isArray(b)&&!b.length?void this.uiDialog.removeClass("ui-dialog-buttons"):($.each(b,function(b,c){var d,e;c=$.isFunction(c)?{click:c,text:b}:c,c=$.extend({type:"button"},c),d=c.click,c.click=function(){d.apply(a.element[0],arguments)},e={icons:c.icons,text:c.showText},delete c.icons,delete c.showText,$("<button></button>",c).button(e).appendTo(a.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function a(a){return{position:a.position,offset:a.offset}}var b=this,c=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,d){$(this).addClass("ui-dialog-dragging"),b._blockFrames(),b._trigger("dragStart",c,a(d))},drag:function(c,d){b._trigger("drag",c,a(d))},stop:function(d,e){var f=e.offset.left-b.document.scrollLeft(),g=e.offset.top-b.document.scrollTop();c.position={my:"left top",at:"left"+(f>=0?"+":"")+f+" top"+(g>=0?"+":"")+g,of:b.window},$(this).removeClass("ui-dialog-dragging"),b._unblockFrames(),b._trigger("dragStop",d,a(e))}})},_makeResizable:function(){function a(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var b=this,c=this.options,d=c.resizable,e=this.uiDialog.css("position"),f="string"==typeof d?d:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:c.maxWidth,maxHeight:c.maxHeight,minWidth:c.minWidth,minHeight:this._minHeight(),handles:f,start:function(c,d){$(this).addClass("ui-dialog-resizing"),b._blockFrames(),b._trigger("resizeStart",c,a(d))},resize:function(c,d){b._trigger("resize",c,a(d))},stop:function(d,e){var f=b.uiDialog.offset(),g=f.left-b.document.scrollLeft(),h=f.top-b.document.scrollTop();c.height=b.uiDialog.height(),c.width=b.uiDialog.width(),c.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" top"+(h>=0?"+":"")+h,of:b.window},$(this).removeClass("ui-dialog-resizing"),b._unblockFrames(),b._trigger("resizeStop",d,a(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget(),this._focusedElement=$(a.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var a=this._trackingInstances(),b=$.inArray(this,a);-1!==b&&a.splice(b,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(a){var b=this,c=!1,d={};$.each(a,function(a,e){b._setOption(a,e),a in b.sizeRelatedOptions&&(c=!0),a in b.resizableRelatedOptions&&(d[a]=e)}),c&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",d)},_setOption:function(a,b){var c,d,e=this.uiDialog;"dialogClass"===a&&e.removeClass(this.options.dialogClass).addClass(b),"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(c=e.is(":data(ui-draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(d=e.is(":data(ui-resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=$(this);return $("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return $(a.target).closest(".ui-dialog").length?!0:!!$(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(b){a||this._allowInteraction(b)||(b.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=$("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});$.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var a,b=this.options,c=b.accept;this.isover=!1,this.isout=!0,this.accept=$.isFunction(c)?c:function(a){return a.is(c)},this.proportions=function(){return arguments.length?void(a=arguments[0]):a?a:a={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(b.scope),b.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){$.ui.ddmanager.droppables[a]=$.ui.ddmanager.droppables[a]||[],$.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var b=0;b<a.length;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){var a=$.ui.ddmanager.droppables[this.options.scope];this._splice(a),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(a,b){if("accept"===a)this.accept=$.isFunction(b)?b:function(a){return a.is(b)};else if("scope"===a){var c=$.ui.ddmanager.droppables[this.options.scope];this._splice(c),this._addToManager(b)}this._super(a,b)},_activate:function(a){var b=$.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=$.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=$.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(b)))},_out:function(a){var b=$.ui.ddmanager.current;b&&(b.currentItem||b.element)[0]!==this.element[0]&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(b)))},_drop:function(a,b){var c=b||$.ui.ddmanager.current,d=!1;return c&&(c.currentItem||c.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=$(this).droppable("instance");return b.options.greedy&&!b.options.disabled&&b.options.scope===c.options.scope&&b.accept.call(b.element[0],c.currentItem||c.element)&&$.ui.intersect(c,$.extend(b,{offset:b.element.offset()}),b.options.tolerance,a)?(d=!0,!1):void 0}),d?!1:this.accept.call(this.element[0],c.currentItem||c.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(c)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),$.ui.intersect=function(){function a(a,b,c){return a>=b&&b+c>a}return function(b,c,d,e){if(!c.offset)return!1;var f=(b.positionAbs||b.position.absolute).left+b.margins.left,g=(b.positionAbs||b.position.absolute).top+b.margins.top,h=f+b.helperProportions.width,i=g+b.helperProportions.height,j=c.offset.left,k=c.offset.top,l=j+c.proportions().width,m=k+c.proportions().height;switch(d){case"fit":return f>=j&&l>=h&&g>=k&&m>=i;case"intersect":return j<f+b.helperProportions.width/2&&h-b.helperProportions.width/2<l&&k<g+b.helperProportions.height/2&&i-b.helperProportions.height/2<m;case"pointer":return a(e.pageY,k,c.proportions().height)&&a(e.pageX,j,c.proportions().width);case"touch":return(g>=k&&m>=g||i>=k&&m>=i||k>g&&i>m)&&(f>=j&&l>=f||h>=j&&l>=h||j>f&&h>l);default:return!1}}}(),$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c,d,e=$.ui.ddmanager.droppables[a.options.scope]||[],f=b?b.type:null,g=(a.currentItem||a.element).find(":data(ui-droppable)").addBack();a:for(c=0;c<e.length;c++)if(!(e[c].options.disabled||a&&!e[c].accept.call(e[c].element[0],a.currentItem||a.element))){for(d=0;d<g.length;d++)if(g[d]===e[c].element[0]){e[c].proportions().height=0;continue a}e[c].visible="none"!==e[c].element.css("display"),e[c].visible&&("mousedown"===f&&e[c]._activate.call(e[c],b),e[c].offset=e[c].element.offset(),e[c].proportions({width:e[c].element[0].offsetWidth,height:e[c].element[0].offsetHeight}))}},drop:function(a,b){var c=!1;return $.each(($.ui.ddmanager.droppables[a.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(a,this,this.options.tolerance,b)&&(c=this._drop.call(this,b)||c),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,b)))}),c},dragStart:function(a,b){a.element.parentsUntil("body").bind("scroll.droppable",function(){a.options.refreshPositions||$.ui.ddmanager.prepareOffsets(a,b)})},drag:function(a,b){a.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(a,b),$.each($.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var c,d,e,f=$.ui.intersect(a,this,this.options.tolerance,b),g=!f&&this.isover?"isout":f&&!this.isover?"isover":null;g&&(this.options.greedy&&(d=this.options.scope,e=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===d}),e.length&&(c=$(e[0]).droppable("instance"),c.greedyChild="isover"===g)),c&&"isover"===g&&(c.isover=!1,c.isout=!0,c._out.call(c,b)),this[g]=!0,this["isout"===g?"isover":"isout"]=!1,this["isover"===g?"_over":"_out"].call(this,b),c&&"isout"===g&&(c.isout=!1,c.isover=!0,c._over.call(c,b)))}})},dragStop:function(a,b){a.element.parentsUntil("body").unbind("scroll.droppable"),a.options.refreshPositions||$.ui.ddmanager.prepareOffsets(a,b)}};var r=($.ui.droppable,"ui-effects-"),jQuery=$;$.effects={effect:{}},function(jQuery,a){function b(a,b,c){var d=k[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function c(a){var b=i(),c=b._rgba=[];return a=a.toLowerCase(),n(h,function(d,e){var f,g=e.re.exec(a),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=b[i](h),b[j[i].cache]=f[j[i].cache],c=b._rgba=f._rgba,!1):void 0}),c.length?("0,0,0,0"===c.join()&&jQuery.extend(c,e.transparent),b):e[a]}function d(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var e,f="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",g=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],i=jQuery.Color=function(a,b,c,d){return new jQuery.Color.fn.parse(a,b,c,d)},j={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},k={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=i.support={},m=jQuery("<p>")[0],n=jQuery.each;m.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=m.style.backgroundColor.indexOf("rgba")>-1,n(j,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),i.fn=jQuery.extend(i.prototype,{parse:function(d,f,g,h){if(d===a)return this._rgba=[null,null,null,null],this;(d.jquery||d.nodeType)&&(d=jQuery(d).css(f),f=a);var k=this,l=jQuery.type(d),m=this._rgba=[];return f!==a&&(d=[d,f,g,h],l="array"),"string"===l?this.parse(c(d)||e._default):"array"===l?(n(j.rgba.props,function(a,c){m[c.idx]=b(d[c.idx],c)}),this):"object"===l?(d instanceof i?n(j,function(a,b){d[b.cache]&&(k[b.cache]=d[b.cache].slice())}):n(j,function(a,c){var e=c.cache;n(c.props,function(a,f){if(!k[e]&&c.to){if("alpha"===a||null==d[a])return;k[e]=c.to(k._rgba)}k[e][f.idx]=b(d[a],f,!0)}),k[e]&&jQuery.inArray(null,k[e].slice(0,3))<0&&(k[e][3]=1,c.from&&(k._rgba=c.from(k[e])))}),this):void 0},is:function(a){var b=i(a),c=!0,d=this;return n(j,function(_,a){var e,f=b[a.cache];return f&&(e=d[a.cache]||a.to&&a.to(d._rgba)||[],n(a.props,function(_,a){return null!=f[a.idx]?c=f[a.idx]===e[a.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return n(j,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,c){var d=i(a),e=d._space(),f=j[e],g=0===this.alpha()?i("transparent"):this,h=g[f.cache]||f.to(g._rgba),l=h.slice();return d=d[f.cache],n(f.props,function(a,e){var f=e.idx,g=h[f],i=d[f],j=k[e.type]||{};null!==i&&(null===g?l[f]=i:(j.mod&&(i-g>j.mod/2?g+=j.mod:g-i>j.mod/2&&(g-=j.mod)),l[f]=b((i-g)*c+g,e)))}),this[e](l)},blend:function(a){if(1===this._rgba[3])return this;var b=this._rgba.slice(),c=b.pop(),d=i(a)._rgba;return i(jQuery.map(b,function(a,b){return(1-c)*d[b]+c*a}))},toRgbaString:function(){var a="rgba(",b=jQuery.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===b[3]&&(b.pop(),a="rgb("),a+b.join()+")"},toHslaString:function(){var a="hsla(",b=jQuery.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===b[3]&&(b.pop(),a="hsl("),a+b.join()+")"},toHexString:function(a){var b=this._rgba.slice(),c=b.pop();return a&&b.push(~~(255*c)),"#"+jQuery.map(b,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),i.fn.parse.prototype=i.fn,j.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},j.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],e=a[2],f=a[3],g=.5>=e?e*(1+c):e+c-e*c,h=2*e-g;return[Math.round(255*d(h,g,b+1/3)),Math.round(255*d(h,g,b)),Math.round(255*d(h,g,b-1/3)),f]},n(j,function(c,d){var e=d.props,f=d.cache,h=d.to,j=d.from;i.fn[c]=function(c){if(h&&!this[f]&&(this[f]=h(this._rgba)),c===a)return this[f].slice();var d,g=jQuery.type(c),k="array"===g||"object"===g?c:arguments,l=this[f].slice();return n(e,function(a,c){var d=k["object"===g?a:c.idx];null==d&&(d=l[c.idx]),l[c.idx]=b(d,c)}),j?(d=i(j(l)),d[f]=l,d):i(l)},n(e,function(a,b){i.fn[a]||(i.fn[a]=function(d){var e,f=jQuery.type(d),h="alpha"===a?this._hsla?"hsla":"rgba":c,i=this[h](),j=i[b.idx];return"undefined"===f?j:("function"===f&&(d=d.call(this,j),f=jQuery.type(d)),null==d&&b.empty?this:("string"===f&&(e=g.exec(d),e&&(d=j+parseFloat(e[2])*("+"===e[1]?1:-1))),i[b.idx]=d,this[h](i)))})})}),i.hook=function(a){var b=a.split(" ");n(b,function(a,b){jQuery.cssHooks[b]={set:function(a,d){var e,f,g="";if("transparent"!==d&&("string"!==jQuery.type(d)||(e=c(d)))){if(d=i(e||d),!l.rgba&&1!==d._rgba[3]){for(f="backgroundColor"===b?a.parentNode:a;(""===g||"transparent"===g)&&f&&f.style;)try{g=jQuery.css(f,"backgroundColor"),f=f.parentNode}catch(h){}d=d.blend(g&&"transparent"!==g?g:"_default")}d=d.toRgbaString()}try{a.style[b]=d}catch(h){}}},jQuery.fx.step[b]=function(a){a.colorInit||(a.start=i(a.elem,b),a.end=i(a.end),a.colorInit=!0),jQuery.cssHooks[b].set(a.elem,a.start.transition(a.end,a.pos))}})},i.hook(f),jQuery.cssHooks.borderColor={expand:function(a){var b={};return n(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},e=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function a(a){var b,c,d=a.ownerDocument.defaultView?a.ownerDocument.defaultView.getComputedStyle(a,null):a.currentStyle,e={};if(d&&d.length&&d[0]&&d[d[0]])for(c=d.length;c--;)b=d[c],"string"==typeof d[b]&&(e[$.camelCase(b)]=d[b]);else for(b in d)"string"==typeof d[b]&&(e[b]=d[b]);return e}function b(a,b){var c,e,f={};for(c in b)e=b[c],a[c]!==e&&(d[c]||($.fx.step[c]||!isNaN(parseFloat(e)))&&(f[c]=e));return f}var c=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,a){$.fx.step[a]=function(b){("none"!==b.end&&!b.setAttr||1===b.pos&&!b.setAttr)&&(jQuery.style(b.elem,a,b.end),b.setAttr=!0)}}),$.fn.addBack||($.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),$.effects.animateClass=function(d,e,f,g){var h=$.speed(e,f,g);return this.queue(function(){var e,f=$(this),g=f.attr("class")||"",i=h.children?f.find("*").addBack():f;i=i.map(function(){var b=$(this);return{el:b,start:a(this)}}),e=function(){$.each(c,function(a,b){d[b]&&f[b+"Class"](d[b])})},e(),i=i.map(function(){return this.end=a(this.el[0]),this.diff=b(this.start,this.end),this}),f.attr("class",g),i=i.map(function(){var a=this,b=$.Deferred(),c=$.extend({},h,{queue:!1,complete:function(){b.resolve(a)}});return this.el.animate(this.diff,c),b.promise()}),$.when.apply($,i.get()).done(function(){e(),$.each(arguments,function(){var a=this.el;$.each(this.diff,function(b){a.css(b,"")})}),h.complete.call(f[0])})})},$.fn.extend({addClass:function(a){return function(b,c,d,e){return c?$.effects.animateClass.call(this,{add:b},c,d,e):a.apply(this,arguments)}}($.fn.addClass),removeClass:function(a){return function(b,c,d,e){return arguments.length>1?$.effects.animateClass.call(this,{remove:b},c,d,e):a.apply(this,arguments)}}($.fn.removeClass),toggleClass:function(a){return function(b,c,d,e,f){return"boolean"==typeof c||void 0===c?d?$.effects.animateClass.call(this,c?{add:b}:{remove:b},d,e,f):a.apply(this,arguments):$.effects.animateClass.call(this,{toggle:b},c,d,e)}}($.fn.toggleClass),switchClass:function(a,b,c,d,e){return $.effects.animateClass.call(this,{add:b,remove:a},c,d,e)}})}(),function(){function a(a,b,c,d){return $.isPlainObject(a)&&(b=a,a=a.effect),a={effect:a},null==b&&(b={}),$.isFunction(b)&&(d=b,c=null,b={}),("number"==typeof b||$.fx.speeds[b])&&(d=c,c=b,b={}),$.isFunction(c)&&(d=c,c=null),b&&$.extend(a,b),c=c||b.duration,a.duration=$.fx.off?0:"number"==typeof c?c:c in $.fx.speeds?$.fx.speeds[c]:$.fx.speeds._default,a.complete=d||b.complete,a}function b(a){return!a||"number"==typeof a||$.fx.speeds[a]?!0:"string"!=typeof a||$.effects.effect[a]?$.isFunction(a)?!0:"object"!=typeof a||a.effect?!1:!0:!0}$.extend($.effects,{version:"1.11.2",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data(r+b[c],a[0].style[b[c]])},restore:function(a,b){var c,d;for(d=0;d<b.length;d++)null!==b[d]&&(c=a.data(r+b[d]),void 0===c&&(c=""),a.css(b[d],c))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper"))return a.parent();var b={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},c=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),d={width:a.width(),height:a.height()},e=document.activeElement;try{e.id}catch(f){e=document.body}return a.wrap(c),(a[0]===e||$.contains(a[0],e))&&$(e).focus(),c=a.parent(),"static"===a.css("position")?(c.css({position:"relative"}),a.css({position:"relative"})):($.extend(b,{position:a.css("position"),zIndex:a.css("z-index")}),$.each(["top","left","bottom","right"],function(c,d){b[d]=a.css(d),isNaN(parseInt(b[d],10))&&(b[d]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),a.css(d),c.css(b).show()},removeWrapper:function(a){var b=document.activeElement;return a.parent().is(".ui-effects-wrapper")&&(a.parent().replaceWith(a),(a[0]===b||$.contains(a[0],b))&&$(b).focus()),a},setTransition:function(a,b,c,d){return d=d||{},$.each(b,function(b,e){var f=a.cssUnit(e);f[0]>0&&(d[e]=f[0]*c+f[1])}),d}}),$.fn.extend({effect:function(){function b(a){function b(){$.isFunction(e)&&e.call(d[0]),$.isFunction(a)&&a()}var d=$(this),e=c.complete,g=c.mode;(d.is(":hidden")?"hide"===g:"show"===g)?(d[g](),b()):f.call(d[0],c,b)}var c=a.apply(this,arguments),d=c.mode,e=c.queue,f=$.effects.effect[c.effect];return $.fx.off||!f?d?this[d](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)}):e===!1?this.each(b):this.queue(e||"fx",b)},show:function(c){return function(d){if(b(d))return c.apply(this,arguments);var e=a.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}($.fn.show),hide:function(c){return function(d){if(b(d))return c.apply(this,arguments);var e=a.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}($.fn.hide),toggle:function(c){return function(d){if(b(d)||"boolean"==typeof d)return c.apply(this,arguments);var e=a.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}($.fn.toggle),cssUnit:function(a){var b=this.css(a),c=[];return $.each(["em","px","%","pt"],function(a,d){b.indexOf(d)>0&&(c=[parseFloat(b),d])}),c}})}(),function(){var a={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,c){a[c]=function(a){return Math.pow(a,b+2)}}),$.extend(a,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),$.each(a,function(a,b){$.easing["easeIn"+a]=b,$.easing["easeOut"+a]=function(a){return 1-b(1-a)},$.easing["easeInOut"+a]=function(a){return.5>a?b(2*a)/2:1-b(-2*a+2)/2}})}();$.effects,$.effects.effect.blind=function(a,b){var c,d,e,f=$(this),g=/up|down|vertical/,h=/up|left|vertical|horizontal/,i=["position","top","bottom","left","right","height","width"],j=$.effects.setMode(f,a.mode||"hide"),k=a.direction||"up",l=g.test(k),m=l?"height":"width",n=l?"top":"left",o=h.test(k),p={},q="show"===j;f.parent().is(".ui-effects-wrapper")?$.effects.save(f.parent(),i):$.effects.save(f,i),f.show(),c=$.effects.createWrapper(f).css({overflow:"hidden"}),d=c[m](),e=parseFloat(c.css(n))||0,p[m]=q?d:0,o||(f.css(l?"bottom":"right",0).css(l?"top":"left","auto").css({position:"absolute"}),p[n]=q?e:d+e),q&&(c.css(m,0),o||c.css(n,e+d)),c.animate(p,{duration:a.duration,easing:a.easing,queue:!1,complete:function(){"hide"===j&&f.hide(),$.effects.restore(f,i),$.effects.removeWrapper(f),b()}})},$.effects.effect.bounce=function(a,b){var c,d,e,f=$(this),g=["position","top","bottom","left","right","height","width"],h=$.effects.setMode(f,a.mode||"effect"),i="hide"===h,j="show"===h,k=a.direction||"up",l=a.distance,m=a.times||5,n=2*m+(j||i?1:0),o=a.duration/n,p=a.easing,q="up"===k||"down"===k?"top":"left",r="up"===k||"left"===k,s=f.queue(),t=s.length;for((j||i)&&g.push("opacity"),$.effects.save(f,g),f.show(),$.effects.createWrapper(f),l||(l=f["top"===q?"outerHeight":"outerWidth"]()/3),j&&(e={opacity:1},e[q]=0,f.css("opacity",0).css(q,r?2*-l:2*l).animate(e,o,p)),i&&(l/=Math.pow(2,m-1)),e={},e[q]=0,c=0;m>c;c++)d={},d[q]=(r?"-=":"+=")+l,f.animate(d,o,p).animate(e,o,p),l=i?2*l:l/2;i&&(d={opacity:0},d[q]=(r?"-=":"+=")+l,f.animate(d,o,p)),f.queue(function(){i&&f.hide(),$.effects.restore(f,g),$.effects.removeWrapper(f),b()}),t>1&&s.splice.apply(s,[1,0].concat(s.splice(t,n+1))),f.dequeue()},$.effects.effect.clip=function(a,b){var c,d,e,f=$(this),g=["position","top","bottom","left","right","height","width"],h=$.effects.setMode(f,a.mode||"hide"),i="show"===h,j=a.direction||"vertical",k="vertical"===j,l=k?"height":"width",m=k?"top":"left",n={};$.effects.save(f,g),f.show(),c=$.effects.createWrapper(f).css({overflow:"hidden"}),d="IMG"===f[0].tagName?c:f,e=d[l](),i&&(d.css(l,0),d.css(m,e/2)),n[l]=i?e:0,n[m]=i?0:e/2,d.animate(n,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){i||f.hide(),$.effects.restore(f,g),$.effects.removeWrapper(f),b()}})},$.effects.effect.drop=function(a,b){var c,d=$(this),e=["position","top","bottom","left","right","opacity","height","width"],f=$.effects.setMode(d,a.mode||"hide"),g="show"===f,h=a.direction||"left",i="up"===h||"down"===h?"top":"left",j="up"===h||"left"===h?"pos":"neg",k={opacity:g?1:0};$.effects.save(d,e),d.show(),$.effects.createWrapper(d),c=a.distance||d["top"===i?"outerHeight":"outerWidth"](!0)/2,g&&d.css("opacity",0).css(i,"pos"===j?-c:c),k[i]=(g?"pos"===j?"+=":"-=":"pos"===j?"-=":"+=")+c,d.animate(k,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===f&&d.hide(),$.effects.restore(d,e),$.effects.removeWrapper(d),b()}})},$.effects.effect.explode=function(a,b){function c(){s.push(this),s.length===k*l&&d()}function d(){m.css({visibility:"visible"}),$(s).remove(),o||m.hide(),b()}var e,f,g,h,i,j,k=a.pieces?Math.round(Math.sqrt(a.pieces)):3,l=k,m=$(this),n=$.effects.setMode(m,a.mode||"hide"),o="show"===n,p=m.show().css("visibility","hidden").offset(),q=Math.ceil(m.outerWidth()/l),r=Math.ceil(m.outerHeight()/k),s=[];for(e=0;k>e;e++)for(h=p.top+e*r,j=e-(k-1)/2,f=0;l>f;f++)g=p.left+f*q,i=f-(l-1)/2,m.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*q,top:-e*r}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:q,height:r,left:g+(o?i*q:0),top:h+(o?j*r:0),opacity:o?0:1}).animate({left:g+(o?0:i*q),top:h+(o?0:j*r),opacity:o?1:0},a.duration||500,a.easing,c)},$.effects.effect.fade=function(a,b){var c=$(this),d=$.effects.setMode(c,a.mode||"toggle");c.animate({opacity:d},{queue:!1,duration:a.duration,easing:a.easing,complete:b})},$.effects.effect.fold=function(a,b){var c,d,e=$(this),f=["position","top","bottom","left","right","height","width"],g=$.effects.setMode(e,a.mode||"hide"),h="show"===g,i="hide"===g,j=a.size||15,k=/([0-9]+)%/.exec(j),l=!!a.horizFirst,m=h!==l,n=m?["width","height"]:["height","width"],o=a.duration/2,p={},q={};$.effects.save(e,f),e.show(),c=$.effects.createWrapper(e).css({overflow:"hidden"}),d=m?[c.width(),c.height()]:[c.height(),c.width()],k&&(j=parseInt(k[1],10)/100*d[i?0:1]),h&&c.css(l?{height:0,width:j}:{height:j,width:0}),p[n[0]]=h?d[0]:j,q[n[1]]=h?d[1]:0,c.animate(p,o,a.easing).animate(q,o,a.easing,function(){i&&e.hide(),$.effects.restore(e,f),$.effects.removeWrapper(e),b()})},$.effects.effect.highlight=function(a,b){var c=$(this),d=["backgroundImage","backgroundColor","opacity"],e=$.effects.setMode(c,a.mode||"show"),f={backgroundColor:c.css("backgroundColor")};"hide"===e&&(f.opacity=0),$.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:a.color||"#ffff99"}).animate(f,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===e&&c.hide(),$.effects.restore(c,d),b()}})},$.effects.effect.size=function(a,b){var c,d,e,f=$(this),g=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],i=["width","height","overflow"],j=["fontSize"],k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],m=$.effects.setMode(f,a.mode||"effect"),n=a.restore||"effect"!==m,o=a.scale||"both",p=a.origin||["middle","center"],q=f.css("position"),r=n?g:h,s={height:0,width:0,outerHeight:0,outerWidth:0};"show"===m&&f.show(),c={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()},"toggle"===a.mode&&"show"===m?(f.from=a.to||s,f.to=a.from||c):(f.from=a.from||("show"===m?s:c),f.to=a.to||("hide"===m?s:c)),e={from:{y:f.from.height/c.height,x:f.from.width/c.width},to:{y:f.to.height/c.height,x:f.to.width/c.width}},("box"===o||"both"===o)&&(e.from.y!==e.to.y&&(r=r.concat(k),f.from=$.effects.setTransition(f,k,e.from.y,f.from),f.to=$.effects.setTransition(f,k,e.to.y,f.to)),e.from.x!==e.to.x&&(r=r.concat(l),f.from=$.effects.setTransition(f,l,e.from.x,f.from),f.to=$.effects.setTransition(f,l,e.to.x,f.to))),("content"===o||"both"===o)&&e.from.y!==e.to.y&&(r=r.concat(j).concat(i),f.from=$.effects.setTransition(f,j,e.from.y,f.from),f.to=$.effects.setTransition(f,j,e.to.y,f.to)),$.effects.save(f,r),f.show(),$.effects.createWrapper(f),f.css("overflow","hidden").css(f.from),p&&(d=$.effects.getBaseline(p,c),f.from.top=(c.outerHeight-f.outerHeight())*d.y,f.from.left=(c.outerWidth-f.outerWidth())*d.x,f.to.top=(c.outerHeight-f.to.outerHeight)*d.y,f.to.left=(c.outerWidth-f.to.outerWidth)*d.x),f.css(f.from),("content"===o||"both"===o)&&(k=k.concat(["marginTop","marginBottom"]).concat(j),l=l.concat(["marginLeft","marginRight"]),i=g.concat(k).concat(l),f.find("*[width]").each(function(){var b=$(this),c={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};
n&&$.effects.save(b,i),b.from={height:c.height*e.from.y,width:c.width*e.from.x,outerHeight:c.outerHeight*e.from.y,outerWidth:c.outerWidth*e.from.x},b.to={height:c.height*e.to.y,width:c.width*e.to.x,outerHeight:c.height*e.to.y,outerWidth:c.width*e.to.x},e.from.y!==e.to.y&&(b.from=$.effects.setTransition(b,k,e.from.y,b.from),b.to=$.effects.setTransition(b,k,e.to.y,b.to)),e.from.x!==e.to.x&&(b.from=$.effects.setTransition(b,l,e.from.x,b.from),b.to=$.effects.setTransition(b,l,e.to.x,b.to)),b.css(b.from),b.animate(b.to,a.duration,a.easing,function(){n&&$.effects.restore(b,i)})})),f.animate(f.to,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){0===f.to.opacity&&f.css("opacity",f.from.opacity),"hide"===m&&f.hide(),$.effects.restore(f,r),n||("static"===q?f.css({position:"relative",top:f.to.top,left:f.to.left}):$.each(["top","left"],function(a,b){f.css(b,function(_,b){var c=parseInt(b,10),d=a?f.to.left:f.to.top;return"auto"===b?d+"px":c+d+"px"})})),$.effects.removeWrapper(f),b()}})},$.effects.effect.scale=function(a,b){var c=$(this),d=$.extend(!0,{},a),e=$.effects.setMode(c,a.mode||"effect"),f=parseInt(a.percent,10)||(0===parseInt(a.percent,10)?0:"hide"===e?0:100),g=a.direction||"both",h=a.origin,i={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()},j={y:"horizontal"!==g?f/100:1,x:"vertical"!==g?f/100:1};d.effect="size",d.queue=!1,d.complete=b,"effect"!==e&&(d.origin=h||["middle","center"],d.restore=!0),d.from=a.from||("show"===e?{height:0,width:0,outerHeight:0,outerWidth:0}:i),d.to={height:i.height*j.y,width:i.width*j.x,outerHeight:i.outerHeight*j.y,outerWidth:i.outerWidth*j.x},d.fade&&("show"===e&&(d.from.opacity=0,d.to.opacity=1),"hide"===e&&(d.from.opacity=1,d.to.opacity=0)),c.effect(d)},$.effects.effect.puff=function(a,b){var c=$(this),d=$.effects.setMode(c,a.mode||"hide"),e="hide"===d,f=parseInt(a.percent,10)||150,g=f/100,h={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};$.extend(a,{effect:"scale",queue:!1,fade:!0,mode:d,complete:b,percent:e?f:100,from:e?h:{height:h.height*g,width:h.width*g,outerHeight:h.outerHeight*g,outerWidth:h.outerWidth*g}}),c.effect(a)},$.effects.effect.pulsate=function(a,b){var c,d=$(this),e=$.effects.setMode(d,a.mode||"show"),f="show"===e,g="hide"===e,h=f||"hide"===e,i=2*(a.times||5)+(h?1:0),j=a.duration/i,k=0,l=d.queue(),m=l.length;for((f||!d.is(":visible"))&&(d.css("opacity",0).show(),k=1),c=1;i>c;c++)d.animate({opacity:k},j,a.easing),k=1-k;d.animate({opacity:k},j,a.easing),d.queue(function(){g&&d.hide(),b()}),m>1&&l.splice.apply(l,[1,0].concat(l.splice(m,i+1))),d.dequeue()},$.effects.effect.shake=function(a,b){var c,d=$(this),e=["position","top","bottom","left","right","height","width"],f=$.effects.setMode(d,a.mode||"effect"),g=a.direction||"left",h=a.distance||20,i=a.times||3,j=2*i+1,k=Math.round(a.duration/j),l="up"===g||"down"===g?"top":"left",m="up"===g||"left"===g,n={},o={},p={},q=d.queue(),r=q.length;for($.effects.save(d,e),d.show(),$.effects.createWrapper(d),n[l]=(m?"-=":"+=")+h,o[l]=(m?"+=":"-=")+2*h,p[l]=(m?"-=":"+=")+2*h,d.animate(n,k,a.easing),c=1;i>c;c++)d.animate(o,k,a.easing).animate(p,k,a.easing);d.animate(o,k,a.easing).animate(n,k/2,a.easing).queue(function(){"hide"===f&&d.hide(),$.effects.restore(d,e),$.effects.removeWrapper(d),b()}),r>1&&q.splice.apply(q,[1,0].concat(q.splice(r,j+1))),d.dequeue()},$.effects.effect.slide=function(a,b){var c,d=$(this),e=["position","top","bottom","left","right","width","height"],f=$.effects.setMode(d,a.mode||"show"),g="show"===f,h=a.direction||"left",i="up"===h||"down"===h?"top":"left",j="up"===h||"left"===h,k={};$.effects.save(d,e),d.show(),c=a.distance||d["top"===i?"outerHeight":"outerWidth"](!0),$.effects.createWrapper(d).css({overflow:"hidden"}),g&&d.css(i,j?isNaN(c)?"-"+c:-c:c),k[i]=(g?j?"+=":"-=":j?"-=":"+=")+c,d.animate(k,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){"hide"===f&&d.hide(),$.effects.restore(d,e),$.effects.removeWrapper(d),b()}})},$.effects.effect.transfer=function(a,b){var c=$(this),d=$(a.to),e="fixed"===d.css("position"),f=$("body"),g=e?f.scrollTop():0,h=e?f.scrollLeft():0,i=d.offset(),j={top:i.top-g,left:i.left-h,height:d.innerHeight(),width:d.innerWidth()},k=c.offset(),l=$("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(a.className).css({top:k.top-g,left:k.left-h,height:c.innerHeight(),width:c.innerWidth(),position:e?"fixed":"absolute"}).animate(j,a.duration,a.easing,function(){l.remove(),b()})},$.widget("ui.progressbar",{version:"1.11.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=this.options.value,b=this._percentage();this.valueDiv.toggle(this.indeterminate||a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=$("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),a===this.options.max&&this._trigger("complete")}}),$.widget("ui.selectable",$.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var a,b=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){a=$(b.options.filter,b.element[0]),a.addClass("ui-selectee"),a.each(function(){var a=$(this),b=a.offset();$.data(this,"selectable-item",{element:this,$element:a,left:b.left,top:b.top,right:b.left+a.outerWidth(),bottom:b.top+a.outerHeight(),startselected:!1,selected:a.hasClass("ui-selected"),selecting:a.hasClass("ui-selecting"),unselecting:a.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=a.addClass("ui-selectee"),this._mouseInit(),this.helper=$("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(a){var b=this,c=this.options;this.opos=[a.pageX,a.pageY],this.options.disabled||(this.selectees=$(c.filter,this.element[0]),this._trigger("start",a),$(c.appendTo).append(this.helper),this.helper.css({left:a.pageX,top:a.pageY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var c=$.data(this,"selectable-item");c.startselected=!0,a.metaKey||a.ctrlKey||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,b._trigger("unselecting",a,{unselecting:c.element}))}),$(a.target).parents().addBack().each(function(){var c,d=$.data(this,"selectable-item");return d?(c=!a.metaKey&&!a.ctrlKey||!d.$element.hasClass("ui-selected"),d.$element.removeClass(c?"ui-unselecting":"ui-selected").addClass(c?"ui-selecting":"ui-unselecting"),d.unselecting=!c,d.selecting=c,d.selected=c,c?b._trigger("selecting",a,{selecting:d.element}):b._trigger("unselecting",a,{unselecting:d.element}),!1):void 0}))},_mouseDrag:function(a){if(this.dragged=!0,!this.options.disabled){var b,c=this,d=this.options,e=this.opos[0],f=this.opos[1],g=a.pageX,h=a.pageY;return e>g&&(b=g,g=e,e=b),f>h&&(b=h,h=f,f=b),this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var b=$.data(this,"selectable-item"),i=!1;b&&b.element!==c.element[0]&&("touch"===d.tolerance?i=!(b.left>g||b.right<e||b.top>h||b.bottom<f):"fit"===d.tolerance&&(i=b.left>e&&b.right<g&&b.top>f&&b.bottom<h),i?(b.selected&&(b.$element.removeClass("ui-selected"),b.selected=!1),b.unselecting&&(b.$element.removeClass("ui-unselecting"),b.unselecting=!1),b.selecting||(b.$element.addClass("ui-selecting"),b.selecting=!0,c._trigger("selecting",a,{selecting:b.element}))):(b.selecting&&((a.metaKey||a.ctrlKey)&&b.startselected?(b.$element.removeClass("ui-selecting"),b.selecting=!1,b.$element.addClass("ui-selected"),b.selected=!0):(b.$element.removeClass("ui-selecting"),b.selecting=!1,b.startselected&&(b.$element.addClass("ui-unselecting"),b.unselecting=!0),c._trigger("unselecting",a,{unselecting:b.element}))),b.selected&&(a.metaKey||a.ctrlKey||b.startselected||(b.$element.removeClass("ui-selected"),b.selected=!1,b.$element.addClass("ui-unselecting"),b.unselecting=!0,c._trigger("unselecting",a,{unselecting:b.element})))))}),!1}},_mouseStop:function(a){var b=this;return this.dragged=!1,$(".ui-unselecting",this.element[0]).each(function(){var c=$.data(this,"selectable-item");c.$element.removeClass("ui-unselecting"),c.unselecting=!1,c.startselected=!1,b._trigger("unselected",a,{unselected:c.element})}),$(".ui-selecting",this.element[0]).each(function(){var c=$.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected"),c.selecting=!1,c.selected=!0,c.startselected=!0,b._trigger("selected",a,{selected:c.element})}),this._trigger("stop",a),this.helper.remove(),!1}}),$.widget("ui.selectmenu",{version:"1.11.2",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var a=this,b=this.element.attr("tabindex");this.label=$("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(a){this.button.focus(),a.preventDefault()}}),this.element.hide(),this.button=$("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:b||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),$("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=$("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){a.menuItems||a._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var a=this;this.menu=$("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=$("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(b,c){b.preventDefault(),a._setSelection(),a._select(c.item.data("ui-selectmenu-item"),b)},focus:function(b,c){var d=c.item.data("ui-selectmenu-item");null!=a.focusIndex&&d.index!==a.focusIndex&&(a._trigger("focus",b,{item:d}),a.isOpen||a._select(d,b)),a.focusIndex=d.index,a.button.attr("aria-activedescendant",a.menuItems.eq(d.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var a,b=this.element.find("option");b.length&&(this._parseOptions(b),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position($.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(a,b){var c=this,d="";$.each(b,function(b,e){e.optgroup!==d&&($("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:e.optgroup}).appendTo(a),d=e.optgroup),c._renderItemData(a,e)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(a,b){var c=$("<li>");return b.disabled&&c.addClass("ui-state-disabled"),this._setText(c,b.label),c.appendTo(a)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(a,b){var c,d,e=".ui-menu-item";this.isOpen?c=this.menuItems.eq(this.focusIndex):(c=this.menuItems.eq(this.element[0].selectedIndex),e+=":not(.ui-state-disabled)"),d="first"===a||"last"===a?c["first"===a?"prevAll":"nextAll"](e).eq(-1):c[a+"All"](e).eq(0),d.length&&this.menuInstance.focus(b,d)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(a){this.isOpen&&($(a.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(a))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection(),this._toggle(a)},keydown:function(a){var b=!0;switch(a.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(a),b=!1;break;case $.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(a);break;case $.ui.keyCode.UP:a.altKey?this._toggle(a):this._move("prev",a);break;case $.ui.keyCode.DOWN:a.altKey?this._toggle(a):this._move("next",a);break;case $.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(a):this._toggle(a);break;case $.ui.keyCode.LEFT:this._move("prev",a);break;case $.ui.keyCode.RIGHT:this._move("next",a);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move("first",a);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move("last",a);break;default:this.menu.trigger(a),b=!1}b&&a.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex);b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,b){var c=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index,this._setText(this.buttonText,a.label),this._setAria(a),this._trigger("select",b,{item:a}),a.index!==c&&this._trigger("change",b,{item:a}),this.close(b)},_setAria:function(a){var b=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":b,"aria-activedescendant":b}),this.menu.attr("aria-activedescendant",b)},_setOption:function(a,b){"icons"===a&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(b.button),this._super(a,b),"appendTo"===a&&this.menuWrap.appendTo(this._appendTo()),"disabled"===a&&(this.menuInstance.option("disabled",b),this.button.toggleClass("ui-state-disabled",b).attr("aria-disabled",b),this.element.prop("disabled",b),b?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===a&&this._resizeButton()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?$(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(a){var b=[];a.each(function(a,c){var d=$(c),e=d.parent("optgroup");b.push({element:d,index:a,value:d.attr("value"),label:d.text(),optgroup:e.attr("label")||"",disabled:e.prop("disabled")||d.prop("disabled")})}),this.items=b},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),$.widget("ui.slider",$.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var a,b,c=this.options,d=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",f=[];for(b=c.values&&c.values.length||1,d.length>b&&(d.slice(b).remove(),d=d.slice(0,b)),a=d.length;b>a;a++)f.push(e);this.handles=d.add($(f.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(a){$(this).data("ui-slider-handle-index",a)})},_createRange:function(){var a=this.options,b="";a.range?(a.range===!0&&(a.values?a.values.length&&2!==a.values.length?a.values=[a.values[0],a.values[0]]:$.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=$("<div></div>").appendTo(this.element),b="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(b+("min"===a.range||"max"===a.range?" ui-slider-range-"+a.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(a){var b,c,d,e,f,g,h,i,j=this,k=this.options;return k.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b),d=this._valueMax()-this._valueMin()+1,this.handles.each(function(a){var b=Math.abs(c-j.values(a));(d>b||d===b&&(a===j._lastChangedValue||j.values(a)===k.min))&&(d=b,e=$(this),f=a)}),g=this._start(a,f),g===!1?!1:(this._mouseSliding=!0,this._handleIndex=f,e.addClass("ui-state-active").focus(),h=e.offset(),i=!$(a.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=i?{left:0,top:0}:{left:a.pageX-h.left-e.width()/2,top:a.pageY-h.top-e.height()/2-(parseInt(e.css("borderTopWidth"),10)||0)-(parseInt(e.css("borderBottomWidth"),10)||0)+(parseInt(e.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,f,c),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(a,b){var c,d,e;if(arguments.length>1)return this.options.values[a]=this._trimAlignValue(b),this._refreshValue(),void this._change(null,a);if(!arguments.length)return this._values();if(!$.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();for(c=this.options.values,d=arguments[0],e=0;e<c.length;e+=1)c[e]=this._trimAlignValue(d[e]),this._change(null,e);this._refreshValue()},_setOption:function(a,b){var c,d=0;switch("range"===a&&this.options.range===!0&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),$.isArray(this.options.values)&&(d=this.options.values.length),"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b),this._super(a,b),a){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===b?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),c=0;d>c;c+=1)this._change(null,c);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_calculateNewMax:function(){var a=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-a},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var a,b,c,d,e,f=this.options.range,g=this.options,h=this,i=this._animateOff?!1:g.animate,j={};this.options.values&&this.options.values.length?this.handles.each(function(c){b=(h.values(c)-h._valueMin())/(h._valueMax()-h._valueMin())*100,j["horizontal"===h.orientation?"left":"bottom"]=b+"%",$(this).stop(1,1)[i?"animate":"css"](j,g.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===c&&h.range.stop(1,1)[i?"animate":"css"]({left:b+"%"},g.animate),1===c&&h.range[i?"animate":"css"]({width:b-a+"%"},{queue:!1,duration:g.animate})):(0===c&&h.range.stop(1,1)[i?"animate":"css"]({bottom:b+"%"},g.animate),1===c&&h.range[i?"animate":"css"]({height:b-a+"%"},{queue:!1,duration:g.animate}))),a=b}):(c=this.value(),d=this._valueMin(),e=this._valueMax(),b=e!==d?(c-d)/(e-d)*100:0,j["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[i?"animate":"css"](j,g.animate),"min"===f&&"horizontal"===this.orientation&&this.range.stop(1,1)[i?"animate":"css"]({width:b+"%"},g.animate),"max"===f&&"horizontal"===this.orientation&&this.range[i?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:g.animate}),"min"===f&&"vertical"===this.orientation&&this.range.stop(1,1)[i?"animate":"css"]({height:b+"%"},g.animate),"max"===f&&"vertical"===this.orientation&&this.range[i?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:g.animate}))},_handleEvents:{keydown:function(a){var b,c,d,e,f=$(a.target).data("ui-slider-handle-index");switch(a.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(a.preventDefault(),!this._keySliding&&(this._keySliding=!0,$(a.target).addClass("ui-state-active"),b=this._start(a,f),b===!1))return}switch(e=this.options.step,c=d=this.options.values&&this.options.values.length?this.values(f):this.value(),a.keyCode){case $.ui.keyCode.HOME:d=this._valueMin();break;case $.ui.keyCode.END:d=this._valueMax();break;case $.ui.keyCode.PAGE_UP:d=this._trimAlignValue(c+(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(c-(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(c===this._valueMax())return;d=this._trimAlignValue(c+e);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(c===this._valueMin())return;d=this._trimAlignValue(c-e)}this._slide(a,f,d)},keyup:function(a){var b=$(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,b),this._change(a,b),$(a.target).removeClass("ui-state-active"))}}}),$.widget("ui.sortable",$.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&b+c>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,b){this._super(a,b),"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),$.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(a,b){var c=null,d=!1,e=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(a),$(a.target).parents().each(function(){return $.data(this,e.widgetName+"-item")===e?(c=$(this),!1):void 0}),$.data(a.target,e.widgetName+"-item")===e&&(c=$(a.target)),c&&(!this.options.handle||b||($(this.options.handle,c).find("*").addBack().each(function(){this===a.target&&(d=!0)}),d))?(this.currentItem=c,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(a,b,c){var d,e,f=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),f.containment&&this._setContainment(),f.cursor&&"auto"!==f.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",f.cursor),this.storedStylesheet=$("<style>*{ cursor: "+f.cursor+" !important; }</style>").appendTo(e)),f.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",f.opacity)),f.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",f.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!c)for(d=this.containers.length-1;d>=0;d--)this.containers[d]._trigger("activate",a,this._uiHash(this));
return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!f.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){var b,c,d,e,f=this.options,g=!1;for(this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<f.scrollSensitivity?this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop+f.scrollSpeed:a.pageY-this.overflowOffset.top<f.scrollSensitivity&&(this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop-f.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<f.scrollSensitivity?this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft+f.scrollSpeed:a.pageX-this.overflowOffset.left<f.scrollSensitivity&&(this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft-f.scrollSpeed)):(a.pageY-$(document).scrollTop()<f.scrollSensitivity?g=$(document).scrollTop($(document).scrollTop()-f.scrollSpeed):$(window).height()-(a.pageY-$(document).scrollTop())<f.scrollSensitivity&&(g=$(document).scrollTop($(document).scrollTop()+f.scrollSpeed)),a.pageX-$(document).scrollLeft()<f.scrollSensitivity?g=$(document).scrollLeft($(document).scrollLeft()-f.scrollSpeed):$(window).width()-(a.pageX-$(document).scrollLeft())<f.scrollSensitivity&&(g=$(document).scrollLeft($(document).scrollLeft()+f.scrollSpeed))),g!==!1&&$.ui.ddmanager&&!f.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,a)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),b=this.items.length-1;b>=0;b--)if(c=this.items[b],d=c.item[0],e=this._intersectsWithPointer(c),e&&c.instance===this.currentContainer&&d!==this.currentItem[0]&&this.placeholder[1===e?"next":"prev"]()[0]!==d&&!$.contains(this.placeholder[0],d)&&("semi-dynamic"===this.options.type?!$.contains(this.element[0],d):!0)){if(this.direction=1===e?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(c))break;this._rearrange(a,c),this._trigger("change",a,this._uiHash());break}return this._contactContainers(a),$.ui.ddmanager&&$.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,b){if(a){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,a),this.options.revert){var c=this,d=this.placeholder.offset(),e=this.options.axis,f={};e&&"x"!==e||(f.left=d.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),e&&"y"!==e||(f.top=d.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,$(this.helper).animate(f,parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},$(b).each(function(){var b=($(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);b&&c.push((a.key||b[1]+"[]")+"="+(a.key&&a.expression?b[1]:b[2]))}),!c.length&&a.key&&c.push(a.key+"="),c.join("&")},toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];return a=a||{},b.each(function(){c.push($(a.item||this).attr(a.attribute||"id")||"")}),c},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),c="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),d=b&&c,e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return d?this.floating?f&&"right"===f||"down"===e?2:1:e&&("down"===e?2:1):!1},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&c||"left"===e&&!c:d&&("down"===d&&b||"up"===d&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function b(){g.push(this)}var c,d,e,f,g=[],h=[],i=this._connectWith();if(i&&a)for(c=i.length-1;c>=0;c--)for(e=$(i[c]),d=e.length-1;d>=0;d--)f=$.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&h.push([$.isFunction(f.options.items)?f.options.items.call(f.element):$(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f]);for(h.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),c=h.length-1;c>=0;c--)h[c][0].each(b);return $(g)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(b){for(var c=0;c<a.length;c++)if(a[c]===b.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[],this.containers=[this];var b,c,d,e,f,g,h,i,j=this.items,k=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):$(this.options.items,this.element),this]],l=this._connectWith();if(l&&this.ready)for(b=l.length-1;b>=0;b--)for(d=$(l[b]),c=d.length-1;c>=0;c--)e=$.data(d[c],this.widgetFullName),e&&e!==this&&!e.options.disabled&&(k.push([$.isFunction(e.options.items)?e.options.items.call(e.element[0],a,{item:this.currentItem}):$(e.options.items,e.element),e]),this.containers.push(e));for(b=k.length-1;b>=0;b--)for(f=k[b][1],g=k[b][0],c=0,i=g.length;i>c;c++)h=$(g[c]),h.data(this.widgetName+"-item",f),j.push({item:h,instance:f,width:0,height:0,left:0,top:0})},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var b,c,d,e;for(b=this.items.length-1;b>=0;b--)c=this.items[b],c.instance!==this.currentContainer&&this.currentContainer&&c.item[0]!==this.currentItem[0]||(d=this.options.toleranceElement?$(this.options.toleranceElement,c.item):c.item,a||(c.width=d.outerWidth(),c.height=d.outerHeight()),e=d.offset(),c.left=e.left,c.top=e.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;b>=0;b--)e=this.containers[b].element.offset(),this.containers[b].containerCache.left=e.left,this.containers[b].containerCache.top=e.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight();return this},_createPlaceholder:function(a){a=a||this;var b,c=a.options;c.placeholder&&c.placeholder.constructor!==String||(b=c.placeholder,c.placeholder={element:function(){var c=a.currentItem[0].nodeName.toLowerCase(),d=$("<"+c+">",a.document[0]).addClass(b||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===c?a.currentItem.children().each(function(){$("<td>&#160;</td>",a.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(d)}):"img"===c&&d.attr("src",a.currentItem.attr("src")),b||d.css("visibility","hidden"),d},update:function(d,e){(!b||c.forcePlaceholderSize)&&(e.height()||e.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}}),a.placeholder=$(c.placeholder.element.call(a.element,a.currentItem)),a.currentItem.after(a.placeholder),c.placeholder.update(a,a.placeholder)},_contactContainers:function(a){var b,c,d,e,f,g,h,i,j,k,l=null,m=null;for(b=this.containers.length-1;b>=0;b--)if(!$.contains(this.currentItem[0],this.containers[b].element[0]))if(this._intersectsWith(this.containers[b].containerCache)){if(l&&$.contains(this.containers[b].element[0],l.element[0]))continue;l=this.containers[b],m=b}else this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",a,this._uiHash(this)),this.containers[b].containerCache.over=0);if(l)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",a,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(d=1e4,e=null,j=l.floating||this._isFloating(this.currentItem),f=j?"left":"top",g=j?"width":"height",k=j?"clientX":"clientY",c=this.items.length-1;c>=0;c--)$.contains(this.containers[m].element[0],this.items[c].item[0])&&this.items[c].item[0]!==this.currentItem[0]&&(h=this.items[c].item.offset()[f],i=!1,a[k]-h>this.items[c][g]/2&&(i=!0),Math.abs(a[k]-h)<d&&(d=Math.abs(a[k]-h),e=this.items[c],this.direction=i?"up":"down"));if(!e&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return void(this.currentContainer.containerCache.over||(this.containers[m]._trigger("over",a,this._uiHash()),this.currentContainer.containerCache.over=1));e?this._rearrange(a,e,null,!0):this._rearrange(a,null,this.containers[m].element,!0),this._trigger("change",a,this._uiHash()),this.containers[m]._trigger("change",a,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",a,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(a){var b=this.options,c=$.isFunction(b.helper)?$(b.helper.apply(this.element[0],[a,this.currentItem])):"clone"===b.helper?this.currentItem.clone():this.currentItem;return c.parents("body").length||$("parent"!==b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]),c[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!c[0].style.width||b.forceHelperSize)&&c.width(this.currentItem.width()),(!c[0].style.height||b.forceHelperSize)&&c.height(this.currentItem.height()),c},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),$.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,b,c,d=this.options;"parent"===d.containment&&(d.containment=this.helper[0].parentNode),("document"===d.containment||"window"===d.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$("document"===d.containment?document:window).width()-this.helperProportions.width-this.margins.left,($("document"===d.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(d.containment)||(a=$(d.containment)[0],b=$(d.containment).offset(),c="hidden"!==$(a).css("overflow"),this.containment=[b.left+(parseInt($(a).css("borderLeftWidth"),10)||0)+(parseInt($(a).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt($(a).css("borderTopWidth"),10)||0)+(parseInt($(a).css("paddingTop"),10)||0)-this.margins.top,b.left+(c?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt($(a).css("borderLeftWidth"),10)||0)-(parseInt($(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(c?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt($(a).css("borderTopWidth"),10)||0)-(parseInt($(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,b){b||(b=this.position);var c="absolute"===a?1:-1,d="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop())*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*c}},_generatePosition:function(a){var b,c,d=this.options,e=a.pageX,f=a.pageY,g="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(g[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(f=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(f=this.containment[3]+this.offset.click.top)),d.grid&&(b=this.originalPageY+Math.round((f-this.originalPageY)/d.grid[1])*d.grid[1],f=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=this.containment[1]?b-d.grid[1]:b+d.grid[1]:b,c=this.originalPageX+Math.round((e-this.originalPageX)/d.grid[0])*d.grid[0],e=this.containment?c-this.offset.click.left>=this.containment[0]&&c-this.offset.click.left<=this.containment[2]?c:c-this.offset.click.left>=this.containment[0]?c-d.grid[0]:c+d.grid[0]:c)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:g.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:g.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!b){for(d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){$.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||$([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}}),$.widget("ui.spinner",{version:"1.11.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var a={},b=this.element;return $.each(["min","max","step"],function(c,d){var e=b.attr(d);void 0!==e&&e.length&&(a[d]=e)}),a},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(a){function b(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=c,this._delay(function(){this.previous=c}))}var c;c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),a.preventDefault(),b.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,b.call(this)}),this._start(a)!==!1&&this._repeat(null,$(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){return $(a.currentTarget).hasClass("ui-state-active")?this._start(a)===!1?!1:void this._repeat(null,$(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(a){var b=this.options,c=$.ui.keyCode;switch(a.keyCode){case c.UP:return this._repeat(null,1,a),!0;case c.DOWN:return this._repeat(null,-1,a),!0;case c.PAGE_UP:return this._repeat(null,b.page,a),!0;case c.PAGE_DOWN:return this._repeat(null,-b.page,a),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(a){var b=this.options.incremental;return b?$.isFunction(b)?b(a):Math.floor(a*a*a/5e4-a*a/500+17*a/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,void this.element.val(this._format(c))}("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),this.buttons.button(b?"disable":"enable"))},_setOptions:h(function(a){this._super(a)}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:h(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:h(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:h(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void h(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),$.widget("ui.tabs",{version:"1.11.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c,d;b=b.cloneNode(!1),c=b.href.replace(a,""),d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(e){}try{d=decodeURIComponent(d)}catch(e){}return b.hash.length>1&&c===d}}(),_create:function(){var a=this,b=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",b.collapsible),this._processTabs(),b.active=this._initialActive(),$.isArray(b.disabled)&&(b.disabled=$.unique(b.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(b){return a.tabs.index(b)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(b.active):$(),this._refresh(),this.active.length&&this.load(b.active)},_initialActive:function(){var a=this.options.active,b=this.options.collapsible,c=location.hash.substring(1);return null===a&&(c&&this.tabs.each(function(b,d){return $(d).attr("aria-controls")===c?(a=b,!1):void 0}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===a||-1===a)&&(a=this.tabs.length?0:!1)),a!==!1&&(a=this.tabs.index(this.tabs.eq(a)),-1===a&&(a=b?!1:0)),!b&&a===!1&&this.anchors.length&&(a=0),a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):$()}},_tabKeydown:function(a){var b=$(this.document[0].activeElement).closest("li"),c=this.tabs.index(b),d=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:c++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:d=!1,c--;break;case $.ui.keyCode.END:c=this.anchors.length-1;break;case $.ui.keyCode.HOME:c=0;break;case $.ui.keyCode.SPACE:return a.preventDefault(),clearTimeout(this.activating),void this._activate(c);case $.ui.keyCode.ENTER:return a.preventDefault(),clearTimeout(this.activating),void this._activate(c===this.options.active?!1:c);default:return}a.preventDefault(),clearTimeout(this.activating),c=this._focusNextTab(c,d),a.ctrlKey||(b.attr("aria-selected","false"),this.tabs.eq(c).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",c)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===$.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===$.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===$.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(a,b){function c(){return a>d&&(a=0),0>a&&(a=d),a}for(var d=this.tabs.length-1;-1!==$.inArray(c(),this.options.disabled);)a=b?a+1:a-1;return a},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,b=this.tablist.children(":has(a[href])");a.disabled=$.map(b.filter(".ui-state-disabled"),function(a){return b.index(a)}),this._processTabs(),a.active!==!1&&this.anchors.length?this.active.length&&!$.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=$()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=$()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this,b=this.tabs,c=this.anchors,d=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(a){$(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){$(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return $("a",this)[0]
}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=$(),this.anchors.each(function(b,c){var d,e,f,g=$(c).uniqueId().attr("id"),h=$(c).closest("li"),i=h.attr("aria-controls");a._isLocal(c)?(d=c.hash,f=d.substring(1),e=a.element.find(a._sanitizeSelector(d))):(f=h.attr("aria-controls")||$({}).uniqueId()[0].id,d="#"+f,e=a.element.find(d),e.length||(e=a._createPanel(f),e.insertAfter(a.panels[b-1]||a.tablist)),e.attr("aria-live","polite")),e.length&&(a.panels=a.panels.add(e)),i&&h.data("ui-tabs-aria-controls",i),h.attr({"aria-controls":f,"aria-labelledby":g}),e.attr("aria-labelledby",g)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),b&&(this._off(b.not(this.tabs)),this._off(c.not(this.anchors)),this._off(d.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return $("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(a){$.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var b,c=0;b=this.tabs[c];c++)a===!0||-1!==$.inArray(c,a)?$(b).addClass("ui-state-disabled").attr("aria-disabled","true"):$(b).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=a},_setupEvents:function(a){var b={};a&&$.each(a.split(" "),function(a,c){b[c]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(a){a.preventDefault()}}),this._on(this.anchors,b),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(a){var b,c=this.element.parent();"fill"===a?(b=c.height(),b-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var a=$(this),c=a.css("position");"absolute"!==c&&"fixed"!==c&&(b-=a.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){b-=$(this).outerHeight(!0)}),this.panels.each(function(){$(this).height(Math.max(0,b-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===a&&(b=0,this.panels.each(function(){b=Math.max(b,$(this).height("").height())}).height(b))},_eventHandler:function(a){var b=this.options,c=this.active,d=$(a.currentTarget),e=d.closest("li"),f=e[0]===c[0],g=f&&b.collapsible,h=g?$():this._getPanelForTab(e),i=c.length?this._getPanelForTab(c):$(),j={oldTab:c,oldPanel:i,newTab:g?$():e,newPanel:h};a.preventDefault(),e.hasClass("ui-state-disabled")||e.hasClass("ui-tabs-loading")||this.running||f&&!b.collapsible||this._trigger("beforeActivate",a,j)===!1||(b.active=g?!1:this.tabs.index(e),this.active=f?$():e,this.xhr&&this.xhr.abort(),i.length||h.length||$.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(e),a),this._toggle(a,j))},_toggle:function(a,b){function c(){e.running=!1,e._trigger("activate",a,b)}function d(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),f.length&&e.options.show?e._show(f,e.options.show,c):(f.show(),c())}var e=this,f=b.newPanel,g=b.oldPanel;this.running=!0,g.length&&this.options.hide?this._hide(g,this.options.hide,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),d()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),g.hide(),d()),g.attr("aria-hidden","true"),b.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),f.length&&g.length?b.oldTab.attr("tabIndex",-1):f.length&&this.tabs.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),f.attr("aria-hidden","false"),b.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(a){var b,c=this._findActive(a);c[0]!==this.active[0]&&(c.length||(c=this.active),b=c.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:$.noop}))},_findActive:function(a){return a===!1?$():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){$.data(this,"ui-tabs-destroy")?$(this).remove():$(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var a=$(this),b=a.data("ui-tabs-aria-controls");b?a.attr("aria-controls",b).removeData("ui-tabs-aria-controls"):a.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var b=this.options.disabled;b!==!1&&(void 0===a?b=!1:(a=this._getIndex(a),b=$.isArray(b)?$.map(b,function(b){return b!==a?b:null}):$.map(this.tabs,function(b,c){return c!==a?c:null})),this._setupDisabled(b))},disable:function(a){var b=this.options.disabled;if(b!==!0){if(void 0===a)b=!0;else{if(a=this._getIndex(a),-1!==$.inArray(a,b))return;b=$.isArray(b)?$.merge([a],b).sort():[a]}this._setupDisabled(b)}},load:function(a,b){a=this._getIndex(a);var c=this,d=this.tabs.eq(a),e=d.find(".ui-tabs-anchor"),f=this._getPanelForTab(d),g={tab:d,panel:f};this._isLocal(e[0])||(this.xhr=$.ajax(this._ajaxSettings(e,b,g)),this.xhr&&"canceled"!==this.xhr.statusText&&(d.addClass("ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){f.html(a),c._trigger("load",b,g)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&c.panels.stop(!1,!0),d.removeClass("ui-tabs-loading"),f.removeAttr("aria-busy"),a===c.xhr&&delete c.xhr},1)})))},_ajaxSettings:function(a,b,c){var d=this;return{url:a.attr("href"),beforeSend:function(a,e){return d._trigger("beforeLoad",b,$.extend({jqXHR:a,ajaxSettings:e},c))}}},_getPanelForTab:function(a){var b=$(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}}),$.widget("ui.tooltip",{version:"1.11.2",options:{content:function(){var a=$(this).attr("title")||"";return $("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(a,b){var c=(a.attr("aria-describedby")||"").split(/\s+/);c.push(b),a.data("ui-tooltip-id",b).attr("aria-describedby",$.trim(c.join(" ")))},_removeDescribedBy:function(a){var b=a.data("ui-tooltip-id"),c=(a.attr("aria-describedby")||"").split(/\s+/),d=$.inArray(b,c);-1!==d&&c.splice(d,1),a.removeData("ui-tooltip-id"),c=$.trim(c.join(" ")),c?a.attr("aria-describedby",c):a.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=$("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(a,b){var c=this;return"disabled"===a?(this[b?"_disable":"_enable"](),void(this.options[a]=b)):(this._super(a,b),void("content"===a&&$.each(this.tooltips,function(a,b){c._updateContent(b.element)})))},_disable:function(){var a=this;$.each(this.tooltips,function(b,c){var d=$.Event("blur");d.target=d.currentTarget=c.element[0],a.close(d,!0)}),this.element.find(this.options.items).addBack().each(function(){var a=$(this);a.is("[title]")&&a.data("ui-tooltip-title",a.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var a=$(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(a){var b=this,c=$(a?a.target:this.element).closest(this.options.items);c.length&&!c.data("ui-tooltip-id")&&(c.attr("title")&&c.data("ui-tooltip-title",c.attr("title")),c.data("ui-tooltip-open",!0),a&&"mouseover"===a.type&&c.parents().each(function(){var a,c=$(this);c.data("ui-tooltip-open")&&(a=$.Event("blur"),a.target=a.currentTarget=this,b.close(a,!0)),c.attr("title")&&(c.uniqueId(),b.parents[this.id]={element:this,title:c.attr("title")},c.attr("title",""))}),this._updateContent(c,a))},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){a.data("ui-tooltip-open")&&e._delay(function(){b&&(b.type=f),this._open(b,a,c)})}),void(c&&this._open(b,a,c)))},_open:function(a,b,c){function d(a){j.of=a,f.is(":hidden")||f.position(j)}var e,f,g,h,i,j=$.extend({},this.options.position);if(c){if(e=this._find(b))return void e.tooltip.find(".ui-tooltip-content").html(c);b.is("[title]")&&(a&&"mouseover"===a.type?b.attr("title",""):b.removeAttr("title")),e=this._tooltip(b),f=e.tooltip,this._addDescribedBy(b,f.attr("id")),f.find(".ui-tooltip-content").html(c),this.liveRegion.children().hide(),c.clone?(i=c.clone(),i.removeAttr("id").find("[id]").removeAttr("id")):i=c,$("<div>").html(i).appendTo(this.liveRegion),this.options.track&&a&&/^mouse/.test(a.type)?(this._on(this.document,{mousemove:d}),d(a)):f.position($.extend({of:b},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){f.is(":visible")&&(d(j.of),clearInterval(h))},$.fx.interval)),this._trigger("open",a,{tooltip:f}),g={keyup:function(a){if(a.keyCode===$.ui.keyCode.ESCAPE){var c=$.Event(a);c.currentTarget=b[0],this.close(c,!0)}}},b[0]!==this.element[0]&&(g.remove=function(){this._removeTooltip(f)}),a&&"mouseover"!==a.type||(g.mouseleave="close"),a&&"focusin"!==a.type||(g.focusout="close"),this._on(!0,b,g)}},close:function(a){var b,c=this,d=$(a?a.currentTarget:this.element),e=this._find(d);e&&(b=e.tooltip,e.closing||(clearInterval(this.delayedShow),d.data("ui-tooltip-title")&&!d.attr("title")&&d.attr("title",d.data("ui-tooltip-title")),this._removeDescribedBy(d),e.hiding=!0,b.stop(!0),this._hide(b,this.options.hide,function(){c._removeTooltip($(this))}),d.removeData("ui-tooltip-open"),this._off(d,"mouseleave focusout keyup"),d[0]!==this.element[0]&&this._off(d,"remove"),this._off(this.document,"mousemove"),a&&"mouseleave"===a.type&&$.each(this.parents,function(a,b){$(b.element).attr("title",b.title),delete c.parents[a]}),e.closing=!0,this._trigger("close",a,{tooltip:b}),e.hiding||(e.closing=!1)))},_tooltip:function(a){var b=$("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),c=b.uniqueId().attr("id");return $("<div>").addClass("ui-tooltip-content").appendTo(b),b.appendTo(this.document[0].body),this.tooltips[c]={element:a,tooltip:b}},_find:function(a){var b=a.data("ui-tooltip-id");return b?this.tooltips[b]:null},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;$.each(this.tooltips,function(b,c){var d=$.Event("blur"),e=c.element;d.target=d.currentTarget=e[0],a.close(d,!0),$("#"+b).remove(),e.data("ui-tooltip-title")&&(e.attr("title")||e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),define("views/popUpCarousel",["jquery","underscore","backbone","views/base","jquery_ui","velocity","lib/breakpoints"],function($,_,Backbone,a,b,c,d){var e=a.extend({slides:null,slideNavs:null,mediaGroups:null,mediaNavItems:null,leadContentGroups:null,leadContent:null,dragBar:null,dragTop:null,dragBottom:null,dragHandle:null,currentSlideID:null,currentSlideNavID:null,currentMediaID:null,currentMediaNavID:null,config:{mobileToggleSpeed:500},events:{"click .js-slide-nav-item":"slideNavClick","click .js-media-nav-item":"mediaNavClick","click .js-mobile-toggle":"mobileToggleClick"},initialize:function(){this.slides=this.$el.find(".js-slide-image"),this.slideNavs=this.$el.find(".js-slide-nav"),this.mediaGroups=this.$el.find(".js-media-group"),this.mediaNavItems=this.$el.find(".js-media-nav-item"),this.leadContentGroups=this.$el.find(".js-lead-content-group"),this.leadContent=this.$el.find(".js-lead-content"),this.dragBar=this.$el.find(".js-drag-bar"),this.dragHandle=this.$el.find(".js-drag-handle"),this.currentSlideID=this.$el.find(".js-slide-image:first").data("id"),this.currentSlideNavID=this.$el.find(".js-slide-nav:first").data("id"),this.currentMediaID=this.$el.find(".js-media-group:first").data("id"),this.currentMediaNavID=this.$el.find(".js-media-nav-item:first").data("id"),this.initActiveClasses(),this.initDragBar(),$(window).resize(_.throttle(_.bind(this.setDragBarLimits,this),16))},initActiveClasses:function(){this.slides.filter('[data-id="'+this.currentSlideID+'"]').addClass("active"),this.slideNavs.filter('[data-id="'+this.currentSlideNavID+'"]').addClass("active"),this.mediaGroups.filter('[data-id="'+this.currentMediaID+'"]').addClass("active"),this.mediaNavItems.filter('[data-id="'+this.currentMediaNavID+'"]').addClass("active"),this.leadContentGroups.filter('[data-groupID="'+this.currentMediaNavID+'"]').addClass("active"),this.leadContentGroups.filter('[data-groupID="'+this.currentMediaNavID+'"]').find(".js-lead-content").first().addClass("active")},initDragBar:function(){var a=_.bind(this.stopDrag,this);this.setDragBarLimits(),this.dragHandle.draggable({axis:"y",containment:"parent",stop:a}),this.updateDragHandle(this.slideNavs.filter(".active").find(".js-drag-bullet:first"))},setDragBarLimits:function(){var a,b=this.$el.find(".js-slide-nav.active"),c=b.find(".js-drag-bullet:first"),d=b.find(".js-drag-bullet:last");this.dragTop=Math.round(c.offset().top+c.outerHeight()/2-b.offset().top),this.dragBottom=Math.round(d.offset().top+d.outerHeight()/2-b.offset().top),a=this.dragBottom-this.dragTop,this.dragBar.css({top:this.dragTop+"px",height:a})},updateDragHandle:function(a){var b=this.$el.find(".js-slide-nav.active"),c=a.offset().top+a.outerHeight()/2-(b.offset().top+this.dragHandle.outerHeight()/2);this.dragHandle.css({top:c}),$(".js-drag-bullet").removeClass("active"),a.addClass("active")},stopDrag:function(){var a,b=this.slideNavs.filter(".active").find(".js-drag-handle"),c=this.slideNavs.filter(".active").find(".js-drag-bullet"),d=b.offset().top+b.outerHeight()/2,e=[],f={};_.each(c,function(a){var b={};b.id=$(a).parent(".js-slide-nav-item").data("id"),b.offset=$(a).offset().top+$(a).outerHeight()/2,e.push(b)}),_.each(e,function(a){(null==f.id||Math.abs(a.offset-d)<Math.abs(f.offset-d))&&(f.id=a.id,f.offset=a.offset)}),a=this.slideNavs.filter(".active").find('.js-slide-nav-item[data-id="'+f.id+'"] .js-drag-bullet'),this.changeSlide(f.id),this.updateDragHandle(a)},changeSlideNav:function(a){this.slideNavs.removeClass("active"),this.slideNavs.filter('[data-id="'+a+'"]').addClass("active")},setMediaNavItem:function(a){this.mediaNavItems.removeClass("active"),this.mediaNavItems.filter('[data-id="'+a+'"]').addClass("active")},changeSlide:function(a){this.slides.removeClass("active"),this.slides.filter('[data-id="'+a+'"]').addClass("active")},changeMediaGroup:function(a){var b=_.bind(function(){this.mediaGroups.filter(".active").removeClass("active"),this.mediaGroups.filter('[data-id="'+a+'"]').addClass("active")},this);"sm"==d.breakpoint?(this.mediaGroups.filter(".active").find(".js-mobile-drawer").velocity("slideUp",{duration:this.config.mobileToggleSpeed/2}),this.mediaGroups.filter('[data-id="'+a+'"]').find(".js-mobile-drawer").velocity("slideDown",{delay:this.config.mobileToggleSpeed/2,duration:this.config.mobileToggleSpeed,easing:"easeOutQuint",complete:b()}),this.$el.velocity("scroll",{duration:this.config.mobileToggleSpeed,easing:"easeOutQuint"})):b(),this.currentSlideID=this.mediaGroups.filter(".active").find(".js-slide-image:first").data("id"),this.changeSlide(this.currentSlideID)},changeLeadContent:function(a){var b=this.leadContentGroups.filter(".active");b.find(".js-lead-content").removeClass("active"),b.find(".js-lead-content").filter('[data-id="'+a+'"]').addClass("active")},changeLeadContentGroup:function(a){var b=this.leadContentGroups.filter('[data-groupID="'+a+'"]');this.leadContentGroups.removeClass("active"),b.addClass("active"),this.leadContent.removeClass("active"),b.find(".js-lead-content").first().addClass("active")},slideNavClick:function(a){a.preventDefault();var b=$(a.currentTarget).find(".js-drag-bullet");this.currentSlideID=$(a.currentTarget).data("id"),this.changeSlide(this.currentSlideID),this.updateDragHandle(b),this.changeLeadContent(this.currentSlideID)},mediaNavClick:function(a){a.preventDefault(),this.currentMediaNavID=$(a.currentTarget).data("id"),this.changeMediaGroup(this.currentMediaNavID),this.setMediaNavItem(this.currentMediaNavID),this.changeSlideNav(this.currentMediaNavID),this.changeLeadContentGroup(this.currentMediaNavID),this.setDragBarLimits(),this.updateDragHandle(this.slideNavs.filter(".active").find(".js-drag-bullet:first"))},mobileToggleClick:function(a){a.preventDefault();var b=$(a.currentTarget).parents(".js-media-group");this.currentMediaNavID=b.data("id"),this.changeMediaGroup(this.currentMediaNavID),this.setMediaNavItem(this.currentMediaNavID),this.changeSlideNav(this.currentMediaNavID),this.changeLeadContentGroup(this.currentMediaNavID)}});return e}),define("views/post",["jquery","underscore","backbone","views/base","lib/breakpoints"],function($,_,Backbone,a,b){var c=a.extend({events:{},initialize:function(){var a=_.bind(this.setFixedSocial,this);$(window).scroll(a),$(window).resize(function(){a()})},setFixedSocial:function(){var a=$(window).scrollTop(),c=$(".post__social"),d=$(".post__main").offset().top,e=d-a,f=$(".post__main").height(),g=d+f;"lg"==b.breakpoint&&(0>e&&g-a>=366?(c.addClass("fixed"),c.removeClass("scroll-bottom")):366>g-a?(c.removeClass("fixed"),c.addClass("scroll-bottom")):(c.removeClass("fixed"),c.removeClass("scroll-bottom")))}});return c}),define("views/productVisualizer",["jquery","underscore","backbone","views/base","lib/breakpoints"],function($,_,Backbone,a,b){var c=a.extend({$items:null,itemCount:0,selectedItem:null,currentBreakpoint:null,events:{"click .js-pv-sub-link":"subItemClick","click .mobile-accordion-trigger":"mobileAccordion"},initialize:function(){this.currentBreakpoint=b.breakpoint,this.setupBrokerEvents(),this.$items=this.$el.find(".js-pv-item"),$(window).resize(_.throttle(_.bind(this.updateBreakpoint,this),16))},setupBrokerEvents:function(){this.setBrokerNamespace(),this.broker.register({"subitem:change":"changeSubItem"},this)},deactivateSubItem:function(a,b){a.removeClass("active"),b.removeClass("active")},activateSubItem:function(a,b){a.addClass("active"),b.addClass("active")},subItemClick:function(a){var b=($(a.currentTarget),$(a.currentTarget).data("id")),c=$(a.currentTarget).parents(".js-pv-item").data("id");this.broker.trigger("subitem:change",c,b)},changeSubItem:function(a,b){var c=this.$el.find(".js-pv-item.active .js-pv-sub-link.active"),d=$(".js-pv-sub-item.active"),e=$('.js-pv-item[data-id="'+a+'"] .js-pv-sub-item[data-id="'+b+'"]'),f=$('.js-pv-sub-link[data-id="'+b+'"]');this.deactivateSubItem(c,d),this.activateSubItem(f,e)},mobileAccordion:function(a){$item=$(a.target),this.$el.find(".js-pv-sub-item").removeClass("active"),$item.hasClass("active")?($item.removeClass("active"),$item.next().removeClass("active")):(this.$el.find(".mobile-accordion-trigger.active").removeClass("active"),$item.addClass("active"),$item.next().addClass("active"))},updateBreakpoint:function(){b.breakpoint!=this.currentBreakpoint&&(("sm"==this.currentBreakpoint&&"md"==b.breakpoint||"md"==this.currentBreakpoint&&"sm"==b.breakpoint)&&this.resetActiveItems(),this.currentBreakpoint=b.breakpoint)},resetActiveItems:function(){this.$el.find(".js-pv-sub-item").removeClass("active"),this.$el.find(".mobile-accordion-trigger").removeClass("active"),this.$el.find(".js-pv-sub-link").removeClass("active"),this.$el.find(".js-pv-sub-link").first().addClass("active"),this.$el.find(".js-pv-sub-item").first().addClass("active"),this.$el.find(".mobile-accordion-trigger").first().addClass("active")}});return c}),define("views/search",["jquery","underscore","backbone","views/base"],function($,_,Backbone,a){var b=a.extend({$form:null,events:{click:"openSearch","click .js-search-close":"closeSearch"},initialize:function(){this.$form=this.$el.find($(".js-search-form"))},openSearch:function(a){$(".is-open").length&&$(a.target).parents(".utility__list-item--search").length||$(".is-open").length&&$(a.target).parents(".js-controls-search").length||(this.$el.toggleClass("is-open"),this.$form.toggleClass("active"))},closeSearch:function(a){this.$form.removeClass("active"),this.$el.removeClass("is-open"),a.stopPropagation()}});return b}),define("views/tooltips",["jquery","underscore","backbone","views/base","qtip2"],function($,_,Backbone,a){var b=a.extend({initialize:function(a){this.initToolTips(a.selector)},initToolTips:function(a){this.$el.find(a).each(function(a,b){var c=$(b);c.qtip({show:{event:"click mouseenter",solo:!0},hide:{event:"click unfocus",delay:1e3,target:c},content:{text:c.siblings(".js-tooltip-text")},adjust:{resize:!0},position:{viewport:$(window)}})})}});return b}),define("views/templateSelector",["jquery","underscore","backbone","views/base","velocity","lib/breakpoints"],function($,_,Backbone,a){var b=a.extend({templateStyleParent:null,templateRows:null,templateDetails:null,events:{"click .js-ts-style-trigger":"templateClick","click .js-ts-headline-trigger":"revealMobileDetails","click .js-ts-details-close-btn":"closeClick","click .js-slide-nav-item":"slideItemClick","click .js-ts-nav-item":"navClick"},initialize:function(){this.templateStyleParent=this.$el.find(".js-select-item"),this.templateRow=this.$el.find(".js-template-row"),this.templateDetails=this.$el.find(".js-template-details")},initDetailSlides:function(a){a.find(".js-slide-image:first").addClass("active"),a.find(".js-slide-nav-item:first").addClass("active")},scrollPage:function(a){a.velocity("scroll",{duration:1e3,easing:"easeOutQuint"})},activateDetails:function(a,b){var c=b.find("#"+a);c.addClass("active"),this.initDetailSlides(c),this.scrollPage(c)},deactivateDetails:function(a){a.find(".template-selector__styles-details").removeClass("active")},activateTemplate:function(a){a.find(".ts__styles-select_item-wrap").toggleClass("active"),a.find(".ts__option-item--details a").toggleClass("active"),a.find(".template-selector__content").toggleClass("active")},deactivateTemplate:function(a){a.find(".js-select-item .active").removeClass("active")},activateSlide:function(a,b){b.find('.js-slide-image[data-id="'+a+'"]').addClass("active"),b.find('.js-slide-nav-item[data-id="'+a+'"]').addClass("active")},deactivateSlide:function(a){a.find(".js-slide-image.active").removeClass("active"),a.find(".js-slide-nav-item.active").removeClass("active")},navClick:function(a){this.$el.find(".js-type-wrap").removeClass("active"),this.$el.find('.js-type-wrap[data-template-type="'+$(a.currentTarget).data("templateSelect")+'"]').addClass("active"),this.$el.find(".js-ts-nav-item").removeClass("active"),$(a.currentTarget).addClass("active")},slideItemClick:function(a){a.preventDefault();var b=$(a.currentTarget).data("id"),c=$(a.currentTarget).closest(this.templateRow);this.deactivateSlide(c),this.activateSlide(b,c)},templateClick:function(a){a.preventDefault();var b=$(a.currentTarget).hasClass("js-select-item")?$(a.currentTarget):$(a.currentTarget).closest(this.templateStyleParent),c=$(a.currentTarget).closest(this.templateRow),d=b.data("id");this.deactivateTemplate(c),this.deactivateDetails(c),this.deactivateSlide(c),this.activateTemplate(b,c,d),this.activateDetails(d,c)},closeClick:function(a){var b=$(a.currentTarget).closest(this.templateRow);this.deactivateTemplate(b),this.deactivateDetails(b)},revealMobileDetails:function(a){var b=$(a.currentTarget).closest(this.templateRow);b.find(".ts__headline").toggleClass("active"),b.find(".template-selector__content").toggleClass("active"),b.find(".ts__headline").hasClass("active")&&$(a.currentTarget).velocity("scroll",{duration:1e3,easing:"easeOutQuint"})}});return b}),function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="stellar",g={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(a){a.hide()},showElement:function(a){a.show()}},h={scroll:{getLeft:function(a){return a.scrollLeft()},setLeft:function(a,b){a.scrollLeft(b)},getTop:function(a){return a.scrollTop()},setTop:function(a,b){a.scrollTop(b)}},position:{getLeft:function(a){return-1*parseInt(a.css("left"),10)},getTop:function(a){return-1*parseInt(a.css("top"),10)}},margin:{getLeft:function(a){return-1*parseInt(a.css("margin-left"),10)},getTop:function(a){return-1*parseInt(a.css("margin-top"),10)}},transform:{getLeft:function(a){var b=getComputedStyle(a[0])[k];return"none"!==b?-1*parseInt(b.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(a){var b=getComputedStyle(a[0])[k];return"none"!==b?-1*parseInt(b.match(/(-?[0-9]+)/g)[5],10):0}}},i={position:{setLeft:function(a,b){a.css("left",b)},setTop:function(a,b){a.css("top",b)}},transform:{setPosition:function(a,b,c,d,e){a[0].style[k]="translate3d("+(b-c)+"px, "+(d-e)+"px, 0)"}}},j=function(){var b,c=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,d=a("script")[0].style,e="";for(b in d)if(c.test(b)){e=b.match(c)[0];break}return"WebkitOpacity"in d&&(e="Webkit"),"KhtmlOpacity"in d&&(e="Khtml"),function(a){return e+(e.length>0?a.charAt(0).toUpperCase()+a.slice(1):a)}}(),k=j("transform"),l=a("<div />",{style:"background:#fff"}).css("background-position-x")!==d,m=l?function(a,b,c){a.css({"background-position-x":b,"background-position-y":c})}:function(a,b,c){a.css("background-position",b+" "+c)},n=l?function(a){return[a.css("background-position-x"),a.css("background-position-y")]}:function(a){return a.css("background-position").split(" ")},o=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)};e.prototype={init:function(){this.options.name=f+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===c.body&&(this.element=b),this.$scrollElement=a(this.element),this.$element=this.element===b?a("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==d?a(this.options.viewportElement):this.$scrollElement[0]===b||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var a=this,b=h[a.options.scrollProperty];this._getScrollLeft=function(){return b.getLeft(a.$scrollElement)},this._getScrollTop=function(){return b.getTop(a.$scrollElement)}},_defineSetters:function(){var b=this,c=h[b.options.scrollProperty],d=i[b.options.positionProperty],e=c.setLeft,f=c.setTop;this._setScrollLeft="function"==typeof e?function(a){e(b.$scrollElement,a)}:a.noop,this._setScrollTop="function"==typeof f?function(a){f(b.$scrollElement,a)}:a.noop,this._setPosition=d.setPosition||function(a,c,e,f,g){b.options.horizontalScrolling&&d.setLeft(a,c,e),b.options.verticalScrolling&&d.setTop(a,f,g)}},_handleWindowLoadAndResize:function(){var c=this,d=a(b);c.options.responsive&&d.bind("load."+this.name,function(){c.refresh()}),d.bind("resize."+this.name,function(){c._detectViewport(),c.options.responsive&&c.refresh()})},refresh:function(c){var d=this,e=d._getScrollLeft(),f=d._getScrollTop();(!c||!c.firstLoad)&&this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),c&&c.firstLoad&&/WebKit/.test(navigator.userAgent)&&a(b).load(function(){var a=d._getScrollLeft(),b=d._getScrollTop();d._setScrollLeft(a+1),d._setScrollTop(b+1),d._setScrollLeft(a),d._setScrollTop(b)}),this._setScrollLeft(e),this._setScrollTop(f)},_detectViewport:function(){var a=this.$viewportElement.offset(),b=null!==a&&a!==d;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=b?a.top:0,this.viewportOffsetLeft=b?a.left:0},_findParticles:function(){{var b=this;this._getScrollLeft(),this._getScrollTop()}if(this.particles!==d)for(var c=this.particles.length-1;c>=0;c--)this.particles[c].$element.data("stellar-elementIsActive",d);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(){var c,e,f,g,h,i,j,k,l,m=a(this),n=0,o=0,p=0,q=0;if(m.data("stellar-elementIsActive")){if(m.data("stellar-elementIsActive")!==this)return}else m.data("stellar-elementIsActive",this);b.options.showElement(m),m.data("stellar-startingLeft")?(m.css("left",m.data("stellar-startingLeft")),m.css("top",m.data("stellar-startingTop"))):(m.data("stellar-startingLeft",m.css("left")),m.data("stellar-startingTop",m.css("top"))),f=m.position().left,g=m.position().top,h="auto"===m.css("margin-left")?0:parseInt(m.css("margin-left"),10),i="auto"===m.css("margin-top")?0:parseInt(m.css("margin-top"),10),k=m.offset().left-h,l=m.offset().top-i,m.parents().each(function(){var b=a(this);return b.data("stellar-offset-parent")===!0?(n=p,o=q,j=b,!1):(p+=b.position().left,void(q+=b.position().top))}),c=m.data("stellar-horizontal-offset")!==d?m.data("stellar-horizontal-offset"):j!==d&&j.data("stellar-horizontal-offset")!==d?j.data("stellar-horizontal-offset"):b.horizontalOffset,e=m.data("stellar-vertical-offset")!==d?m.data("stellar-vertical-offset"):j!==d&&j.data("stellar-vertical-offset")!==d?j.data("stellar-vertical-offset"):b.verticalOffset,b.particles.push({$element:m,$offsetParent:j,isFixed:"fixed"===m.css("position"),horizontalOffset:c,verticalOffset:e,startingPositionLeft:f,startingPositionTop:g,startingOffsetLeft:k,startingOffsetTop:l,parentOffsetLeft:n,parentOffsetTop:o,stellarRatio:m.data("stellar-ratio")!==d?m.data("stellar-ratio"):1,width:m.outerWidth(!0),height:m.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var b,c=this,e=this._getScrollLeft(),f=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(b=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(b=b.add(this.$element)),b.each(function(){var b,g,h,i,j,k,l,o=a(this),p=n(o),q=0,r=0,s=0,t=0;if(o.data("stellar-backgroundIsActive")){if(o.data("stellar-backgroundIsActive")!==this)return}else o.data("stellar-backgroundIsActive",this);o.data("stellar-backgroundStartingLeft")?m(o,o.data("stellar-backgroundStartingLeft"),o.data("stellar-backgroundStartingTop")):(o.data("stellar-backgroundStartingLeft",p[0]),o.data("stellar-backgroundStartingTop",p[1])),h="auto"===o.css("margin-left")?0:parseInt(o.css("margin-left"),10),i="auto"===o.css("margin-top")?0:parseInt(o.css("margin-top"),10),j=o.offset().left-h-e,k=o.offset().top-i-f,o.parents().each(function(){var b=a(this);return b.data("stellar-offset-parent")===!0?(q=s,r=t,l=b,!1):(s+=b.position().left,void(t+=b.position().top))}),b=o.data("stellar-horizontal-offset")!==d?o.data("stellar-horizontal-offset"):l!==d&&l.data("stellar-horizontal-offset")!==d?l.data("stellar-horizontal-offset"):c.horizontalOffset,g=o.data("stellar-vertical-offset")!==d?o.data("stellar-vertical-offset"):l!==d&&l.data("stellar-vertical-offset")!==d?l.data("stellar-vertical-offset"):c.verticalOffset,c.backgrounds.push({$element:o,$offsetParent:l,isFixed:"fixed"===o.css("background-attachment"),horizontalOffset:b,verticalOffset:g,startingValueLeft:p[0],startingValueTop:p[1],startingBackgroundPositionLeft:isNaN(parseInt(p[0],10))?0:parseInt(p[0],10),startingBackgroundPositionTop:isNaN(parseInt(p[1],10))?0:parseInt(p[1],10),startingPositionLeft:o.position().left,startingPositionTop:o.position().top,startingOffsetLeft:j,startingOffsetTop:k,parentOffsetLeft:q,parentOffsetTop:r,stellarRatio:o.data("stellar-background-ratio")===d?1:o.data("stellar-background-ratio")})
}))},_reset:function(){var a,b,c,d,e;for(e=this.particles.length-1;e>=0;e--)a=this.particles[e],b=a.$element.data("stellar-startingLeft"),c=a.$element.data("stellar-startingTop"),this._setPosition(a.$element,b,b,c,c),this.options.showElement(a.$element),a.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(e=this.backgrounds.length-1;e>=0;e--)d=this.backgrounds[e],d.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),m(d.$element,d.startingValueLeft,d.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=a.noop,a(b).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var c=this,d=a(b);d.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),d.bind("resize.horizontal-"+this.name,function(){c.horizontalOffset=c.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),d.bind("resize.vertical-"+this.name,function(){c.verticalOffset=c.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var a,b,c,d,e,f,g,h,i,j,k=this._getScrollLeft(),l=this._getScrollTop(),n=!0,o=!0;if(this.currentScrollLeft!==k||this.currentScrollTop!==l||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=k,this.currentScrollTop=l,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,j=this.particles.length-1;j>=0;j--)a=this.particles[j],b=a.isFixed?1:0,this.options.horizontalScrolling?(f=(k+a.horizontalOffset+this.viewportOffsetLeft+a.startingPositionLeft-a.startingOffsetLeft+a.parentOffsetLeft)*-(a.stellarRatio+b-1)+a.startingPositionLeft,h=f-a.startingPositionLeft+a.startingOffsetLeft):(f=a.startingPositionLeft,h=a.startingOffsetLeft),this.options.verticalScrolling?(g=(l+a.verticalOffset+this.viewportOffsetTop+a.startingPositionTop-a.startingOffsetTop+a.parentOffsetTop)*-(a.stellarRatio+b-1)+a.startingPositionTop,i=g-a.startingPositionTop+a.startingOffsetTop):(g=a.startingPositionTop,i=a.startingOffsetTop),this.options.hideDistantElements&&(o=!this.options.horizontalScrolling||h+a.width>(a.isFixed?0:k)&&h<(a.isFixed?0:k)+this.viewportWidth+this.viewportOffsetLeft,n=!this.options.verticalScrolling||i+a.height>(a.isFixed?0:l)&&i<(a.isFixed?0:l)+this.viewportHeight+this.viewportOffsetTop),o&&n?(a.isHidden&&(this.options.showElement(a.$element),a.isHidden=!1),this._setPosition(a.$element,f,a.startingPositionLeft,g,a.startingPositionTop)):a.isHidden||(this.options.hideElement(a.$element),a.isHidden=!0);for(j=this.backgrounds.length-1;j>=0;j--)c=this.backgrounds[j],b=c.isFixed?0:1,d=this.options.horizontalScrolling?(k+c.horizontalOffset-this.viewportOffsetLeft-c.startingOffsetLeft+c.parentOffsetLeft-c.startingBackgroundPositionLeft)*(b-c.stellarRatio)+"px":c.startingValueLeft,e=this.options.verticalScrolling?(l+c.verticalOffset-this.viewportOffsetTop-c.startingOffsetTop+c.parentOffsetTop-c.startingBackgroundPositionTop)*(b-c.stellarRatio)+"px":c.startingValueTop,m(c.$element,d,e)}},_handleScrollEvent:function(){var a=this,b=!1,c=function(){a._repositionElements(),b=!1},d=function(){b||(o(c),b=!0)};this.$scrollElement.bind("scroll."+this.name,d),d()},_startAnimationLoop:function(){var a=this;this._animationLoop=function(){o(a._animationLoop),a._repositionElements()},this._animationLoop()}},a.fn[f]=function(b){var c=arguments;return b===d||"object"==typeof b?this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}):"string"==typeof b&&"_"!==b[0]&&"init"!==b?this.each(function(){var d=a.data(this,"plugin_"+f);d instanceof e&&"function"==typeof d[b]&&d[b].apply(d,Array.prototype.slice.call(c,1)),"destroy"===b&&a.data(this,"plugin_"+f,null)}):void 0},a[f]=function(){var c=a(b);return c.stellar.apply(c,Array.prototype.slice.call(arguments,0))},a[f].scrollProperty=h,a[f].positionProperty=i,b.Stellar=e}(jQuery,this,document),define("stellar",["jquery"],function(){}),function(a,b,c,d){var e=c("html"),f=c(a),g=c(b),h=c.fancybox=function(){h.open.apply(this,arguments)},i=navigator.userAgent.match(/msie/i),j=null,k=b.createTouch!==d,l=function(a){return a&&a.hasOwnProperty&&a instanceof c},m=function(a){return a&&"string"===c.type(a)},n=function(a){return m(a)&&0<a.indexOf("%")},o=function(a,b){var c=parseInt(a,10)||0;return b&&n(a)&&(c*=h.getViewport()[b]/100),Math.ceil(c)},p=function(a,b){return o(a,b)+"px"};c.extend(h,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!k,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(i?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeChange:c.noop,beforeClose:c.noop,afterClose:c.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){return a&&(c.isPlainObject(b)||(b={}),!1!==h.close(!0))?(c.isArray(a)||(a=l(a)?c(a).get():[a]),c.each(a,function(e,f){var g,i,j,k,n,o={};"object"===c.type(f)&&(f.nodeType&&(f=c(f)),l(f)?(o={href:f.data("fancybox-href")||f.attr("href"),title:f.data("fancybox-title")||f.attr("title"),isDom:!0,element:f},c.metadata&&c.extend(!0,o,f.metadata())):o=f),g=b.href||o.href||(m(f)?f:null),i=b.title!==d?b.title:o.title||"",k=(j=b.content||o.content)?"html":b.type||o.type,!k&&o.isDom&&(k=f.data("fancybox-type"),k||(k=(k=f.prop("class").match(/fancybox\.(\w+)/))?k[1]:null)),m(g)&&(k||(h.isImage(g)?k="image":h.isSWF(g)?k="swf":"#"===g.charAt(0)?k="inline":m(f)&&(k="html",j=f)),"ajax"===k&&(n=g.split(/\s+/,2),g=n.shift(),n=n.shift())),j||("inline"===k?g?j=c(m(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):o.isDom&&(j=f):"html"===k?j=g:!k&&!g&&o.isDom&&(k="inline",j=f)),c.extend(o,{href:g,type:k,content:j,title:i,selector:n}),a[e]=o}),h.opts=c.extend(!0,{},h.defaults,b),b.keys!==d&&(h.opts.keys=b.keys?c.extend({},h.defaults.keys,b.keys):!1),h.group=a,h._start(h.opts.index)):void 0},cancel:function(){var a=h.coming;a&&!1!==h.trigger("onCancel")&&(h.hideLoading(),h.ajaxLoad&&h.ajaxLoad.abort(),h.ajaxLoad=null,h.imgPreload&&(h.imgPreload.onload=h.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),h.coming=null,h.current||h._afterZoomOut(a))},close:function(a){h.cancel(),!1!==h.trigger("beforeClose")&&(h.unbindEvents(),h.isActive&&(h.isOpen&&!0!==a?(h.isOpen=h.isOpened=!1,h.isClosing=!0,c(".fancybox-item, .fancybox-nav").remove(),h.wrap.stop(!0,!0).removeClass("fancybox-opened"),h.transitions[h.current.closeMethod]()):(c(".fancybox-wrap").stop(!0).trigger("onReset").remove(),h._afterZoomOut())))},play:function(a){var b=function(){clearTimeout(h.player.timer)},c=function(){b(),h.current&&h.player.isActive&&(h.player.timer=setTimeout(h.next,h.current.playSpeed))},d=function(){b(),g.unbind(".player"),h.player.isActive=!1,h.trigger("onPlayEnd")};!0===a||!h.player.isActive&&!1!==a?h.current&&(h.current.loop||h.current.index<h.group.length-1)&&(h.player.isActive=!0,g.bind({"onCancel.player beforeClose.player":d,"onUpdate.player":c,"beforeLoad.player":b}),c(),h.trigger("onPlayStart")):d()},next:function(a){var b=h.current;b&&(m(a)||(a=b.direction.next),h.jumpto(b.index+1,a,"next"))},prev:function(a){var b=h.current;b&&(m(a)||(a=b.direction.prev),h.jumpto(b.index-1,a,"prev"))},jumpto:function(a,b,c){var e=h.current;e&&(a=o(a),h.direction=b||e.direction[a>=e.index?"next":"prev"],h.router=c||"jumpto",e.loop&&(0>a&&(a=e.group.length+a%e.group.length),a%=e.group.length),e.group[a]!==d&&(h.cancel(),h._start(a)))},reposition:function(a,b){var d,e=h.current,f=e?e.wrap:null;f&&(d=h._getPosition(b),a&&"scroll"===a.type?(delete d.position,f.stop(!0,!0).animate(d,200)):(f.css(d),e.pos=c.extend({},e.dim,d)))},update:function(a){var b=a&&a.type,c=!b||"orientationchange"===b;c&&(clearTimeout(j),j=null),h.isOpen&&!j&&(j=setTimeout(function(){var d=h.current;d&&!h.isClosing&&(h.wrap.removeClass("fancybox-tmp"),(c||"load"===b||"resize"===b&&d.autoResize)&&h._setDimension(),"scroll"===b&&d.canShrink||h.reposition(a),h.trigger("onUpdate"),j=null)},c&&!k?0:300))},toggle:function(a){h.isOpen&&(h.current.fitToView="boolean"===c.type(a)?a:!h.current.fitToView,k&&(h.wrap.removeAttr("style").addClass("fancybox-tmp"),h.trigger("onUpdate")),h.update())},hideLoading:function(){g.unbind(".loading"),c("#fancybox-loading").remove()},showLoading:function(){var a,b;h.hideLoading(),a=c('<div id="fancybox-loading"><div></div></div>').click(h.cancel).appendTo("body"),g.bind("keydown.loading",function(a){27===(a.which||a.keyCode)&&(a.preventDefault(),h.cancel())}),h.defaults.fixed||(b=h.getViewport(),a.css({position:"absolute",top:.5*b.h+b.y,left:.5*b.w+b.x}))},getViewport:function(){var b=h.current&&h.current.locked||!1,c={x:f.scrollLeft(),y:f.scrollTop()};return b?(c.w=b[0].clientWidth,c.h=b[0].clientHeight):(c.w=k&&a.innerWidth?a.innerWidth:f.width(),c.h=k&&a.innerHeight?a.innerHeight:f.height()),c},unbindEvents:function(){h.wrap&&l(h.wrap)&&h.wrap.unbind(".fb"),g.unbind(".fb"),f.unbind(".fb")},bindEvents:function(){var a,b=h.current;b&&(f.bind("orientationchange.fb"+(k?"":" resize.fb")+(b.autoCenter&&!b.locked?" scroll.fb":""),h.update),(a=b.keys)&&g.bind("keydown.fb",function(e){var f=e.which||e.keyCode,g=e.target||e.srcElement;return 27===f&&h.coming?!1:void!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||g&&(g.type||c(g).is("[contenteditable]"))||!c.each(a,function(a,g){return 1<b.group.length&&g[f]!==d?(h[a](g[f]),e.preventDefault(),!1):-1<c.inArray(f,g)?(h[a](),e.preventDefault(),!1):void 0}))}),c.fn.mousewheel&&b.mouseWheel&&h.wrap.bind("mousewheel.fb",function(a,d,e,f){for(var g=c(a.target||null),i=!1;g.length&&!i&&!g.is(".fancybox-skin")&&!g.is(".fancybox-wrap");)i=g[0]&&!(g[0].style.overflow&&"hidden"===g[0].style.overflow)&&(g[0].clientWidth&&g[0].scrollWidth>g[0].clientWidth||g[0].clientHeight&&g[0].scrollHeight>g[0].clientHeight),g=c(g).parent();0!==d&&!i&&1<h.group.length&&!b.canShrink&&(f>0||e>0?h.prev(f>0?"down":"left"):(0>f||0>e)&&h.next(0>f?"up":"right"),a.preventDefault())}))},trigger:function(a,b){var d,e=b||h.coming||h.current;if(e){if(c.isFunction(e[a])&&(d=e[a].apply(e,Array.prototype.slice.call(arguments,1))),!1===d)return!1;e.helpers&&c.each(e.helpers,function(b,d){d&&h.helpers[b]&&c.isFunction(h.helpers[b][a])&&h.helpers[b][a](c.extend(!0,{},h.helpers[b].defaults,d),e)}),g.trigger(a)}},isImage:function(a){return m(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return m(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var b,d,e={};if(a=o(a),b=h.group[a]||null,!b)return!1;if(e=c.extend(!0,{},h.opts,b),b=e.margin,d=e.padding,"number"===c.type(b)&&(e.margin=[b,b,b,b]),"number"===c.type(d)&&(e.padding=[d,d,d,d]),e.modal&&c.extend(!0,e,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),e.autoSize&&(e.autoWidth=e.autoHeight=!0),"auto"===e.width&&(e.autoWidth=!0),"auto"===e.height&&(e.autoHeight=!0),e.group=h.group,e.index=a,h.coming=e,!1===h.trigger("beforeLoad"))h.coming=null;else{if(d=e.type,b=e.href,!d)return h.coming=null,h.current&&h.router&&"jumpto"!==h.router?(h.current.index=a,h[h.router](h.direction)):!1;if(h.isActive=!0,("image"===d||"swf"===d)&&(e.autoHeight=e.autoWidth=!1,e.scrolling="visible"),"image"===d&&(e.aspectRatio=!0),"iframe"===d&&k&&(e.scrolling="scroll"),e.wrap=c(e.tpl.wrap).addClass("fancybox-"+(k?"mobile":"desktop")+" fancybox-type-"+d+" fancybox-tmp "+e.wrapCSS).appendTo(e.parent||"body"),c.extend(e,{skin:c(".fancybox-skin",e.wrap),outer:c(".fancybox-outer",e.wrap),inner:c(".fancybox-inner",e.wrap)}),c.each(["Top","Right","Bottom","Left"],function(a,b){e.skin.css("padding"+b,p(e.padding[a]))}),h.trigger("onReady"),"inline"===d||"html"===d){if(!e.content||!e.content.length)return h._error("content")}else if(!b)return h._error("href");"image"===d?h._loadImage():"ajax"===d?h._loadAjax():"iframe"===d?h._loadIframe():h._afterLoad()}},_error:function(a){c.extend(h.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:h.coming.tpl.error}),h._afterLoad()},_loadImage:function(){var a=h.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null,h.coming.width=this.width/h.opts.pixelRatio,h.coming.height=this.height/h.opts.pixelRatio,h._afterLoad()},a.onerror=function(){this.onload=this.onerror=null,h._error("image")},a.src=h.coming.href,!0!==a.complete&&h.showLoading()},_loadAjax:function(){var a=h.coming;h.showLoading(),h.ajaxLoad=c.ajax(c.extend({},a.ajax,{url:a.href,error:function(a,b){h.coming&&"abort"!==b?h._error("ajax",a):h.hideLoading()},success:function(b,c){"success"===c&&(a.content=b,h._afterLoad())}}))},_loadIframe:function(){var a=h.coming,b=c(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",k?"auto":a.iframe.scrolling).attr("src",a.href);c(a.wrap).bind("onReset",function(){try{c(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}}),a.iframe.preload&&(h.showLoading(),b.one("load",function(){c(this).data("ready",1),k||c(this).bind("load.fb",h.update),c(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),h._afterLoad()})),a.content=b.appendTo(a.inner),a.iframe.preload||h._afterLoad()},_preloadImages:function(){var a,b,c=h.group,d=h.current,e=c.length,f=d.preload?Math.min(d.preload,e-1):0;for(b=1;f>=b;b+=1)a=c[(d.index+b)%e],"image"===a.type&&a.href&&((new Image).src=a.href)},_afterLoad:function(){var a,b,d,e,f,g=h.coming,i=h.current;if(h.hideLoading(),g&&!1!==h.isActive)if(!1===h.trigger("afterLoad",g,i))g.wrap.stop(!0).trigger("onReset").remove(),h.coming=null;else{switch(i&&(h.trigger("beforeChange",i),i.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),h.unbindEvents(),a=g.content,b=g.type,d=g.scrolling,c.extend(h,{wrap:g.wrap,skin:g.skin,outer:g.outer,inner:g.inner,current:g,previous:i}),e=g.href,b){case"inline":case"ajax":case"html":g.selector?a=c("<div>").html(a).find(g.selector):l(a)&&(a.data("fancybox-placeholder")||a.data("fancybox-placeholder",c('<div class="fancybox-placeholder"></div>').insertAfter(a).hide()),a=a.show().detach(),g.wrap.bind("onReset",function(){c(this).find(a).length&&a.hide().replaceAll(a.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":a=g.tpl.image.replace("{href}",e);break;case"swf":a='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+e+'"></param>',f="",c.each(g.swf,function(b,c){a+='<param name="'+b+'" value="'+c+'"></param>',f+=" "+b+'="'+c+'"'}),a+='<embed src="'+e+'" type="application/x-shockwave-flash" width="100%" height="100%"'+f+"></embed></object>"}(!l(a)||!a.parent().is(g.inner))&&g.inner.append(a),h.trigger("beforeShow"),g.inner.css("overflow","yes"===d?"scroll":"no"===d?"hidden":d),h._setDimension(),h.reposition(),h.isOpen=!1,h.coming=null,h.bindEvents(),h.isOpened?i.prevMethod&&h.transitions[i.prevMethod]():c(".fancybox-wrap").not(g.wrap).stop(!0).trigger("onReset").remove(),h.transitions[h.isOpened?g.nextMethod:g.openMethod](),h._preloadImages()}},_setDimension:function(){var a,b,d,e,f,g,i,j,k,l=h.getViewport(),m=0,q=!1,r=!1,q=h.wrap,s=h.skin,t=h.inner,u=h.current,r=u.width,v=u.height,w=u.minWidth,x=u.minHeight,y=u.maxWidth,z=u.maxHeight,A=u.scrolling,B=u.scrollOutside?u.scrollbarWidth:0,C=u.margin,D=o(C[1]+C[3]),E=o(C[0]+C[2]);if(q.add(s).add(t).width("auto").height("auto").removeClass("fancybox-tmp"),C=o(s.outerWidth(!0)-s.width()),a=o(s.outerHeight(!0)-s.height()),b=D+C,d=E+a,e=n(r)?(l.w-b)*o(r)/100:r,f=n(v)?(l.h-d)*o(v)/100:v,"iframe"===u.type){if(k=u.content,u.autoHeight&&1===k.data("ready"))try{k[0].contentWindow.document.location&&(t.width(e).height(9999),g=k.contents().find("body"),B&&g.css("overflow-x","hidden"),f=g.outerHeight(!0))}catch(F){}}else(u.autoWidth||u.autoHeight)&&(t.addClass("fancybox-tmp"),u.autoWidth||t.width(e),u.autoHeight||t.height(f),u.autoWidth&&(e=t.width()),u.autoHeight&&(f=t.height()),t.removeClass("fancybox-tmp"));if(r=o(e),v=o(f),j=e/f,w=o(n(w)?o(w,"w")-b:w),y=o(n(y)?o(y,"w")-b:y),x=o(n(x)?o(x,"h")-d:x),z=o(n(z)?o(z,"h")-d:z),g=y,i=z,u.fitToView&&(y=Math.min(l.w-b,y),z=Math.min(l.h-d,z)),b=l.w-D,E=l.h-E,u.aspectRatio?(r>y&&(r=y,v=o(r/j)),v>z&&(v=z,r=o(v*j)),w>r&&(r=w,v=o(r/j)),x>v&&(v=x,r=o(v*j))):(r=Math.max(w,Math.min(r,y)),u.autoHeight&&"iframe"!==u.type&&(t.width(r),v=t.height()),v=Math.max(x,Math.min(v,z))),u.fitToView)if(t.width(r).height(v),q.width(r+C),l=q.width(),D=q.height(),u.aspectRatio)for(;(l>b||D>E)&&r>w&&v>x&&!(19<m++);)v=Math.max(x,Math.min(z,v-10)),r=o(v*j),w>r&&(r=w,v=o(r/j)),r>y&&(r=y,v=o(r/j)),t.width(r).height(v),q.width(r+C),l=q.width(),D=q.height();else r=Math.max(w,Math.min(r,r-(l-b))),v=Math.max(x,Math.min(v,v-(D-E)));B&&"auto"===A&&f>v&&b>r+C+B&&(r+=B),t.width(r).height(v),q.width(r+C),l=q.width(),D=q.height(),q=(l>b||D>E)&&r>w&&v>x,r=u.aspectRatio?g>r&&i>v&&e>r&&f>v:(g>r||i>v)&&(e>r||f>v),c.extend(u,{dim:{width:p(l),height:p(D)},origWidth:e,origHeight:f,canShrink:q,canExpand:r,wPadding:C,hPadding:a,wrapSpace:D-s.outerHeight(!0),skinSpace:s.height()-v}),!k&&u.autoHeight&&v>x&&z>v&&!r&&t.height("auto")},_getPosition:function(a){var b=h.current,c=h.getViewport(),d=b.margin,e=h.wrap.width()+d[1]+d[3],f=h.wrap.height()+d[0]+d[2],d={position:"absolute",top:d[0],left:d[3]};return b.autoCenter&&b.fixed&&!a&&f<=c.h&&e<=c.w?d.position="fixed":b.locked||(d.top+=c.y,d.left+=c.x),d.top=p(Math.max(d.top,d.top+(c.h-f)*b.topRatio)),d.left=p(Math.max(d.left,d.left+(c.w-e)*b.leftRatio)),d},_afterZoomIn:function(){var a=h.current;a&&(h.isOpen=h.isOpened=!0,h.wrap.css("overflow","visible").addClass("fancybox-opened"),h.update(),(a.closeClick||a.nextClick&&1<h.group.length)&&h.inner.css("cursor","pointer").bind("click.fb",function(b){!c(b.target).is("a")&&!c(b.target).parent().is("a")&&(b.preventDefault(),h[a.closeClick?"close":"next"]())}),a.closeBtn&&c(a.tpl.closeBtn).appendTo(h.skin).bind("click.fb",function(a){a.preventDefault(),h.close()}),a.arrows&&1<h.group.length&&((a.loop||0<a.index)&&c(a.tpl.prev).appendTo(h.outer).bind("click.fb",h.prev),(a.loop||a.index<h.group.length-1)&&c(a.tpl.next).appendTo(h.outer).bind("click.fb",h.next)),h.trigger("afterShow"),a.loop||a.index!==a.group.length-1?h.opts.autoPlay&&!h.player.isActive&&(h.opts.autoPlay=!1,h.play()):h.play(!1))},_afterZoomOut:function(a){a=a||h.current,c(".fancybox-wrap").trigger("onReset").remove(),c.extend(h,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),h.trigger("afterClose",a)}}),h.transitions={getOrigPosition:function(){var a=h.current,b=a.element,c=a.orig,d={},e=50,f=50,g=a.hPadding,i=a.wPadding,j=h.getViewport();return!c&&a.isDom&&b.is(":visible")&&(c=b.find("img:first"),c.length||(c=b)),l(c)?(d=c.offset(),c.is("img")&&(e=c.outerWidth(),f=c.outerHeight())):(d.top=j.y+(j.h-f)*a.topRatio,d.left=j.x+(j.w-e)*a.leftRatio),("fixed"===h.wrap.css("position")||a.locked)&&(d.top-=j.y,d.left-=j.x),d={top:p(d.top-g*a.topRatio),left:p(d.left-i*a.leftRatio),width:p(e+i),height:p(f+g)}},step:function(a,b){var c,d,e=b.prop;d=h.current;var f=d.wrapSpace,g=d.skinSpace;("width"===e||"height"===e)&&(c=b.end===b.start?1:(a-b.start)/(b.end-b.start),h.isClosing&&(c=1-c),d="width"===e?d.wPadding:d.hPadding,d=a-d,h.skin[e](o("width"===e?d:d-f*c)),h.inner[e](o("width"===e?d:d-f*c-g*c)))},zoomIn:function(){var a=h.current,b=a.pos,d=a.openEffect,e="elastic"===d,f=c.extend({opacity:1},b);delete f.position,e?(b=this.getOrigPosition(),a.openOpacity&&(b.opacity=.1)):"fade"===d&&(b.opacity=.1),h.wrap.css(b).animate(f,{duration:"none"===d?0:a.openSpeed,easing:a.openEasing,step:e?this.step:null,complete:h._afterZoomIn})},zoomOut:function(){var a=h.current,b=a.closeEffect,c="elastic"===b,d={opacity:.1};c&&(d=this.getOrigPosition(),a.closeOpacity&&(d.opacity=.1)),h.wrap.animate(d,{duration:"none"===b?0:a.closeSpeed,easing:a.closeEasing,step:c?this.step:null,complete:h._afterZoomOut})},changeIn:function(){var a,b=h.current,c=b.nextEffect,d=b.pos,e={opacity:1},f=h.direction;d.opacity=.1,"elastic"===c&&(a="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(d[a]=p(o(d[a])-200),e[a]="+=200px"):(d[a]=p(o(d[a])+200),e[a]="-=200px")),"none"===c?h._afterZoomIn():h.wrap.css(d).animate(e,{duration:b.nextSpeed,easing:b.nextEasing,complete:h._afterZoomIn})},changeOut:function(){var a=h.previous,b=a.prevEffect,d={opacity:.1},e=h.direction;"elastic"===b&&(d["down"===e||"up"===e?"top":"left"]=("up"===e||"left"===e?"-":"+")+"=200px"),a.wrap.animate(d,{duration:"none"===b?0:a.prevSpeed,easing:a.prevEasing,complete:function(){c(this).trigger("onReset").remove()}})}},h.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!k,fixed:!0},overlay:null,fixed:!1,el:c("html"),create:function(a){a=c.extend({},this.defaults,a),this.overlay&&this.close(),this.overlay=c('<div class="fancybox-overlay"></div>').appendTo(h.coming?h.coming.parent:a.parent),this.fixed=!1,a.fixed&&h.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var b=this;a=c.extend({},this.defaults,a),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a),this.fixed||(f.bind("resize.overlay",c.proxy(this.update,this)),this.update()),a.closeClick&&this.overlay.bind("click.overlay",function(a){return c(a.target).hasClass("fancybox-overlay")?(h.isActive?h.close():b.close(),!1):void 0}),this.overlay.css(a.css).show()},close:function(){var a,b;f.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(c(".fancybox-margin").removeClass("fancybox-margin"),a=f.scrollTop(),b=f.scrollLeft(),this.el.removeClass("fancybox-lock"),f.scrollTop(a).scrollLeft(b)),c(".fancybox-overlay").remove().hide(),c.extend(this,{overlay:null,fixed:!1})},update:function(){var a,c="100%";this.overlay.width(c).height("100%"),i?(a=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),g.width()>a&&(c=g.width())):g.width()>f.width()&&(c=g.width()),this.overlay.width(c).height(g.height())},onReady:function(a,b){var d=this.overlay;c(".fancybox-overlay").stop(!0,!0),d||this.create(a),a.locked&&this.fixed&&b.fixed&&(d||(this.margin=g.height()>f.height()?c("html").css("margin-right").replace("px",""):!1),b.locked=this.overlay.append(b.wrap),b.fixed=!1),!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){var d,e;b.locked&&(!1!==this.margin&&(c("*").filter(function(){return"fixed"===c(this).css("position")&&!c(this).hasClass("fancybox-overlay")&&!c(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),d=f.scrollTop(),e=f.scrollLeft(),this.el.addClass("fancybox-lock"),f.scrollTop(d).scrollLeft(e)),this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!h.coming&&this.overlay.fadeOut(a.speedOut,c.proxy(this.close,this))}},h.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var b=h.current,d=b.title,e=a.type;if(c.isFunction(d)&&(d=d.call(b.element,b)),m(d)&&""!==c.trim(d)){switch(b=c('<div class="fancybox-title fancybox-title-'+e+'-wrap">'+d+"</div>"),e){case"inside":e=h.skin;break;case"outside":e=h.wrap;break;case"over":e=h.inner;break;default:e=h.skin,b.appendTo("body"),i&&b.width(b.width()),b.wrapInner('<span class="child"></span>'),h.current.margin[2]+=Math.abs(o(b.css("margin-bottom")))}b["top"===a.position?"prependTo":"appendTo"](e)}}},c.fn.fancybox=function(a){var b,d=c(this),e=this.selector||"",f=function(f){var g,i,j=c(this).blur(),k=b;!(f.ctrlKey||f.altKey||f.shiftKey||f.metaKey||j.is(".fancybox-wrap")||(g=a.groupAttr||"data-fancybox-group",i=j.attr(g),i||(g="rel",i=j.get(0)[g]),i&&""!==i&&"nofollow"!==i&&(j=e.length?c(e):d,j=j.filter("["+g+'="'+i+'"]'),k=j.index(this)),a.index=k,!1===h.open(j,a)||!f.preventDefault()))};return a=a||{},b=a.index||0,e&&!1!==a.live?g.undelegate(e,"click.fb-start").delegate(e+":not('.fancybox-item, .fancybox-nav')","click.fb-start",f):d.unbind("click.fb-start").bind("click.fb-start",f),this.filter("[data-fancybox-start=1]").trigger("click"),this},g.ready(function(){var b,f;if(c.scrollbarWidth===d&&(c.scrollbarWidth=function(){var a=c('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();return a.remove(),b}),c.support.fixedPosition===d){b=c.support,f=c('<div style="position:fixed;top:20px;"></div>').appendTo("body");var g=20===f[0].offsetTop||15===f[0].offsetTop;f.remove(),b.fixedPosition=g}c.extend(h.defaults,{scrollbarWidth:c.scrollbarWidth(),fixed:c.support.fixedPosition,parent:c("body")}),b=c(a).width(),e.addClass("fancybox-lock-test"),f=c(a).width(),e.removeClass("fancybox-lock-test"),c("<style type='text/css'>.fancybox-margin{margin-right:"+(f-b)+"px;}</style>").appendTo("head")})}(window,document,jQuery),define("fancybox",["jquery"],function(){}),function(){var $,a,b,c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},a.prototype.escapeExpression=function(a){var b,c;return null==a||a===!1?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},a}(),c.select_to_array=function(a){var b,d,e,f,g;for(d=new c,g=a.childNodes,e=0,f=g.length;f>e;e++)b=g[e],d.add_node(b);return d.parsed},a=function(){function a(b,c){this.form_field=b,this.options=null!=c?c:{},a.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return a.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},a.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},a.prototype.input_blur=function(){var a=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return a.blur_test()},100))},a.prototype.results_option_build=function(a){var b,c,d,e,f;for(b="",f=this.results_data,d=0,e=f.length;e>d;d++)c=f[d],b+=c.group?this.result_add_group(c):this.result_add_option(c),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text));return b},a.prototype.result_add_option=function(a){var b,c;return a.search_match&&this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,this.outerHTML(c)):""
},a.prototype.result_add_group=function(a){var b;return(a.search_match||a.group_match)&&a.active_options>0?(b=document.createElement("li"),b.className="group-result",b.innerHTML=a.search_text,this.outerHTML(b)):""},a.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},a.prototype.reset_single_select_options=function(){var a,b,c,d,e;for(d=this.results_data,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.selected?a.selected=!1:void 0);return e},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(this.no_results_clear(),d=0,f=this.get_search_text(),a=f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=new RegExp(a,"i"),c=this.get_search_regex(a),l=this.results_data,j=0,k=l.length;k>j;j++)b=l[j],b.search_match=!1,e=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(e=this.results_data[b.group_array_index],0===e.active_options&&e.search_match&&(d+=1),e.active_options+=1),(!b.group||this.group_search)&&(b.search_text=b.group?b.label:b.text,b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(d+=1),b.search_match?(f.length&&(g=b.search_text.search(i),h=b.search_text.substr(0,g+f.length)+"</em>"+b.search_text.substr(g+f.length),b.search_text=h.substr(0,g)+"<em>"+h.substr(g)),null!=e&&(e.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this.result_clear_highlight(),1>d&&f.length?(this.update_results_content(""),this.no_results(f)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},a.prototype.get_search_regex=function(a){var b;return b=this.search_contains?"":"^",new RegExp(b+a,"i")},a.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;f>e;e++)if(c=d[e],b.test(c))return!0},a.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},a.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},a.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},a.prototype.clipboard_event_checker=function(){var a=this;return setTimeout(function(){return a.results_search()},50)},a.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},a.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},a.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},a.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},a.prototype.search_results_touchend=function(a){return this.touch_started?this.search_results_mouseup(a):void 0},a.prototype.outerHTML=function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},a.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},a.default_multiple_text="Select Some Options",a.default_single_text="Select an Option",a.default_no_result_text="No results match",a}(),$=jQuery,$.fn.extend({chosen:function(c){return a.browser_is_supported()?this.each(function(){var a,d;a=$(this),d=a.data("chosen"),"destroy"===c&&d instanceof b?d.destroy():d instanceof b||a.data("chosen",new b(this,c))}):this}}),b=function(a){function b(){return d=b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.setup=function(){return this.form_field_jq=$(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},b.prototype.set_up_html=function(){var a,b;return a=["chosen-container"],a.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&a.push(this.form_field.className),this.is_rtl&&a.push("chosen-rtl"),b={"class":a.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(b.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=$("<div />",b),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},b.prototype.register_observers=function(){var a=this;return this.container.bind("touchstart.chosen",function(b){a.container_mousedown(b)}),this.container.bind("touchend.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)}),this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)}),this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)}),this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},b.prototype.destroy=function(){return $(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},b.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},b.prototype.container_mousedown=function(a){return this.is_disabled||(a&&"mousedown"===a.type&&!this.results_showing&&a.preventDefault(),null!=a&&$(a.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!a||$(a.target)[0]!==this.selected_item[0]&&!$(a.target).parents("a.chosen-single").length||(a.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),$(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},b.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},b.prototype.search_results_mousewheel=function(a){var b;return a.originalEvent&&(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},b.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},b.prototype.close_field=function(){return $(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},b.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},b.prototype.test_active_click=function(a){var b;return b=$(a.target).closest(".chosen-container"),b.length&&this.container[0]===b[0]?this.active_field=!0:this.close_field()},b.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=c.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},b.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},b.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},b.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},b.prototype.update_results_content=function(a){return this.search_results.html(a)},b.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},b.prototype.set_tab_index=function(){var a;return this.form_field.tabIndex?(a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a):void 0},b.prototype.set_label_behavior=function(){var a=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=$("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(b){return a.is_multiple?a.container_mousedown(b):a.activate_field()}):void 0},b.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},b.prototype.search_results_mouseup=function(a){var b;return b=$(a.target).hasClass("active-result")?$(a.target):$(a.target).parents(".active-result").first(),b.length?(this.result_highlight=b,this.result_select(a),this.search_field.focus()):void 0},b.prototype.search_results_mouseover=function(a){var b;return b=$(a.target).hasClass("active-result")?$(a.target):$(a.target).parents(".active-result").first(),b?this.result_do_highlight(b):void 0},b.prototype.search_results_mouseout=function(a){return $(a.target).hasClass("active-result")?this.result_clear_highlight():void 0},b.prototype.choice_build=function(a){var b,c,d=this;return b=$("<li />",{"class":"search-choice"}).html("<span>"+a.html+"</span>"),a.disabled?b.addClass("search-choice-disabled"):(c=$("<a />",{"class":"search-choice-close","data-option-array-index":a.array_index}),c.bind("click.chosen",function(a){return d.choice_destroy_link_click(a)}),b.append(c)),this.search_container.before(b)},b.prototype.choice_destroy_link_click=function(a){return a.preventDefault(),a.stopPropagation(),this.is_disabled?void 0:this.choice_destroy($(a.target))},b.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},b.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},b.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},b.prototype.result_select=function(a){var b,c;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(c.text),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},b.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(a)},b.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},b.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},b.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":$("<div/>").text($.trim(this.search_field.val())).html()},b.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},b.prototype.no_results=function(a){var b;return b=$('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),b.find("span").first().html(a),this.search_results.append(b),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},b.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},b.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},b.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},b.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},b.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},b.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},b.prototype.search_field_scale=function(){var a,b,c,d,e,f,g,h,i;if(this.is_multiple){for(c=0,g=0,e="position:absolute; left: -1000px; top: -1000px; display:none;",f=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],h=0,i=f.length;i>h;h++)d=f[h],e+=d+":"+this.search_field.css(d)+";";return a=$("<div />",{style:e}),a.text(this.search_field.val()),$("body").append(a),g=a.width()+25,a.remove(),b=this.container.outerWidth(),g>b-10&&(g=b-10),this.search_field.css({width:g+"px"})}},b}(a)}.call(this),define("chosen",["jquery"],function(){}),define("page",["jquery","underscore","backbone","views/base","stellar","lib/breakpoints","views/tooltips","fancybox","chosen"],function($,_,Backbone,a,b,c,d){var e=($(document),$(window)),f=$(document.documentElement),g=!1,h=$(".footer").outerHeight(),i=a.extend({events:{'click a[rel="external"]':"openExternalWindow","click .js-mobile-nav-toggle":"mobileNavClick","click .js-venobox":"venoboxImgClick"},initialize:function(){this.initSubViews(),this.initEvents(),this.initPlugins(),this.initToolTips()},initToolTips:function(){new d({el:this.el,selector:".js-tooltip-target"})},initSubViews:function(){$("[data-controller]").each(function(){var a=$(this).data("controller"),b="views/"+a,c=$(this);require([b],function(a){new a({el:c})})})},initEvents:function(){var a=_.bind(this.setFixedNav,this),b=_.bind(this.setModuleHeight,this),c=_.bind(this.setStickyFooter,this),d=_.bind(this.checkFooterHeight,this);c(),Modernizr.addTest("ios6",function(){var a,c=!1;return/iP(hone|od|ad)/.test(navigator.platform)&&(a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=parseInt(a[1],10),f.addClass("ios")),6==c&&(g=!0),g&&(viewportHeight=$(window).height(),b(viewportHeight)),g}),e.scroll(a),$(window).resize(function(){a(),d(),g&&(viewportHeight=$(window).height(),b(viewportHeight))})},initPlugins:function(){Modernizr.touch||$(window).stellar({responsive:!0}),this.$el.find(".js-fancybox").fancybox({openEffect:"elastic",closeEffect:"elastic",helpers:{title:{type:"outside"},thumbs:{width:50,height:50}}}),this.$el.find(".js-selectmenu").chosen({disable_search:!0,inherit_select_classes:!0})},openExternalWindow:function(a){window.open($(a.currentTarget).attr("href")),a.preventDefault()},mobileNavClick:function(){var a=$(".js-inner-wrapper");$("body").hasClass("nav-open")?setTimeout(function(){a.css("overflow-x","hidden")},300):a.css("overflow-x","visible"),$("body").toggleClass("nav-open")},setFixedNav:function(){var a=$(".js-header--main"),b=$(".header--utility").height();a.css("sm"==c.breakpoint?{position:"static"}:e.scrollTop()>b?{position:"fixed",top:"0"}:{position:"relative"})},setModuleHeight:function(a){$(".browser-size-image").css("height",a)},venoboxImgClick:function(a){a.preventDefault()},checkFooterHeight:function(){var a=$(".footer").outerHeight();a!=h&&this.setStickyFooter()},setStickyFooter:function(){$("main",$("body.blurb-main-site")).css("padding-bottom",h)}});return i}),require(["underscore","config"],function(_,a){_.mixin({compactObject:function(a){var b=_.clone(a);return _.each(b,function(a,c){null===a&&delete b[c]}),b},getAssetPath:function(b){var c=a.assetBasePath+b;return c}})}),define("lib/helpers",function(){}),requirejs.config({baseUrl:"/assets/js/",paths:{jquery:"vendor/jquery/jquery",backbone:"vendor/backbone/backbone",underscore:"vendor/underscore/underscore",stellar:"vendor/jquery.stellar/jquery.stellar.min",page:"views/page",text:"lib/require/text",templates:"../templates",qtip2:"vendor/qtip2/jquery.qtip.min",velocity:"vendor/velocity/jquery.velocity",fancybox:"vendor/fancybox/source/jquery.fancybox.pack",fancybox_media:"vendor/fancybox/source/jquery.fancybox-media",jquery_ui:"vendor/jquery-ui/jquery-ui",config:"config/config",chosen:"vendor/chosen/chosen.jquery",i18n:"lib/i18n"},shim:{jquery:{exports:"$"},underscore:{exports:"_"},backbone:{deps:["underscore","jquery"],exports:"Backbone"},chosen:{deps:["jquery"]},stellar:{deps:["jquery"]},qtip2:{deps:["jquery"]},fancybox:{deps:["jquery"]},fancybox_media:{deps:["fancybox"]},velocity:{deps:["jquery"]},jquery_ui:{deps:["jquery"]},i18n:{exports:"I18n"},page:{deps:["text","locales/de","locales/en-gb","locales/en","locales/es","locales/fr","locales/it","locales/nl","locales/pt","views/bannerCarousel","views/browserSizeImage","views/bentoGrid","views/bookAnimation","views/buildkit","views/coloredHeaderColumn","views/controlsNav","views/formats","views/heroBento","views/heroSlides","views/heroSlides/slideSet","views/horizontalTabs","views/imageCarouselFull","views/languageSelect","views/pricing","views/pricingDev","views/popUpCarousel","views/post","views/productVisualizer","views/search","views/tooltips","views/templateSelector","views/pricing"],exports:"page"}}}),"undefined"==typeof console){var console={};console.log=console.error=console.info=console.debug=console.warn=console.trace=console.dir=console.dirxml=console.group=console.groupEnd=console.time=console.timeEnd=console.assert=console.profile=function(){}}var Blurb=Blurb||{};require(["jquery","underscore","backbone","i18n","page","lib/helpers"],function($,_,Backbone,a,b){a.fallbacks=!0,a.defaultLocale="en","undefined"!=typeof Blurb.locale&&(a.locale=Blurb.locale);new b({el:$("body")})}),define("main",function(){});